"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,t,n){n.d(t,{default:()=>I});var a,i,r=n(467),o=n(6483),s=n(8925),d=n(5767),c=n(9566),l=n(3422),u=n(5314),p=n(3459),f=n(3251),v=n(1238),h=n(1531),b=n(4884),y=n(9499),m=n(6052),L=n(4294),g=n(8379),w=n(540),C=n(6082),k=n(6091),S=n(904),E=n(1351),_=n(3030),x=n(2174),T=n(8380),A=n(5693),D=n(7891),F=n(8279),M=n(7908),P=n(5286),q=n(4690),Y=n(3041),B=n(752),N=n(5009),z=n(6104),R=n(6166),U=n(2994),$=n(9469),j=(n(4800),n(5259),n(6764),n(2684),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(3058),n(1102),n(7868),n(6388),n(3127),n(1743),n(1306),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(5297),n(7499),n(4953),n(7114),n(9657),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),H=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!j){j=!0,(0,S.g)(),yield(0,p.d)(),yield(0,c.c)(),(0,k.b)(),(0,w.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,k.a)(),(0,w.a)(),(0,q.c)(),(0,_.c)(),(0,N.c)(),(0,L.c)(),(0,N.e)(),window.addEventListener("resize",function(){(0,N.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,N.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,h.a)(),(0,v.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.h)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(a=(0,r.a)(function*(){H||(H=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,C.b)(),yield(0,o.c)(),yield(0,d.b)(),yield(0,u.a)(),yield(0,s.b)(),yield(0,d.d)(),yield(0,d.e)())}),function(){return a.apply(this,arguments)}),route:{closeRoute:q.a,closeRouteDetails:P.e},location:{closeLocation:_.a,closeLocationDetails:E.a},folder:{closeSaveToFolder:Y.a,closeFolderManager:g.a,closeIconSelector:L.a,closeFolderCreator:m.a},search:{openSearch:N.d,closeSearch:N.a,switchSearchTypeFilter:N.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:z.f,closeSettings:z.a,closeSettingsOptions:R.a},bus:{closeBus:b.b},notification:{closeNotificationScheduleManager:x.a,openRegisterNotification:M.b,closeScheduleNotification:B.a},qrcode:{closeQRCode:F.a}};const I=window.bus},4884(e,t,n){n.d(t,{a:()=>g,b:()=>S,c:()=>C,d:()=>k,e:()=>w});var a=n(467),i=n(6160),r=n(5314),o=n(3459),s=n(8179),d=n(8024),c=n(904),l=n(4537),u=[],p=!1,f=!1;function v(){var e=(0,s.a)();e.classList.add("ur");var t=(0,s.a)();t.classList.add("vr"),t.appendChild((0,l.a)());var n=(0,s.a)();return n.classList.add("wr"),e.appendChild(t),e.appendChild(n),e}function h(e,t,n){function a(e,a,i){function r(e,t){var n=(0,s.e)(e,".vr");(0,l.c)(n,t.icon)}function o(e,t){(0,s.e)(e,".wr").innerText=t.value}function c(e,t){e.setAttribute("animation",t)}function u(e,t){e.setAttribute("skeleton-screen",t)}null==i?(r(e,a),o(e,a),u(e,t),c(e,n)):((0,d.b)(i,a)||r(e,a),(0,d.b)(i,a)||o(e,a),t!==p&&u(e,t),n!==f&&c(e,n))}var i=e.length,r=Array.from((0,s.d)(g,".ur")),o=r.length;if(i!==o){var c=o-i;if(c<0){for(var h=new DocumentFragment,b=0;b>c;b--){var y=v();h.appendChild(y),r.push(y)}g.append(h)}else if(c>0)for(var m=o-1,L=o-c-1;m>L;m--)r[m].remove(),r.splice(m,1)}for(var w=0;w<i;w++){var C=r[w],k=e[w];u[w]?a(C,k,u[w]):a(C,k,null)}u=e,f=n,p=t}var b=(0,s.c)(".ir"),y=((0,s.e)(b,".jr"),(0,s.e)(b,".nr")),m=(0,s.e)(y,".or"),L=(0,s.e)(m,'.pr[group="properties"]'),g=(0,s.e)(L,".tr");(0,s.e)(m,'.pr[group="location"]');function w(e){var t="ltr"===e?"qd":"rd";b.addEventListener("animationend",function(){b.classList.remove(t)},{once:!0}),b.classList.add(t),b.setAttribute("displayed","true")}function C(e){var t="ltr"===e?"sd":"td";b.addEventListener("animationend",function(){b.setAttribute("displayed","false"),b.classList.remove(t)},{once:!0}),b.classList.add(t)}function k(e){(0,c.c)("Bus"),(0,r.e)("bus",e),w("rtl"),function(e){E.apply(this,arguments)}(e),(0,c.b)()}function S(){C("ltr"),(0,c.i)(),(0,c.e)("Bus")}function E(){return(E=(0,a.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),t=[],n=0;n<5;n++)t.push({key:n,icon:"",value:""});h(t,!0,e)}();var t=(0,o.b)("playing_animation"),n=(0,d.c)();h((yield(0,i.a)(e,n)).properties,!1,t)})).apply(this,arguments)}},6052(e,t,n){n.d(t,{a:()=>_,b:()=>S,c:()=>E,d:()=>k});var a=n(467),i=n(9566),r=n(8179),o=n(4294),s=n(904),d=n(9119),c=(0,r.c)(".dt"),l=(0,r.e)(c,".et"),u=(0,r.e)(l,".gt"),p=(0,r.e)(c,".it"),f=(0,r.e)(p,".jt"),v=(0,r.e)(f,'.kt[group="folder-name"]'),h=(0,r.e)(v,".ot"),b=(0,r.e)(h,"input"),y=(0,r.e)(f,'.kt[group="folder-icon"]'),m=(0,r.e)(y,".ot"),L=(0,r.e)(m,".pt input"),g=(0,r.e)(f,".pt .qt");function w(){return(w=(0,a.a)(function*(e){var t=b.value,n=L.value;(yield(0,i.a)(t,n))?(_(),(0,d.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,d.a)("error","無法建立資料夾")})).apply(this,arguments)}function C(e){b.value="",L.value="",u.onclick=function(){!function(e){w.apply(this,arguments)}(e)},g.onclick=function(){(0,o.d)(L)}}function k(e){var t="ltr"===e?"qd":"rd";c.addEventListener("animationend",function(){c.classList.remove(t)},{once:!0}),c.classList.add(t),c.setAttribute("displayed","true")}function S(e){var t="ltr"===e?"sd":"td";c.addEventListener("animationend",function(){c.setAttribute("displayed","false"),c.classList.remove(t)},{once:!0}),c.classList.add(t)}function E(e){(0,s.c)("FolderCreator"),C(e),k("rtl"),(0,s.b)()}function _(){S("ltr"),(0,s.i)(),(0,s.e)("FolderCreator")}},8379(e,t,n){n.d(t,{a:()=>w,b:()=>L,c:()=>g,d:()=>m});var a=n(467),i=n(9566),r=n(8179),o=n(6052),s=n(9333),d=n(4537),c=n(904),l=(0,r.c)(".xr"),u=(0,r.e)(l,".bs"),p=(0,r.e)(u,".cs"),f=(0,r.e)(l,".yr"),v=(0,r.e)(f,"._r");function h(e){var t=(0,r.a)();t.classList.add("ds"),t.onclick=function(){(0,s.b)(e.id,function(){b()})};var n=(0,r.a)();n.classList.add("es"),n.appendChild((0,d.b)(e.icon));var a=(0,r.a)();a.classList.add("fs"),a.innerText=e.name;var i=(0,r.a)();i.classList.add("gs"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("hs"),o.appendChild((0,d.b)("arrow_forward_ios")),t.appendChild(n),t.appendChild(a),t.appendChild(i),t.appendChild(o),t}function b(){return y.apply(this,arguments)}function y(){return(y=(0,a.a)(function*(){v.onclick=function(){(0,o.c)(function(){b()})};var e=yield(0,i.h)();p.innerHTML="";var t=new DocumentFragment;for(var n of e){var a=h(n);t.appendChild(a)}p.append(t)})).apply(this,arguments)}function m(e){var t="ltr"===e?"qd":"rd";l.addEventListener("animationend",function(){l.classList.remove(t)},{once:!0}),l.classList.add(t),l.setAttribute("displayed","true")}function L(e){var t="ltr"===e?"sd":"td";l.addEventListener("animationend",function(){l.setAttribute("displayed","false"),l.classList.remove(t)},{once:!0}),l.classList.add(t)}function g(){(0,c.c)("FolderManager"),m("rtl"),b(),(0,c.b)()}function w(){L("ltr"),(0,c.i)(),(0,c.e)("FolderManager")}},9333(e,t,n){n.d(t,{a:()=>C,b:()=>k,c:()=>w});var a=n(467),i=n(9566),r=n(8179),o=n(4294),s=n(4537),d=n(904),c=n(9119),l=(0,r.c)(".is"),u=(0,r.e)(l,".js"),p=(0,r.e)(u,".ks"),f=(0,r.e)(l,".ms"),v=(0,r.e)(f,".ns"),h=(0,r.e)(v,'.os[group="folder-name"] .ss input'),b=(0,r.e)(v,'.os[group="folder-icon"] .ss .ts input'),y=(0,r.e)(v,'.os[group="folder-icon"] .ss .ts .us'),m=(0,r.e)(v,'.os[group="folder-content"] .ss');function L(e,t){var n=(0,r.a)();n.classList.add("vs"),n.setAttribute("type",t.type);var a="",o="",d="";switch(t.type){case"stop":d="location_on",a=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,o=t.name;break;case"route":d="route",a=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,o=t.name;break;case"location":d="location_on",a="地點",o=t.name;break;case"bus":a="",o=t.name;break;case"empty":d="lightbulb",a="提示",o="沒有內容";break;default:d="",a="null",o="null"}var l=(0,r.a)();l.classList.add("ws"),l.appendChild((0,s.b)(d));var u=(0,r.a)();u.classList.add("xs"),u.innerText=a;var p=(0,r.a)();p.classList.add("ys"),p.innerText=o;var f=(0,r.a)();f.classList.add("zs");var v=(0,r.a)();v.classList.add("_s"),v.appendChild((0,s.b)("keyboard_arrow_down")),v.onclick=function(){S(n,e.id,t.type,t.id,"up")};var h=(0,r.a)();h.classList.add("at"),h.appendChild((0,s.b)("keyboard_arrow_down")),h.onclick=function(){S(n,e.id,t.type,t.id,"down")};var b=(0,r.a)();b.classList.add("bt"),b.appendChild((0,s.b)("delete")),b.onclick=function(){!function(e,t,n,a){(0,i.k)(t,n,a).then(function(t){if(t)switch(e.remove(),n){case"stop":(0,c.a)("delete","已移除站牌");break;case"route":(0,c.a)("delete","已移除路線");break;case"location":(0,c.a)("delete","已移除地點")}else(0,c.a)("error","無法移除")})}(n,e.id,t.type,t.id)};var y=(0,r.a)();y.classList.add("ct");var m=(0,r.a)();return m.classList.add("ct"),f.appendChild(v),f.appendChild(h),f.appendChild(b),f.appendChild(y),f.appendChild(m),n.appendChild(l),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function g(){return g=(0,a.a)(function*(e,t){var n=(0,i.b)(e),a=yield(0,i.g)(e);"boolean"!=typeof n&&!1!==n&&(p.onclick=function(){!function(e,t){E.apply(this,arguments)}(n.id,t)},h.value=n.name,b.value=n.icon,function(e,t){m.innerHTML="";var n=new DocumentFragment;for(var a of t){var i=L(e,a);n.appendChild(i)}m.append(n)}(n,a))}),g.apply(this,arguments)}function w(e){var t="ltr"===e?"qd":"rd";l.addEventListener("animationend",function(){l.classList.remove(t)},{once:!0}),l.classList.add(t),l.setAttribute("displayed","true")}function C(e){var t="ltr"===e?"sd":"td";l.addEventListener("animationend",function(){l.setAttribute("displayed","false"),l.classList.remove(t)},{once:!0}),l.classList.add(t)}function k(e,t){(0,d.c)("FolderEditor"),w("rtl"),function(e,t){g.apply(this,arguments)}(e,t),(0,d.b)()}function S(e,t,n,a,r){(0,i.p)(t,n,a,r).then(function(t){if(t)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,c.a)("arrow_circle_up","已往上移");break;case"down":var a=e.nextElementSibling;a&&e.parentNode.insertBefore(a,e),(0,c.a)("arrow_circle_down","已往下移")}else(0,c.a)("error","無法移動")})}function E(){return(E=(0,a.a)(function*(e,t){var n=h.value,a=b.value;(yield(0,i.q)(e,n,a))?(C("ltr"),(0,d.i)(),(0,d.e)("FolderEditor"),(0,c.a)("check_circle","已儲存變更"),"function"==typeof t&&t()):(0,c.a)("error","無法儲存")})).apply(this,arguments)}y.onclick=function(){(0,o.d)(b)}},9499(e,t,n){n.d(t,{a:()=>C,b:()=>g,c:()=>w,d:()=>L});var a=n(467),i=n(8925),r=n(7183),o=n(8179),s=n(5579),d=n(904),c=(0,o.c)(".rt"),l=(0,o.e)(c,".vt"),u=(0,o.e)(l,".wt"),p=(0,o.e)(l,".xt"),f=(0,o.e)(p,'.yt[name="total-data-usage"] ._t'),v=(0,o.e)(p,'.yt[name="max-data-usage-per-minute"] ._t'),h=(0,o.e)(p,'.yt[name="min-data-usage-per-minute"] ._t'),b=(0,o.e)(p,'.yt[name="start-time"] ._t'),y=(0,o.e)(p,'.yt[name="end-time"] ._t');function m(){return(m=(0,a.a)(function*(){var e=(0,d.d)("window"),t=e.width,n=Math.min(5/18*t,.33*e.height),a=yield(0,i.c)(t,n,20);f.innerText=(0,r.a)(a.stats.sum),v.innerText=(0,r.a)(a.stats.max),h.innerText=(0,r.a)(a.stats.min),b.innerText=(0,s.c)(a.period.start,"YYYY-MM-DD"),y.innerText=(0,s.c)(a.period.end,"YYYY-MM-DD"),u.innerHTML=a.chart})).apply(this,arguments)}function L(e){var t="ltr"===e?"qd":"rd";c.addEventListener("animationend",function(){c.classList.remove(t)},{once:!0}),c.classList.add(t),c.setAttribute("displayed","true")}function g(e){var t="ltr"===e?"sd":"td";c.addEventListener("animationend",function(){c.setAttribute("displayed","false"),c.classList.remove(t)},{once:!0}),c.classList.add(t)}function w(){(0,d.c)("DataUsage"),L("rtl"),function(){m.apply(this,arguments)}(),(0,d.b)()}function C(){g("ltr"),(0,d.i)(),(0,d.e)("DataUsage")}}}]);
//# sourceMappingURL=f8178eae19f0ecc45fba.js.map