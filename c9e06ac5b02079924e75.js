!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("bus",[],r):"object"==typeof exports?exports.bus=r():e.bus=r()}(self,()=>(()=>{"use strict";var e,r,t={2648(e,r,t){t.d(r,{$:()=>u});var n=t(7968);function o(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return a(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw i}}}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var i=t(157);function u(e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,f=[[[-1,0],[0,-1]],[[0,-1],[1,0]],[[1,0],[0,1]],[[0,1],[-1,0]]],l=[[[-1,0],[-1,-1],[0,-1]],[[0,-1],[1,-1],[1,0]],[[1,0],[1,1],[0,1]],[[0,1],[-1,1],[-1,0]]],s=function(e,r){for(var t=i.create(e,{errorCorrectionLevel:r}),n=t.modules.size,o=[],a=0;a<n;a++){for(var u=[],c=0;c<n;c++){var f=t.modules.get(c,a);u.push(f)}o.push(u)}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L"),d=s.length,p=[],h=0;h<d;h++)for(var v=0;v<d;v++)if(1===s[h][v]){for(var y=new Uint8Array(4),g=0;g<4;g++){var m,b=1,w=o(f[g]);try{for(w.s();!(m=w.n()).done;){var S,k=m.value;1===(null===(S=s[h+k[1]])||void 0===S?void 0:S[v+k[0]])&&(b*=0)}}catch(e){w.e(e)}finally{w.f()}y[g]=b}p=p.concat((0,n.mX)((v+a)*c,(h+a)*c,1*c,1*c,{tl:y[0]*r*c,tr:y[1]*r*c,br:y[2]*r*c,bl:y[3]*r*c},!1))}else{for(var x=new Uint8Array(4),$=0;$<4;$++){var j,A=1,M=o(l[$]);try{for(M.s();!(j=M.n()).done;){var D,I=j.value;null!==(D=s[h+I[1]])&&void 0!==D&&D[v+I[0]]||(A*=0)}}catch(e){M.e(e)}finally{M.f()}x[$]=A}x.some(function(e){return 0!==e})&&(p=p.concat((0,n.mX)((v+a)*c,(h+a)*c,1*c,1*c,{tl:x[0]*t*c,tr:x[1]*t*c,br:x[2]*t*c,bl:x[3]*t*c},!0)))}return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${(d+2*a)*c} ${(d+2*a)*c}" shape-rendering="geometricPrecision"><path d="${p.join(" ")}" fill="${u}" stroke="${u}" stroke-width="0.1" stroke-linejoin="round" fill-rule="nonzero" /></svg>`}},4256(e,r,t){t.d(r,{_q:()=>f,bj:()=>u,pD:()=>c});var n=t(2129),o=t(2945);function a(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return i(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw a}}}}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function u(e){var r=[{suffixes:"市",key:"city",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"區",key:"district",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"鄉鎮村里",key:"area",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"路街道",key:"road",process:function(e){return null===e?null:e.map(function(e){return e.replaceAll(/[\(\)（）]/gim,"").trim()})},type:0},{suffixes:"段",key:"road_section",process:function(e){for(var r=function(e){switch(e){case"一":return 1;case"二":return 2;case"三":return 3;case"四":return 4;case"五":return 5;case"六":return 6;case"七":return 7;case"八":return 8;case"九":return 9;case"十":return 10}return isNaN(parseInt(e))?0:parseInt(e)},t=String(e).length,n=[],o=0;o<t;o++){var a=r(String(e).charAt(o));10===a?n.length>0&&(n=[10*n.reduce(function(e,r){return e+r},0)]):n=[n.reduce(function(e,r){return e+r},0)+a]}return n},type:0},{suffixes:"巷",key:"alley",process:function(e){return null===e?null:e.map(function(e){return parseInt(e.trim().replaceAll(/[巷]/gim))})},type:0},{suffixes:"弄",key:"alley_branch",process:function(e){return null===e?null:e.map(function(e){return parseInt(e.trim().replaceAll(/[弄]/gim))})},type:0},{suffixes:"號",key:"doorplate",process:function(e){var r,t=String(e).match(/[0-9]+/gim);return t=(null===(r=t)||void 0===r?void 0:r.map(function(e){return null===e?null:parseInt(e)}))||null},type:0},{suffixes:"樓",key:"floornumber",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{key:"exit",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:2},{key:"direction",process:function(e){return null===e?null:e.map(function(e){return e.trim().replace(/[往向]/gim,"")})},type:1}];function t(e){function t(e,r){return 0===r?new RegExp(`([^市區鄉鎮村里路段街道巷弄號樓與]+[${e}])`,"gmi"):1===r?new RegExp("([往向]+[東南西北])","gmi"):2===r?new RegExp("([0-9]+[號]出口)","gmi"):void 0}for(var n={},o=0,a=r;o<a.length;o++){var i,u=a[o],c=t(null===(i=u)||void 0===i?void 0:i.suffixes,u.type);n[u.key]=u.process(String(e).match(c))}return n}return function(e){var n,o={},i=a(e);try{for(i.s();!(n=i.n()).done;)for(var u=t(n.value),c=0,f=r;c<f.length;c++){var l=f[c];o.hasOwnProperty(l.key)||(o[l.key]=[]),o[l.key]=o[l.key].concat(u[l.key])}}catch(e){i.e(e)}finally{i.f()}for(var s in o)o[s]=Array.from(new Set(o[s])).filter(function(e){return!!e}).sort(function(e,r){return"number"==typeof e&&"number"==typeof r?e-r:String(e).charCodeAt(0)-String(r).charCodeAt(0)});return o}(e)}function c(e){return`${e.city.join("")}${e.district.join("")}${e.road.join("、")}${e.road_section.sort(function(e,r){return e-r}).length>0?e.road_section.join("、")+"段":""}${e.alley.length>0?e.alley.sort(function(e,r){return e-r}).join("、")+"巷":""}${e.alley_branch.length>0?e.alley_branch.sort(function(e,r){return e-r}).join("、")+"弄":""}${e.doorplate.length>0?e.doorplate.sort(function(e,r){return e-r}).join("、")+"號":""}${e.floornumber.length>0?e.floornumber.join("、")+"樓":""}${e.direction.length>0?"（朝"+e.direction.join("、")+"）":""}`}function f(e){var r,t=[],i={},u=a(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;for(var f in c)i.hasOwnProperty(f)||(i[f]=0),c[f].length>0&&(i[f]=i[f]+1)}}catch(e){u.e(e)}finally{u.f()}var l=Object.entries(i).map(function(e){return{key:e[0],value:e[1]}}).filter(function(r){return r.value===e.length}).sort(function(e,r){return e.value-r.value});if(l.length>0){var s,d=a(l);try{for(d.s();!(s=d.n()).done;){var p,h=s.value,v=[],y=-1/0,g=a(e);try{for(g.s();!(p=g.n()).done;){var m=p.value[h.key].join("");v.push(m);var b=m.length;b>y&&(y=b)}}catch(e){g.e(e)}finally{g.f()}(0,n.W8)(v)&&t.push({components:v,len:y})}}catch(e){d.e(e)}finally{d.f()}}if(t.length>0)return t.sort(function(e,r){return e.len-r.len}),t[0].components;var w=e.length;return(0,o.V)(w)}},5428(e,r,t){function n(e){var r=Math.hypot(e),t=e.length,n=new Float32Array(t);if(r>0){for(var o=1/r,a=t;a>0;a--)n[a]=e[a]*o;return Array.from(n)}return e}t.d(r,{hF:()=>n})},5579(e,r,t){function n(){var e=new Date,r=e.getDay(),t=e.getDate()-r,n=new Date;return n.setDate(t),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function o(e,r,t,n){var o=new Date;return o.setDate(1),o.setMonth(0),o.setHours(t),o.setMinutes(n),o.setSeconds(0),o.setMilliseconds(0),o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()),o.setDate(e.getDate()),o.setDate(o.getDate()+r),o}function a(e){var r=e.match(/[0-9\.]*/gm);if(r){var t=parseInt(r[0]),n=parseInt(r[2]),o=parseInt(r[4]),a=parseInt(r[6]),i=parseInt(r[8]),u=parseInt(r[10]),c=new Date;return c.setDate(1),c.setMonth(0),c.setFullYear(t),c.setMonth(n-1),c.setDate(o),c.setHours(a),c.setMinutes(i),c.setSeconds(u),c.getTime()}return 0}function i(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss").replaceAll(/Y{4,4}/g,e.getFullYear()).replaceAll(/M{2,2}/g,String(e.getMonth()+1).padStart(2,"0")).replaceAll(/D{2,2}/g,String(e.getDate()).padStart(2,"0")).replaceAll(/h{2,2}/g,String(e.getHours()).padStart(2,"0")).replaceAll(/m{2,2}/g,String(e.getMinutes()).padStart(2,"0")).replaceAll(/s{2,2}/g,String(e.getSeconds()).padStart(2,"0"))}function u(e){var r=e.getTime(),t=Math.floor(((new Date).getTime()-r)/1e3),n=Math.floor(t/31536e3);return n>=1?`${n}年前`:(n=Math.floor(t/2592e3))>=1?`${n}個月前`:(n=Math.floor(t/86400))>=1?`${n}天前`:(n=Math.floor(t/3600))>=1?`${n}小時前`:(n=Math.floor(t/60))>=1?`${n}分鐘前`:t>0?`${t}秒前`:"現在"}function c(e,r){var t=0|e;switch(r){case 0:return`${t}秒`;case 1:return[String((t-t%60)/60),String(t%60)].map(function(e){return e.padStart(2,"0")}).join(":");case 2:return`${t/60|0}分`;case 3:if(t>=3600)return`${parseFloat((t/3600).toFixed(1))}時`;if(60<=t&&t<3600)return`${t/60|0}分`;if(t<60)return`${t}秒`;break;default:return"--"}}function f(e){return[{name:"日",day:0,code:"d_0"},{name:"一",day:1,code:"d_1"},{name:"二",day:2,code:"d_2"},{name:"三",day:3,code:"d_3"},{name:"四",day:4,code:"d_4"},{name:"五",day:5,code:"d_5"},{name:"六",day:6,code:"d_6"}][e]}function l(e){return f(parseInt(e)-1)}function s(e){return`${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}`}t.d(r,{$T:()=>i,HN:()=>u,P$:()=>n,S1:()=>o,Zn:()=>a,fU:()=>c,kd:()=>f,mr:()=>l,pn:()=>s})},8024(e,r,t){t.d(r,{FU:()=>c,Fx:()=>o,MR:()=>l,Zf:()=>a,hw:()=>i,p1:()=>s,xZ:()=>d,zx:()=>u});var n=t(9119),o=t(3503),a=t(4462).sha512;function i(e,r){function t(e){return JSON.stringify({e})}var n=t(e),a=t(r),i=n.length,u=a.length;if(i===u){if(i>32||u>32){for(var c=o(n),f=o(a),l=!0,s=0;s<8;s++){if(c.charAt(s)!==f.charAt(s)){l=!1;break}}return l}return n===a}return!1}function u(){var e=[[48,10],[97,26],[65,26]],r=Math.floor(268435456*Math.random()),t=Math.floor(268435456*Math.random()),n=new Uint8Array(17);n[0]=95;for(var o=16;o>0;o--){var a=e[t%3],i=a[0]+r%a[1];n[o]=i,r>>>=1,t>>>=1}return String.fromCharCode.apply(null,n)}function c(e){return((new Date).getTime()/e|0).toString(16)}function f(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32e3,n=URL.createObjectURL(e),o=document.createElement("a");return o.href=n,o.download=r,document.body.appendChild(o),o.click(),o.remove(),setTimeout(function(){URL.revokeObjectURL(n)},t),n}function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",t=arguments.length>2?arguments[2]:void 0,o=new Blob([e],{type:r}),a=new File([o],t,{type:r});navigator.canShare&&navigator.canShare({files:[a]})?navigator.share({files:[a]}).catch(function(e){(0,n.a)("download","下載資料",{text:"下載",action:function(){f(o,t)}})}):f(o,t)}function s(){return!(!("ontouchstart"in window)&&!navigator.maxTouchPoints)}function d(e){if("boolean"==typeof e)return e?"true":"false"}},9469(e,r,t){t.d(r,{i:()=>n});t(8134),t(3030),t(4690);function n(e,r){var t=new URL("https://erichsia7.github.io/bus/");switch(e){case 0:t.searchParams.set("permalink",`0@${parseInt(r.id).toString(16)}~${r.name}`);break;case 1:t.searchParams.set("permalink",`1@${r.hash}`)}return decodeURIComponent(t.toString())}},9519(e,r,t){t(4668)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,o.x=()=>{var e=o.O(void 0,[3453,3790,225,5594,157,4207,9738,5680,4039,775,53,317,588,8097,796,2231,9499,5239,3755,4690,1775],()=>o(9609));return e=o.O(e)},o.amdO={},e=[],o.O=(r,t,n,a)=>{if(!t){var i=1/0;for(l=0;l<e.length;l++){for(var[t,n,a]=e[l],u=!0,c=0;c<t.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](t[c]))?t.splice(c--,1):(u=!1,a<i&&(i=a));if(u){e.splice(l--,1);var f=n();void 0!==f&&(r=f)}}return r}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,n,a]},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((r,t)=>(o.f[t](e,r),r),[])),o.u=e=>({53:"96a58ac7e517e41e5f7b",82:"147f729604652d3d1814",157:"fc6727341ae212b77dac",225:"3dede5369a36b5c0f2cd",317:"00a1e1da3362ac5d9c75",588:"18d95acc6221a76b739e",775:"e21074cdc7c446340a69",796:"051acaf9b78bd55ff175",1132:"befaf7cd5679c74dde88",1775:"c8374927378832cd434d",1837:"c9e06ac5b02079924e75",1992:"660df262446d7dc7f7f9",2231:"f16a7ac884c5b309f615",3113:"eca30172274360874386",3148:"3da7148ca4e40efab3bc",3281:"f96fc566e82d900a0517",3305:"f7c8896ab0df2bfdc154",3453:"714b6af53e2542f1c792",3755:"3c4aecea5cf36bfffb6a",3790:"009e15b328ae5cab1dd0",4039:"bc4fb6032422f4d1ed6f",4207:"b03d15d306fd70fb2e31",4690:"ea48e99e7a5e1bf45549",5239:"11e349ddd49aa98d08cb",5332:"412f2532b92ce7f36bde",5494:"eca30172274360874386",5594:"a85dd1e791df5f7aa30f",5662:"f96fc566e82d900a0517",5680:"2c819a9f68544a219d5a",5960:"5c5c9e0ab824eb68d25f",7425:"eaedd680d457e51cee63",7701:"147f729604652d3d1814",8097:"e8969b0dc28e80fef16b",8619:"45b4d4ec1576c9ee7477",8892:"2e7621ebacd49eddb987",9499:"f724f0fc032173497741",9611:"660df262446d7dc7f7f9",9738:"b27379bd18ae0850097c"}[e]+".js"),o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.p="./",(()=>{o.b=self.location+"";var e={1837:1,8289:1};o.f.i=(r,t)=>{e[r]||importScripts(o.p+o.u(r))};var r=self.webpackChunkbus=self.webpackChunkbus||[],t=r.push.bind(r);r.push=r=>{var[n,a,i]=r;for(var u in a)o.o(a,u)&&(o.m[u]=a[u]);for(i&&i(o);n.length;)e[n.pop()]=1;t(r)}})(),r=o.x,o.x=()=>Promise.all([3453,3790,225,5594,157,4207,9738,5680,4039,775,53,317,588,8097,796,2231,9499,5239,3755,4690,1775].map(o.e,o)).then(r);var a=o.x();return a=a.default})());
//# sourceMappingURL=c9e06ac5b02079924e75.js.map