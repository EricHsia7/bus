"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[799],{2063:(t,n,e)=>{e.d(n,{K:()=>c});var r=e(3153),a=e(6788);function i(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(c)throw i}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function c(t){return l.apply(this,arguments)}function l(){var t;return t=function*(t){var n,e=[],o=i([[0,4],[1,4]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,c=yield(0,a.Fd)(u.url,t,"getEstimateTime_".concat(u.e[0]),"json");e=e.concat(c.BusInfo),(0,a.ZL)(t,c.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},l=function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){u(i,r,a,o,c,"next",t)}function c(t){u(i,r,a,o,c,"throw",t)}o(void 0)}))},l.apply(this,arguments)}},3153:(t,n,e)=>{e.d(n,{Y:()=>o,y:()=>i});var r=e(8024),a=e(3459);function i(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,o=["blobbus","ntpcbus"],u=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],c=(0,a.Js)("proxy");return e?"http://erichsia7.github.io/bus-alternative-static-apis/".concat(o[t],"/Get").concat(u[n],".gz?_=").concat((0,r.FU)(i)):c?"https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/".concat(o[t],"/Get").concat(u[n],".gz&_=").concat((0,r.FU)(i)):"https://tcgbusfs.blob.core.windows.net/".concat(o[t],"/Get").concat(u[n],".gz?_=").concat((0,r.FU)(i))}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return"https://erichsia7.github.io/material-symbols-list/index.gz?_=".concat((0,r.FU)(t))}},6802:(t,n,e)=>{e.d(n,{d:()=>c});var r=e(3153),a=e(6788);function i(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(c)throw i}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function c(t){return l.apply(this,arguments)}function l(){var t;return t=function*(t){var n,e=[],o=i([[0,0],[1,0]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,c=yield(0,a.Fd)(u.url,t,"getBusData_".concat(u.e[0]),"json");e=e.concat(c.BusInfo),(0,a.ZL)(t,c.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},l=function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){u(i,r,a,o,c,"next",t)}function c(t){u(i,r,a,o,c,"throw",t)}o(void 0)}))},l.apply(this,arguments)}},7810:(t,n,e)=>{e.d(n,{J:()=>c});var r=e(3153),a=e(6788);function i(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==e.return||e.return()}finally{if(c)throw i}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function c(t){return l.apply(this,arguments)}function l(){var t;return t=function*(t){var n,e=[],o=i([[0,1],[1,1]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,c=yield(0,a.Fd)(u.url,t,"getBusEvent_".concat(u.e[0]),"json");e=e.concat(c.BusInfo),(0,a.ZL)(t,c.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},l=function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){u(i,r,a,o,c,"next",t)}function c(t){u(i,r,a,o,c,"throw",t)}o(void 0)}))},l.apply(this,arguments)}},8011:(t,n,e)=>{e.d(n,{g:()=>m});var r=e(3153),a=e(6788),i=e(4311);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){c=!0,i=t},f:function(){try{o||null==e.return||e.return()}finally{if(c)throw i}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){c(i,r,a,o,u,"next",t)}function u(t){c(i,r,a,o,u,"throw",t)}o(void 0)}))}}var f={merged:{available:!1,data:{}},simplified:{available:!1,data:{}}};function s(t){return y.apply(this,arguments)}function y(){return(y=l((function*(t){var n=new Worker(new URL(e.p+e.u(850),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function v(t){return d.apply(this,arguments)}function d(){return(d=l((function*(t){var n=new Worker(new URL(e.p+e.u(648),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function m(t){return p.apply(this,arguments)}function p(){return p=l((function*(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function e(){return u.apply(this,arguments)}function u(){return u=l((function*(){var n,e=[],i=o([[0,11],[1,11]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(i.s();!(n=i.n()).done;){var u=n.value,c=yield(0,a.Fd)(u.url,t,"getLocation_".concat(u.e[0]),"json");e=e.concat(c.BusInfo),(0,a.ZL)(t,c.EssentialInfo.UpdateTime)}}catch(t){i.e(t)}finally{i.f()}return e})),u.apply(this,arguments)}var c=n?"merged":"simplified",y="bus_".concat(c,"_location_v14_cache"),d=yield(0,i.Ct)(0,"".concat(y,"_timestamp"));if(null===d){var m=yield e(),p={},h=yield s(m);if(n)p=yield v(h);else p=h;return yield(0,i.mL)(0,"".concat(y,"_timestamp"),(new Date).getTime()),yield(0,i.mL)(0,"".concat(y),JSON.stringify(p)),f[c].available||(f[c].available=!0,f[c].data=p),p}if((new Date).getTime()-parseInt(d)>2592e6){m=yield e(),p={},h=yield s(m);if(n)p=yield v(h);else p=h;return yield(0,i.mL)(0,"".concat(y,"_timestamp"),(new Date).getTime()),yield(0,i.mL)(0,"".concat(y),JSON.stringify(p)),f[c].available||(f[c].available=!0,f[c].data=p),p}if(!f[c].available){var b=yield(0,i.Ct)(0,"".concat(y));f[c].available=!0,f[c].data=JSON.parse(b)}return(0,a.Mf)(t,"getLocation_0",0,!0),(0,a.Mf)(t,"getLocation_1",0,!0),(0,a.ZL)(t,-1),f[c].data})),p.apply(this,arguments)}},9734:(t,n,e)=>{e.d(n,{j:()=>v});var r=e(3153),a=e(6788),i=e(4311);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){c=!0,i=t},f:function(){try{o||null==e.return||e.return()}finally{if(c)throw i}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){c(i,r,a,o,u,"next",t)}function u(t){c(i,r,a,o,u,"throw",t)}o(void 0)}))}}var f={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function s(t){return y.apply(this,arguments)}function y(){return(y=l((function*(t){var n=new Worker(new URL(e.p+e.u(960),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function v(t){return d.apply(this,arguments)}function d(){return d=l((function*(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function e(){return u.apply(this,arguments)}function u(){return u=l((function*(){var n,e=[],i=o([[0,2],[1,2]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(i.s();!(n=i.n()).done;){var u=n.value,c=yield(0,a.Fd)(u.url,t,"getCarInfo_".concat(u.e[0]),"json");e=e.concat(c.BusInfo),(0,a.ZL)(t,c.EssentialInfo.UpdateTime)}}catch(t){i.e(t)}finally{i.f()}return e})),u.apply(this,arguments)}var c=n?"simplified":"raw",y="bus_".concat(c,"_car_info_v6_cache"),v=yield(0,i.Ct)(0,"".concat(y,"_timestamp"));if(null===v){var d=yield e();return m=n?yield s(d):d,yield(0,i.mL)(0,"".concat(y,"_timestamp"),(new Date).getTime()),yield(0,i.mL)(0,"".concat(y),JSON.stringify(m)),f[c].available||(f[c].available=!0,f[c].data=m),m}if((new Date).getTime()-parseInt(v)>2592e6){var m,p=yield e();return m=n?yield s(p):p,yield(0,i.mL)(0,"".concat(y,"_timestamp"),(new Date).getTime()),yield(0,i.mL)(0,"".concat(y),JSON.stringify(m)),m}if(!f[c].available){var h=yield(0,i.Ct)(0,"".concat(y));f[c].available=!0,f[c].data=JSON.parse(h)}return(0,a.Mf)(t,"getCarInfo_0",0,!0),(0,a.Mf)(t,"getCarInfo_1",0,!0),(0,a.ZL)(t,-1),f[c].data})),d.apply(this,arguments)}},9930:(t,n,e)=>{e.d(n,{z:()=>f});var r=e(6788),a=e(4311),i=e(3153);function o(t,n,e,r,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function u(t){o(i,r,a,u,c,"next",t)}function c(t){o(i,r,a,u,c,"throw",t)}u(void 0)}))}}var c=!1,l=[];function f(t){return s.apply(this,arguments)}function s(){return s=u((function*(t){function n(){return e.apply(this,arguments)}function e(){return(e=u((function*(){var n=(0,i.Y)();return(yield(0,r.Fd)(n,t,"getMaterialSymbols","json")).list.split(",")}))).apply(this,arguments)}var o="bus_material_symbols_cache",f=yield(0,a.Ct)(0,"".concat(o,"_timestamp"));if(null===f){var s=yield n();return yield(0,a.mL)(0,"".concat(o,"_timestamp"),(new Date).getTime()),yield(0,a.mL)(0,"".concat(o),s.join(",")),c||(c=!0,l=s),s}if((new Date).getTime()-parseInt(f)>2592e6){var y=yield n();return yield(0,a.mL)(0,"".concat(o,"_timestamp"),(new Date).getTime()),yield(0,a.mL)(0,"".concat(o),y.join(",")),c||(c=!0,l=y),y}if(!c){var v=yield(0,a.Ct)(0,"".concat(o));c=!0,l=v.split(",")}return(0,r.Mf)(t,"getMaterialSymbols",0,!0),l})),s.apply(this,arguments)}}}]);
//# sourceMappingURL=cac5ca8198cbe5a4205f.js.map