{"version":3,"file":"7c836ff32161eefc287d.js","mappings":"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","sources":["webpack://bus/./src/interface/schedule-notification/index.ts","webpack://bus/./src/interface/storage/index.ts","webpack://bus/./src/interface/save-to-folder/index.ts","webpack://bus/./src/interface/search/index.ts","webpack://bus/./src/interface/settings/index.ts","webpack://bus/./src/interface/settings/options.ts"],"sourcesContent":["import { scheduleNotificationForStop, ScheduleNotificationOption, scheduleNotificationOptions } from '../../data/notification/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { getIconElement } from '../icons/index';\nimport { pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst ScheduleNotificationField = documentQuerySelector('.css_schedule_notification_field');\nconst ScheduleNotificationBodyElement = elementQuerySelector(ScheduleNotificationField, '.css_schedule_notification_body');\nconst ScheduleNotificationListElement = elementQuerySelector(ScheduleNotificationBodyElement, '.css_schedule_notification_list');\n\nfunction generateElementOfItem(item: ScheduleNotificationOption, thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): HTMLElement {\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_schedule_notification_list_item');\n\n  // Icon element\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_schedule_notification_item_icon');\n  const iconSpanElement = document.createElement('span');\n  iconSpanElement.appendChild(getIconElement(item.icon));\n  iconElement.appendChild(iconSpanElement);\n\n  // Name element\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_schedule_notification_item_name');\n  nameElement.innerText = item.name;\n\n  // Event handler\n  const index = item.index;\n  itemElement.onclick = function () {\n    scheduleNotificationForStopItem(thisButtonElement, StopID, RouteID, EstimateTime, index);\n  };\n\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(nameElement);\n\n  return itemElement;\n}\n\nfunction initializeScheduleNotificationField(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): void {\n  ScheduleNotificationListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of scheduleNotificationOptions) {\n    const newElement = generateElementOfItem(item, thisButtonElement, StopID, RouteID, EstimateTime);\n    fragment.appendChild(newElement);\n  }\n  ScheduleNotificationListElement.append(fragment);\n}\n\nexport function openScheduleNotification(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): void {\n  pushPageHistory('ScheduleNotification');\n  ScheduleNotificationField.setAttribute('displayed', 'true');\n  initializeScheduleNotificationField(thisButtonElement, StopID, RouteID, EstimateTime);\n}\n\nexport function closeScheduleNotification(): void {\n  revokePageHistory('ScheduleNotification');\n  ScheduleNotificationField.setAttribute('displayed', 'false');\n}\n\nexport function scheduleNotificationForStopItem(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number, index: number): void {\n  promptMessage('manufacturing', '處理中');\n  thisButtonElement.setAttribute('enabled', 'false');\n  closeScheduleNotification();\n  scheduleNotificationForStop(StopID, RouteID, EstimateTime, index).then((result) => {\n    switch (result) {\n      case 0:\n        promptMessage('error', '設定失敗');\n        thisButtonElement.setAttribute('enabled', 'true');\n        break;\n      case 1:\n        promptMessage('check_circle', '設定成功');\n        thisButtonElement.setAttribute('enabled', 'true');\n        thisButtonElement.setAttribute('highlighted', 'true');\n        break;\n      case 2:\n        promptMessage('warning', '在設定中註冊後才可設定到站通知');\n        thisButtonElement.setAttribute('enabled', 'true');\n        break;\n      default:\n        break;\n    }\n  });\n}\n","import { getStoresSizeStatistics, StoreSize, StoreSizeStatistics } from '../../data/analytics/storage-size';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { booleanToString } from '../../tools/index';\nimport { querySize } from '../index';\n\nlet previousCategories: Array<StoreSize> = [];\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nconst StorageField = documentQuerySelector('.css_storage_field');\nconst StorageBodyElement = elementQuerySelector(StorageField, '.css_storage_body');\nconst StatisticsElement = elementQuerySelector(StorageBodyElement, '.css_storage_statistics');\n\nfunction generateElementOfItem(): HTMLElement {\n  // Create root element\n  const statisticsItemElement = documentCreateDivElement();\n  statisticsItemElement.classList.add('css_storage_statistics_item');\n\n  // Create name element\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_storage_statistics_item_name');\n\n  // Create value element\n  const valueElement = documentCreateDivElement();\n  valueElement.classList.add('css_storage_statistics_item_value');\n\n  // Append children\n  statisticsItemElement.appendChild(nameElement);\n  statisticsItemElement.appendChild(valueElement);\n\n  return statisticsItemElement;\n}\n\nfunction updateStorageField(statistics: StoreSizeStatistics, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(element: HTMLElement, currentItem: StoreSize, previousItem: StoreSize | null): void {\n    function updateValue(element: HTMLElement, item: StoreSize): void {\n      const typeElement = elementQuerySelector(element, '.css_storage_statistics_item_value');\n      typeElement.innerText = item.size;\n    }\n\n    function updateName(element: HTMLElement, item: StoreSize): void {\n      const nameElement = elementQuerySelector(element, '.css_storage_statistics_item_name');\n      nameElement.innerText = item.category.name;\n    }\n\n    function updateAnimation(element: HTMLElement, animation: boolean): void {\n      element.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(element: HTMLElement, skeletonScreen: boolean): void {\n      element.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    // compare the current item with the previous item\n    if (previousItem) {\n      if (currentItem.category.key !== previousItem.category.key) {\n        updateName(element, currentItem);\n        updateValue(element, currentItem);\n      }\n\n      if (currentItem.size !== previousItem.size) {\n        updateValue(element, currentItem);\n      }\n\n      if (previousAnimation !== animation) {\n        updateAnimation(element, animation);\n      }\n\n      if (previousSkeletonScreen !== skeletonScreen) {\n        updateSkeletonScreen(element, skeletonScreen);\n      }\n    }\n    // if the previous item is null, it means this is a new item\n    else {\n      updateValue(element, currentItem);\n      updateName(element, currentItem);\n      updateAnimation(element, animation);\n      updateSkeletonScreen(element, skeletonScreen);\n    }\n  }\n\n  const categories = [];\n  for (const key in statistics.categorizedSizes) {\n    const item = statistics.categorizedSizes[key];\n    categories.push(item);\n  }\n\n  const categoriesQuantity = categories.length;\n  const itemElements = Array.from(elementQuerySelectorAll(StatisticsElement, '.css_storage_statistics_item'));\n  const currentItemElementsLength = itemElements.length;\n  if (categoriesQuantity !== currentItemElementsLength) {\n    const difference = currentItemElementsLength - categoriesQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newItemElement = generateElementOfItem();\n        fragment.appendChild(newItemElement);\n        itemElements.push(newItemElement);\n      }\n      StatisticsElement.appendChild(fragment);\n    } else if (difference > 0) {\n      for (let p = currentItemElementsLength - 1, q = currentItemElementsLength - difference - 1; p > q; p--) {\n        itemElements[p].remove();\n        itemElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < categoriesQuantity; i++) {\n    const previousItem = previousCategories[i];\n    const currentItem = categories[i];\n    const thisItemElement = itemElements[i];\n    if (previousItem) {\n      updateItem(thisItemElement, currentItem, previousItem);\n    } else {\n      updateItem(thisItemElement, currentItem, null);\n    }\n  }\n\n  previousCategories = categories;\n  previousSkeletonScreen = skeletonScreen;\n  previousAnimation = animation;\n}\n\nfunction setUpStorageFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const FieldSize = querySize('window');\n  // const FieldWidth = FieldSize.width;\n  const FieldHeight = FieldSize.height;\n  const defaultCategoriesQuantity = Math.min(7, Math.floor(FieldHeight / 55) + 2);\n  const statistics: StoreSizeStatistics = {\n    categorizedSizes: {},\n    totalSize: 0\n  };\n  for (let i = 0; i < defaultCategoriesQuantity; i++) {\n    const categoryKey = `store-${i}`;\n    statistics.categorizedSizes[categoryKey] = {\n      category: {\n        name: '',\n        key: categoryKey\n      },\n      size: `size-${i}`\n    };\n  }\n  updateStorageField(statistics, true, playing_animation);\n}\n\nasync function refreshStorageStatistics() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  setUpStorageFieldSkeletonScreen();\n  const statistics = await getStoresSizeStatistics();\n  updateStorageField(statistics, false, playing_animation);\n}\n\nexport function openStorage(): void {\n  StorageField.setAttribute('displayed', 'true');\n  refreshStorageStatistics();\n}\n\nexport function closeStorage(): void {\n  StorageField.setAttribute('displayed', 'false');\n}\n","import { Folder, FolderContent, isFolderContentSaved, listFolders, saveLocation, saveRoute, saveStop } from '../../data/folder/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { booleanToString } from '../../tools/index';\nimport { getIconElement } from '../icons/index';\nimport { pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst SaveToFolderField = documentQuerySelector('.css_save_to_folder_field');\nconst SaveToFolderBodyElement = elementQuerySelector(SaveToFolderField, '.css_save_to_folder_body');\nconst SaveToFolderListElement = elementQuerySelector(SaveToFolderBodyElement, '.css_save_to_folder_list');\n\nconst successfulSaveMessage = '已儲存至資料夾';\nconst failedSaveMessage = '無法儲存';\n\nfunction generateElementOfItem(item: Folder, type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined): HTMLElement {\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_save_to_folder_list_item');\n\n  // Icon element\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_save_to_folder_item_icon');\n  const iconSpanElement = document.createElement('span');\n  iconSpanElement.appendChild(getIconElement(item.icon));\n  iconElement.appendChild(iconSpanElement);\n\n  // Name element\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_save_to_folder_item_name');\n  nameElement.innerText = item.name;\n\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(nameElement);\n\n  // Event handler\n  switch (type) {\n    case 'stop': {\n      itemElement.onclick = function () {\n        saveStop(item.id, parameters[0], parameters[1]).then((e) => {\n          if (e) {\n            isFolderContentSaved('stop', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n\n    case 'route': {\n      itemElement.onclick = function () {\n        saveRoute(item.id, parameters[0]).then((e) => {\n          if (e) {\n            isFolderContentSaved('route', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n\n    case 'location': {\n      itemElement.onclick = function () {\n        saveLocation(item.id, parameters[0]).then((e) => {\n          if (e) {\n            isFolderContentSaved('location', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n    case 'bus':\n      break;\n    case 'empty':\n      break;\n    default:\n      break;\n  }\n\n  return itemElement;\n}\n\nfunction initializeSaveToFolderField(type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined) {\n  const folders = listFolders();\n  SaveToFolderListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of folders) {\n    const newItemElement = generateElementOfItem(item, type, parameters, saveToFolderButtonElement);\n    fragment.appendChild(newItemElement);\n  }\n  SaveToFolderListElement.append(fragment);\n}\n\nexport function openSaveToFolder(type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined): void {\n  pushPageHistory('SaveToFolder');\n  SaveToFolderField.setAttribute('displayed', 'true');\n  initializeSaveToFolderField(type, parameters, saveToFolderButtonElement);\n}\n\nexport function closeSaveToFolder(): void {\n  revokePageHistory('SaveToFolder');\n  SaveToFolderField.setAttribute('displayed', 'false');\n}\n","import { prepareForSearch, searchFor, SearchItem, SearchResult } from '../../data/search/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { getTextBoundingBox } from '../../tools/graphic';\nimport { booleanToString, supportTouch } from '../../tools/index';\nimport { containPhoneticSymbols } from '../../tools/text';\nimport { openBus } from '../bus/index';\nimport { dataDownloadCompleted } from '../home/index';\nimport { getBlankIconElement, getIconElement, setIcon } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { pushPageHistory, querySize, revokePageHistory, scrollDocumentToTop } from '../index';\nimport { openLocation } from '../location/index';\nimport { promptMessage } from '../prompt/index';\nimport { openRoute } from '../route/index';\n\nlet previousSearchResults: Array<SearchResult> = [];\n\nconst searchField = documentQuerySelector('.css_search_field');\nconst searchHeadElement = elementQuerySelector(searchField, '.css_search_head');\nconst searchBodyElement = elementQuerySelector(searchField, '.css_search_body');\nconst searchInputElement = elementQuerySelector(searchHeadElement, '.css_search_search_input #search_input') as HTMLInputElement;\n\nconst searchInputSVGElement = elementQuerySelector(searchHeadElement, '.css_search_search_input svg') as SVGElement;\nconst searchInputSVGTextElement = elementQuerySelector(searchInputSVGElement, 'text[component=\"text\"]') as SVGTextElement;\nconst searchInputSVGCursorElement = elementQuerySelector(searchInputSVGElement, 'path[component=\"cursor\"]') as SVGPathElement;\n\nconst searchTypeFilterButtonElement = elementQuerySelector(searchHeadElement, '.css_search_button_right');\nconst searchResultsElement = elementQuerySelector(searchBodyElement, '.css_search_results');\nconst searchKeyboardElement = elementQuerySelector(searchBodyElement, '.css_search_keyboard');\n\nconst fontWeight = '400';\nconst fontSize = '20px';\nconst fontFamily = '\"Noto Sans TC\", sans-serif';\nconst searchInputPlaceholder = '搜尋路線、地點、公車';\n\nconst keyboardRows: Array<[string, string, string, string, string]> = [\n  ['紅', '藍', '1', '2', '3'],\n  ['綠', '棕', '4', '5', '6'],\n  ['橘', '小', '7', '8', '9'],\n  ['鍵盤', '幹線', '清空', '0', '刪除']\n];\n\nlet size = querySize('head-two-button');\nlet width = size.width;\nlet height = size.height;\nlet keyboardInitialized = false;\nlet previousValue: string = '';\nlet previousType = 0;\n\nexport function typeTextIntoInput(value): void {\n  const currentValue = searchInputElement.value;\n  const newValue = `${currentValue}${value}`;\n  searchInputElement.value = newValue;\n  updateSearchResult();\n  bringToEnd();\n  updateSearchInput();\n  scrollDocumentToTop();\n}\n\nexport function deleteCharFromInput(): void {\n  const currentValue = searchInputElement.value;\n  const newValue = currentValue.substring(0, currentValue.length - 1);\n  searchInputElement.value = newValue;\n  updateSearchResult();\n  bringToEnd();\n  updateSearchInput();\n  scrollDocumentToTop();\n}\n\nexport function emptyInput(): void {\n  searchInputElement.value = '';\n  updateSearchResult();\n  bringToEnd();\n  updateSearchInput();\n  scrollDocumentToTop();\n}\n\nexport function openSystemKeyboard(event: Event): void {\n  event.preventDefault();\n  searchInputElement.focus();\n  scrollDocumentToTop();\n}\n\nfunction initializeKeyboard(): void {\n  if (!keyboardInitialized) {\n    keyboardInitialized = true;\n    const fragment = new DocumentFragment();\n    for (const row of keyboardRows) {\n      for (const item of row) {\n        const newButtonElement = document.createElement('button');\n        newButtonElement.classList.add('css_search_keyboard_key');\n        const eventName = supportTouch() ? 'touchstart' : 'mousedown';\n        switch (item) {\n          case '刪除':\n            newButtonElement.addEventListener(eventName, deleteCharFromInput);\n            newButtonElement.appendChild(getIconElement('backspace'));\n            break;\n          case '清空':\n            newButtonElement.addEventListener(eventName, emptyInput);\n            newButtonElement.innerText = item;\n            break;\n          case '鍵盤':\n            newButtonElement.addEventListener(eventName, openSystemKeyboard);\n            newButtonElement.appendChild(getIconElement('keyboard'));\n            break;\n          default:\n            // Use an IIFE (Immediately Invoked Function Expression) to create a new scope for each item value. This ensures that the item variable is captured by value rather than by reference.\n            newButtonElement.addEventListener(\n              eventName,\n              (function (currentItem) {\n                return function () {\n                  typeTextIntoInput(currentItem);\n                };\n              })(item)\n            );\n            newButtonElement.innerText = item;\n            break;\n        }\n\n        fragment.appendChild(newButtonElement);\n      }\n    }\n    searchKeyboardElement.append(fragment);\n  }\n}\n\nexport function openKeyboard(): void {\n  initializeKeyboard();\n  searchKeyboardElement.setAttribute('displayed', 'true');\n  bringToEnd();\n}\n\nexport function closeKeyboard(): void {\n  searchKeyboardElement.setAttribute('displayed', 'false');\n}\n\nexport function initializeSearchInput(): void {\n  searchInputElement.addEventListener('paste', function () {\n    updateSearchInput();\n    updateSearchResult();\n  });\n  searchInputElement.addEventListener('cut', function () {\n    updateSearchInput();\n    updateSearchResult();\n  });\n  searchInputElement.addEventListener('selectionchange', function () {\n    updateSearchInput();\n    updateSearchResult();\n  });\n  document.addEventListener('selectionchange', function () {\n    updateSearchInput();\n    updateSearchResult();\n  });\n  searchInputElement.addEventListener('keyup', function () {\n    updateSearchInput();\n    updateSearchResult();\n  });\n  searchInputElement.addEventListener('scroll', function () {\n    updateSearchInput();\n  });\n}\n\nfunction getSearchTypeFilterValue(): SearchItem['type'] | -1 {\n  return parseInt(searchTypeFilterButtonElement.getAttribute('type'));\n}\n\nfunction updateSearchInput(): void {\n  const scrollLeft = searchInputElement.scrollLeft;\n  const currentValue = searchInputElement.value;\n  const selectionStart = searchInputElement.selectionStart;\n  const selectionEnd = searchInputElement.selectionEnd;\n\n  const empty = currentValue.length === 0;\n  const text = empty ? searchInputPlaceholder : currentValue;\n  const cursorStart = empty ? 0 : selectionStart;\n  const cursorEnd = empty ? 0 : selectionEnd;\n  const selection = cursorStart !== cursorEnd;\n\n  const m = getTextBoundingBox(text, fontWeight, fontSize, fontFamily);\n  const m1 = getTextBoundingBox(text.substring(0, cursorStart), fontWeight, fontSize, fontFamily);\n  const x = scrollLeft * -1;\n  const y = m[0] + (height - m[2]) / 2;\n\n  searchInputSVGTextElement.textContent = text;\n  searchInputSVGTextElement.setAttribute('transform', `translate(${x} ${y})`);\n  searchInputSVGCursorElement.setAttribute('transform', `translate(${empty ? 1 : Math.max(Math.min(m1[1] + x, width - 1), 1)} 0)`);\n\n  searchInputSVGTextElement.setAttribute('empty', booleanToString(empty));\n  searchInputSVGCursorElement.setAttribute('selection', booleanToString(selection));\n  searchInputElement.setAttribute('selection', booleanToString(selection));\n}\n\nfunction bringToEnd(): void {\n  const currentValue = searchInputElement.value;\n  const length = currentValue.length;\n  const m = getTextBoundingBox(currentValue, fontWeight, fontSize, fontFamily);\n  searchInputElement.setSelectionRange(length, length);\n  searchInputElement.scrollTo({ left: m[1] - width });\n}\n\nexport function resizeSearchInputSVG(): void {\n  size = querySize('head-two-button');\n  width = size.width;\n  height = size.height;\n  searchInputSVGElement.setAttribute('viewBox', `0 0 ${width} ${height}`);\n  bringToEnd();\n  updateSearchInput();\n}\n\nfunction generateElementOfSearchResultItem(): HTMLElement {\n  const searchResultItemElement = documentCreateDivElement();\n  searchResultItemElement.classList.add('css_search_search_result');\n\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_search_search_result_name');\n\n  const typeElement = documentCreateDivElement();\n  typeElement.classList.add('css_search_search_result_type');\n  typeElement.appendChild(getBlankIconElement());\n\n  searchResultItemElement.appendChild(typeElement);\n  searchResultItemElement.appendChild(nameElement);\n  return searchResultItemElement;\n}\n\nexport function updateSearchResult(): void {\n  const typeToIcon: Array<MaterialSymbols> = ['route', 'location_on', 'directions_bus'];\n\n  function updateItem(element: HTMLElement, currentItem: SearchResult, previousItem: SearchResult | null): void {\n    function updateTypeIcon(item: SearchResult, element: HTMLElement): void {\n      const thisSearchResultTypeElement = elementQuerySelector(element, '.css_search_search_result_type');\n      setIcon(thisSearchResultTypeElement, typeToIcon[item.item.type]);\n    }\n\n    function updateName(item: SearchResult, element: HTMLElement): void {\n      const nameElement = elementQuerySelector(element, '.css_search_search_result_name');\n      nameElement.innerText = item.item.n;\n    }\n\n    function updateClickHandler(item: SearchResult, element: HTMLElement): void {\n      switch (item.item.type) {\n        case 0:\n          element.onclick = function () {\n            openRoute(item.item.id as number, item.item.pid);\n          };\n          break;\n        case 1:\n          element.onclick = function () {\n            openLocation(item.item.hash);\n          };\n          break;\n        case 2:\n          element.onclick = function () {\n            openBus(item.item.id as number);\n          };\n          break;\n        default:\n          break;\n      }\n    }\n    // compare the current item with the previous item\n    if (previousItem) {\n      if (currentItem.item.type !== previousItem.item.type) {\n        updateTypeIcon(currentItem, element);\n      }\n      if (currentItem.item.id !== previousItem.item.id) {\n        updateName(currentItem, element);\n        updateClickHandler(currentItem, element);\n      }\n    }\n    // if the previous item is null, it means this is a new item\n    else {\n      updateTypeIcon(currentItem, element);\n      updateName(currentItem, element);\n      updateClickHandler(currentItem, element);\n    }\n  }\n\n  const currentType = getSearchTypeFilterValue();\n  const currentValue = searchInputElement.value;\n  if (!containPhoneticSymbols(currentValue) && (currentValue !== previousValue || currentType !== previousType)) {\n    const searchResults = searchFor(currentValue, currentType, 30);\n    const searchResultLength = searchResults.length;\n    const searchResultElements = Array.from(elementQuerySelectorAll(searchResultsElement, '.css_search_search_result'));\n    const currentSearchResultElementsLength = searchResultElements.length;\n    if (searchResultLength !== currentSearchResultElementsLength) {\n      const difference = currentSearchResultElementsLength - searchResultLength;\n      if (difference < 0) {\n        const fragment = new DocumentFragment();\n        for (let o = 0; o > difference; o--) {\n          const newSearchResultElement = generateElementOfSearchResultItem();\n          fragment.appendChild(newSearchResultElement);\n          searchResultElements.push(newSearchResultElement);\n        }\n        searchResultsElement.appendChild(fragment);\n      } else if (difference > 0) {\n        for (let p = currentSearchResultElementsLength - 1, q = currentSearchResultElementsLength - difference - 1; p > q; p--) {\n          searchResultElements[p].remove();\n          searchResultElements.splice(p, 1);\n        }\n      }\n    }\n\n    for (let i = 0; i < searchResultLength; i++) {\n      const previousItem = previousSearchResults[i];\n      const currentItem = searchResults[i];\n      const thisItemElement = searchResultElements[i];\n      if (previousItem) {\n        updateItem(thisItemElement, currentItem, previousItem);\n      } else {\n        updateItem(thisItemElement, currentItem, null);\n      }\n    }\n    previousSearchResults = searchResults;\n  }\n\n  previousValue = currentValue;\n  previousType = currentType;\n}\n\nexport function switchSearchTypeFilter(): void {\n  const currentType = getSearchTypeFilterValue();\n  let newType: number = -1;\n  if (currentType >= -1 && currentType < 2) {\n    newType = currentType + 1;\n  } else {\n    newType = -1;\n  }\n  const icons: Array<MaterialSymbols> = ['filter_list', 'route', 'location_on', 'directions_bus'];\n  setIcon(searchTypeFilterButtonElement, icons[newType + 1]);\n  searchTypeFilterButtonElement.setAttribute('type', newType.toString());\n  updateSearchResult();\n}\n\nexport function openSearch(): void {\n  if (dataDownloadCompleted) {\n    pushPageHistory('Search');\n    searchField.setAttribute('displayed', 'true');\n    openKeyboard();\n    prepareForSearch();\n  } else {\n    promptMessage('download_for_offline', '資料還在下載中');\n  }\n}\n\nexport function closeSearch(): void {\n  revokePageHistory('Search');\n  closeKeyboard();\n  searchField.setAttribute('displayed', 'false');\n}\n","import { exportData } from '../../data/export/index';\nimport { importData } from '../../data/import/index';\nimport { listSettings, Setting } from '../../data/settings/index';\nimport { getTreeURLOfCurrentVersion } from '../../data/settings/version';\nimport { askForPersistentStorage } from '../../data/storage/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { shareFile } from '../../tools/share';\nimport { getIconElement } from '../icons/index';\nimport { pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst SettingsField = documentQuerySelector('.css_settings_field');\nconst SettingsBodyElement = elementQuerySelector(SettingsField, '.css_settings_body');\nconst SettingsElement = elementQuerySelector(SettingsBodyElement, '.css_settings');\n\nfunction generateElementOfItem(item: Setting): HTMLElement {\n  const settingElement = documentCreateDivElement();\n  settingElement.classList.add('css_setting');\n  settingElement.setAttribute('type', item.type);\n\n  // Icon\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_setting_icon');\n  const iconSpanElement = document.createElement('span');\n  iconSpanElement.appendChild(getIconElement(item.icon));\n  iconElement.appendChild(iconSpanElement);\n\n  // Name\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_setting_name');\n  nameElement.innerText = item.name;\n\n  // Status\n  const statusElement = documentCreateDivElement();\n  statusElement.classList.add('css_setting_status');\n  statusElement.innerText = item.status;\n\n  // Arrow\n  const arrowElement = documentCreateDivElement();\n  arrowElement.classList.add('css_setting_arrow');\n  const arrowSpanElement = document.createElement('span');\n  arrowSpanElement.appendChild(getIconElement('arrow_forward_ios'));\n  arrowElement.appendChild(arrowSpanElement);\n\n  // Event handler (lambda)\n  if (typeof item.action === 'function') {\n    settingElement.onclick = function () {\n      item.action();\n    };\n  } else if (typeof item.action === 'string') {\n    settingElement.setAttribute('onclick', item.action);\n  }\n\n  // Assemble\n  settingElement.appendChild(iconElement);\n  settingElement.appendChild(nameElement);\n  settingElement.appendChild(statusElement);\n  settingElement.appendChild(arrowElement);\n\n  return settingElement;\n}\n\nasync function initializeSettingsField() {\n  const list = await listSettings();\n  SettingsElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of list) {\n    const thisElement = generateElementOfItem(item);\n    fragment.appendChild(thisElement);\n  }\n  SettingsElement.append(fragment);\n}\n\nexport function openSettings(): void {\n  pushPageHistory('Settings');\n  SettingsField.setAttribute('displayed', 'true');\n  initializeSettingsField();\n}\n\nexport function closeSettings(): void {\n  revokePageHistory('Settings');\n  SettingsField.setAttribute('displayed', 'false');\n}\n\nexport async function downloadExportFile() {\n  promptMessage('manufacturing', '資料匯出中');\n  const content = await exportData();\n  shareFile(content, 'application/json', 'bus-export.json');\n}\n\nexport function openFileToImportData(): void {\n  const identifier = generateIdentifier();\n  const fileInput = document.createElement('input');\n  fileInput.setAttribute('type', 'file');\n  fileInput.setAttribute('accept', 'application/json');\n  fileInput.setAttribute('name', identifier);\n  fileInput.id = identifier;\n  fileInput.classList.add('css_import_file_input');\n  fileInput.addEventListener(\n    'change',\n    function (event) {\n      // Check if a file is selected\n      if (event.target.files.length === 0) {\n        documentQuerySelector(`body #${identifier}`).remove();\n      } else {\n        // Get the first file selected by the user\n        const file = event.target.files[0];\n        const reader = new FileReader();\n\n        // When the file is successfully read\n        reader.onload = function (e) {\n          // Get the file content as text\n          const fileTextContent = e.target.result;\n\n          // Import the data\n          importData(fileTextContent).then((f) => {\n            if (f) {\n              promptMessage('check_circle', '已匯入資料');\n            } else {\n              promptMessage('error', '無法匯入資料');\n            }\n            documentQuerySelector(`body #${identifier}`).remove();\n          });\n        };\n\n        // Read the file as text\n        reader.readAsText(file);\n      }\n    },\n    { once: true }\n  );\n  fileInput.addEventListener(\n    'cancel',\n    function () {\n      documentQuerySelector(`body #${identifier}`).remove();\n    },\n    { once: true }\n  );\n\n  document.body.append(fileInput);\n  documentQuerySelector(`body #${identifier}`).click();\n}\n\nexport function viewSourceCodeOfCurrentVersion(): void {\n  const url = getTreeURLOfCurrentVersion();\n  window.open(url);\n}\n\nexport function viewGitHubRepository(): void {\n  const url = 'https://github.com/EricHsia7/bus';\n  window.open(url);\n}\n\nexport function showPromptToAskForPersistentStorage(): void {\n  askForPersistentStorage().then((e) => {\n    switch (e) {\n      case 'granted':\n        promptMessage('check_circle', '已開啟永久儲存');\n        break;\n      case 'denied':\n        promptMessage('cancel', '永久儲存權限已被拒絕');\n        break;\n      case 'unsupported':\n        promptMessage('warning', '此瀏覽器不支援永久儲存');\n        break;\n      default:\n        promptMessage('error', '發生錯誤');\n        break;\n    }\n  });\n}\n","import { changeSettingOption, getSetting, SettingSelect, SettingSelectOption } from '../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, documentQuerySelectorAll, elementQuerySelector } from '../../tools/elements';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\n\nconst SettingsOptionsField = documentQuerySelector('.css_settings_options_field');\nconst SettingsOptionsBodyElement = elementQuerySelector(SettingsOptionsField, '.css_settings_options_body');\nconst SettingsOptionsOptionsElement = elementQuerySelector(SettingsOptionsBodyElement, '.css_settings_options');\nconst SettingsOptionsDescriptionElement = elementQuerySelector(SettingsOptionsBodyElement, '.css_options_description');\nconst SettingsOptionsHeadElement = elementQuerySelector(SettingsOptionsField, '.css_settings_options_head');\nconst SettingsOptionsTitleElement = elementQuerySelector(SettingsOptionsHeadElement, '.css_settings_options_title');\n\nfunction generateElementOfItem(setting: SettingSelect, item: SettingSelectOption, index: number): HTMLElement {\n  const optionElement = documentCreateDivElement();\n  optionElement.classList.add('css_option');\n\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_option_name');\n  nameElement.innerText = item.name;\n\n  const checkboxContainerElement = documentCreateDivElement();\n  checkboxContainerElement.classList.add('css_option_checkbox');\n\n  const checkboxElement = document.createElement('input');\n  checkboxElement.type = 'checkbox';\n  checkboxElement.checked = setting.option === index;\n  checkboxElement.onclick = (event) => {\n    settingsOptionsHandler(event, setting.key, index);\n  };\n\n  checkboxContainerElement.appendChild(checkboxElement);\n  optionElement.appendChild(nameElement);\n  optionElement.appendChild(checkboxContainerElement);\n\n  return optionElement;\n}\n\nfunction initializeSettingsOptionsField(settingKey: string): void {\n  const setting = getSetting(settingKey) as SettingSelect;\n  SettingsOptionsTitleElement.innerText = setting.name;\n  SettingsOptionsDescriptionElement.innerText = setting.description;\n  SettingsOptionsOptionsElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  let index: number = 0;\n  for (const item of setting.options) {\n    const thisElement = generateElementOfItem(setting, item, index);\n    fragment.appendChild(thisElement);\n    index += 1;\n  }\n  SettingsOptionsOptionsElement.append(fragment);\n}\n\nexport function openSettingsOptions(settingKey: string): void {\n  pushPageHistory('SettingsOptions');\n  SettingsOptionsField.setAttribute('displayed', 'true');\n  initializeSettingsOptionsField(settingKey);\n  closePreviousPage();\n}\n\nexport function closeSettingsOptions(): void {\n  // revokePageHistory('SettingsOptions');\n  SettingsOptionsField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nexport function settingsOptionsHandler(event: Event, settingKey: string, index: number): void {\n  const checkboxes = documentQuerySelectorAll('.css_settings_options_field .css_settings_options_body .css_settings_options .css_option .css_option_checkbox input[type=\"checkbox\"]') as NodeListOf<HTMLInputElement>;\n  for (const checkbox of checkboxes) {\n    checkbox.checked = false;\n  }\n  const target = event.target as HTMLInputElement;\n  target.checked = true;\n  changeSettingOption(settingKey, index);\n}\n"],"names":["ScheduleNotificationField","documentQuerySelector","ScheduleNotificationBodyElement","elementQuerySelector","ScheduleNotificationListElement","generateElementOfItem","item","thisButtonElement","StopID","RouteID","EstimateTime","itemElement","documentCreateDivElement","classList","add","iconElement","iconSpanElement","document","createElement","appendChild","getIconElement","icon","nameElement","innerText","name","index","onclick","promptMessage","setAttribute","closeScheduleNotification","scheduleNotificationForStop","then","result","scheduleNotificationForStopItem","openScheduleNotification","pushPageHistory","innerHTML","fragment","DocumentFragment","scheduleNotificationOptions","newElement","append","initializeScheduleNotificationField","revokePageHistory","previousCategories","previousAnimation","previousSkeletonScreen","StorageField","StorageBodyElement","StatisticsElement","statisticsItemElement","valueElement","updateStorageField","statistics","skeletonScreen","animation","updateItem","element","currentItem","previousItem","updateValue","size","updateName","category","updateAnimation","booleanToString","updateSkeletonScreen","key","categories","categorizedSizes","push","categoriesQuantity","length","itemElements","Array","from","elementQuerySelectorAll","currentItemElementsLength","difference","o","newItemElement","p","q","remove","splice","i","thisItemElement","_refreshStorageStatistics","_asyncToGenerator","playing_animation","getSettingOptionValue","FieldHeight","querySize","height","defaultCategoriesQuantity","Math","min","floor","totalSize","categoryKey","setUpStorageFieldSkeletonScreen","getStoresSizeStatistics","apply","arguments","openStorage","refreshStorageStatistics","closeStorage","SaveToFolderField","SaveToFolderBodyElement","SaveToFolderListElement","successfulSaveMessage","failedSaveMessage","type","parameters","saveToFolderButtonElement","saveStop","id","e","isFolderContentSaved","k","closeSaveToFolder","saveRoute","saveLocation","openSaveToFolder","folders","listFolders","initializeSaveToFolderField","previousSearchResults","searchField","searchHeadElement","searchBodyElement","searchInputElement","searchInputSVGElement","searchInputSVGTextElement","searchInputSVGCursorElement","searchTypeFilterButtonElement","searchResultsElement","searchKeyboardElement","fontWeight","fontSize","fontFamily","keyboardRows","width","keyboardInitialized","previousValue","previousType","deleteCharFromInput","currentValue","value","newValue","substring","updateSearchResult","bringToEnd","updateSearchInput","scrollDocumentToTop","emptyInput","openSystemKeyboard","event","preventDefault","focus","openKeyboard","row","newButtonElement","eventName","supportTouch","addEventListener","initializeKeyboard","initializeSearchInput","getSearchTypeFilterValue","parseInt","getAttribute","scrollLeft","selectionStart","selectionEnd","empty","text","cursorStart","selection","m","getTextBoundingBox","m1","x","y","textContent","max","setSelectionRange","scrollTo","left","resizeSearchInputSVG","generateElementOfSearchResultItem","searchResultItemElement","typeElement","getBlankIconElement","typeToIcon","updateTypeIcon","thisSearchResultTypeElement","setIcon","n","updateClickHandler","openRoute","pid","openLocation","hash","openBus","currentType","containPhoneticSymbols","searchResults","searchFor","searchResultLength","searchResultElements","currentSearchResultElementsLength","newSearchResultElement","switchSearchTypeFilter","newType","toString","openSearch","dataDownloadCompleted","prepareForSearch","closeSearch","SettingsField","SettingsBodyElement","SettingsElement","settingElement","statusElement","status","arrowElement","arrowSpanElement","action","_initializeSettingsField","list","listSettings","thisElement","openSettings","initializeSettingsField","closeSettings","downloadExportFile","_downloadExportFile","content","exportData","shareFile","openFileToImportData","identifier","generateIdentifier","fileInput","target","files","file","reader","FileReader","onload","fileTextContent","importData","f","readAsText","once","body","click","viewSourceCodeOfCurrentVersion","url","getTreeURLOfCurrentVersion","window","open","viewGitHubRepository","showPromptToAskForPersistentStorage","askForPersistentStorage","SettingsOptionsField","SettingsOptionsBodyElement","SettingsOptionsOptionsElement","SettingsOptionsDescriptionElement","SettingsOptionsHeadElement","SettingsOptionsTitleElement","setting","optionElement","checkboxContainerElement","checkboxElement","checked","option","settingKey","checkboxes","documentQuerySelectorAll","checkbox","changeSettingOption","settingsOptionsHandler","openSettingsOptions","getSetting","description","options","initializeSettingsOptionsField","closePreviousPage","closeSettingsOptions","openPreviousPage"],"ignoreList":[],"sourceRoot":""}