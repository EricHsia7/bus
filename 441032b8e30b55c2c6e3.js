"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[9504],{574(t,e,n){n.d(e,{AE:()=>a,DK:()=>v});var r=n(5428),a={vector:[0,0],id:-1,name:"未知",symbol:"?",icon:"explore"},o={vector:[0,1],id:0,name:"北",symbol:"↑",icon:"north"},i={vector:[1,0],id:1,name:"東",symbol:"→",icon:"east"},u={vector:[0,-1],id:2,name:"南",symbol:"↓",icon:"south"},c={vector:[-1,0],id:3,name:"西",symbol:"←",icon:"west"},l={vector:[Math.SQRT1_2,Math.SQRT1_2],id:4,name:"東北",symbol:"↗",icon:"north_east"},s={vector:[Math.SQRT1_2,-Math.SQRT1_2],id:5,name:"東南",symbol:"↘",icon:"south_east"},d={vector:[-Math.SQRT1_2,-Math.SQRT1_2],id:6,name:"西南",symbol:"↙",icon:"south_west"},f={vector:[-Math.SQRT1_2,Math.SQRT1_2],id:7,name:"西北",symbol:"↖",icon:"north_west"};function v(t){for(var e=[a,o,c,u,i,l,s,d,f],n=(0,r.hF)(t),v=-1/0,h=e[0],m=0,p=e;m<p.length;m++){var y=p[m],b=y.vector[0]*n[0]+y.vector[1]*n[1];b>v&&(v=b,h=y)}return h}},2129(t,e,n){function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t){for(var e=0;e<t.length;e++)for(var n=e+1;n<t.length;n++)if(t[e]===t[n])return!1;return!0}function i(t,e){var n=[];if(t.length<=e.length){var a,o=r(t);try{for(o.s();!(a=o.n()).done;){var i=a.value;e.indexOf(i)>-1&&n.push(i)}}catch(t){o.e(t)}finally{o.f()}}else{var u,c=r(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;t.indexOf(l)>-1&&n.push(l)}}catch(t){c.e(t)}finally{c.f()}}return n}n.d(e,{W8:()=>o,_N:()=>i})},2530(t,e,n){n.d(e,{D:()=>v,h:()=>f});var r=n(3459),a=n(8179),o=n(8024),i=n(4537),u=n(6443),c=[],l=!1,s=!1;function d(){var t=document.createElement("div");t.classList.add("f");var e=document.createElement("div");e.classList.add("g"),e.appendChild((0,i.oC)()),t.appendChild(e);var n=document.createElement("div");return n.classList.add("h"),t.appendChild(n),{element:t,id:""}}function f(){for(var t=(0,r.Js)("playing_animation"),e=[],n=0;n<5;n++)e.push({key:n,icon:"none",value:""});v(e,!0,t)}function v(t,e,n){function r(t,r,u){function c(t,e){var n=(0,a.aI)(t,".g");(0,i.yD)(n,e.icon)}function d(t,e){(0,a.aI)(t,".h").innerText=e.value}function f(t,e){t.setAttribute("animation",(0,o.xZ)(e))}function v(t,e){t.setAttribute("skeleton-screen",(0,o.xZ)(e))}null==u?(c(t,r),d(t,r),f(t,n),v(t,e)):((0,o.hw)(u,r)||c(t,r),(0,o.hw)(u,r)||d(t,r),l!==n&&f(t,n),s!==e&&v(t,e))}var f=t.length;e!==s&&u.b7.setAttribute("skeleton-screen",(0,o.xZ)(e));var v=(0,a.jg)(u.VY,".f").length;if(f!==v){var h=v-f;if(h<0){for(var m=new DocumentFragment,p=0,y=Math.abs(h);p<y;p++){var b=d();m.appendChild(b.element)}u.VY.append(m)}else for(var g=(0,a.jg)(u.VY,".f"),$=0,w=Math.abs(h);$<w;$++){g[v-1-$].remove()}}for(var S=(0,a.jg)(u.VY,".f"),M=0;M<f;M++){var A=S[M],x=t[M];0===c.length?r(A,x,null):r(A,x,c[M])}c=t,l=n,s=e}},2945(t,e,n){n.d(e,{M:()=>u,V:()=>i});var r=n(7183);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(t){for(var e=[],n=0;n<t;n++)e.push(`地點${(0,r.D5)(n+1)}`);return e}function u(t){var e,n=[],r=a(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(`向${o.name}${o.symbol}`)}}catch(t){r.e(t)}finally{r.f()}return n}},4750(t,e,n){n.d(e,{h:()=>d});var r=n(8024);function a(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,u=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var u,c={};if("undefined"!=typeof SharedWorker){var l=new SharedWorker(new URL(n.p+n.u(7701),n.b));(u=l.port).start()}else{var s=new Worker(new URL(n.p+n.u(82),n.b));u=s}function d(t){return f.apply(this,arguments)}function f(){var t;return t=function*(t){var e=(0,r.zx)();return yield new Promise(function(n,r){c[e]=n,u.onerror=function(t){r(t.message)},u.postMessage([t,e])})},f=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(t){a(i,r,o,u,c,"next",t)}function c(t){a(i,r,o,u,c,"throw",t)}u(void 0)})},f.apply(this,arguments)}u.onmessage=function(t){var e=o(t.data,2),n=e[0],r=e[1];c[r]&&(c[r](n),delete c[r])},u.onerror=function(t){}},4781(t,e,n){function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];if("string"==typeof t)for(var r=t.length,a=0;a<r;a++){var o=t.charCodeAt(a);(n.indexOf(o)<0||!e)&&n.push(o)}return n}function a(t){return!!/[\u3100-\u312Fˇˋˊ˙]/gm.test(t)}n.d(e,{B5:()=>r,iO:()=>a})},6104(t,e,n){n.d(e,{Ow:()=>S,gE:()=>k,jk:()=>E,os:()=>M,rY:()=>C,vv:()=>A,ze:()=>T});var r=n(5976),a=n(5427),o=n(3459),i=n(3251),u=n(4311),c=n(8179),l=n(8024),s=n(4537),d=n(904),f=n(9119);function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,u,"next",t)}function u(t){m(o,r,a,i,u,"throw",t)}i(void 0)})}}var y=(0,c.bv)(".i"),b=(0,c.aI)(y,".j"),g=(0,c.aI)(b,".k");function $(t){var e=document.createElement("div");e.classList.add("l"),e.setAttribute("type",t.type);var n=document.createElement("div");n.classList.add("m");var r=document.createElement("span");r.appendChild((0,s.YC)(t.icon)),n.appendChild(r);var a=document.createElement("div");a.classList.add("n"),a.appendChild(document.createTextNode(t.name));var o=document.createElement("div");o.classList.add("o"),o.appendChild(document.createTextNode(t.status));var i=document.createElement("div");i.classList.add("p");var u=document.createElement("span");return u.appendChild((0,s.YC)("arrow_forward_ios")),i.appendChild(u),"function"==typeof t.action?e.onclick=function(){t.action()}:"string"==typeof t.action&&e.setAttribute("onclick",t.action),e.appendChild(n),e.appendChild(a),e.appendChild(o),e.appendChild(i),{element:e,id:""}}function w(){return(w=p(function*(){var t=yield(0,o.cl)();g.innerHTML="";var e,n=new DocumentFragment,r=v(t);try{for(r.s();!(e=r.n()).done;){var a=$(e.value);n.appendChild(a.element)}}catch(t){r.e(t)}finally{r.f()}g.append(n)})).apply(this,arguments)}function S(){(0,d.WR)("Settings"),y.setAttribute("displayed","true"),function(){w.apply(this,arguments)}()}function M(){(0,d.kr)("Settings"),y.setAttribute("displayed","false")}function A(){return x.apply(this,arguments)}function x(){return(x=p(function*(){(0,f.a)("manufacturing","資料匯出中");var t=yield(0,r.R)();(0,l.MR)(t,"application/json","bus-export.json")})).apply(this,arguments)}function C(){var t=(0,l.zx)(),e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","application/json"),e.setAttribute("name",t),e.id=t,e.classList.add("q"),e.addEventListener("change",function(e){if(0===e.target.files.length)(0,c.bv)(`body #${t}`).remove();else{var n=e.target.files[0],r=new FileReader;r.onload=function(e){var n=e.target.result;(0,a.Qx)(n).then(function(e){e?(0,f.a)("check_circle","已匯入資料"):(0,f.a)("error","無法匯入資料"),(0,c.bv)(`body #${t}`).remove()})},r.readAsText(n)}},{once:!0}),e.addEventListener("cancel",function(){(0,c.bv)(`body #${t}`).remove()},{once:!0}),document.body.append(e),(0,c.bv)(`body #${t}`).click()}function k(){var t=(0,i._P)();window.open(t)}function T(){window.open("https://github.com/EricHsia7/bus")}function E(){(0,u.VC)().then(function(t){switch(t){case"granted":(0,f.a)("check_circle","已開啟永久儲存");break;case"denied":(0,f.a)("cancel","永久儲存權限已被拒絕");break;case"unsupported":(0,f.a)("warning","此瀏覽器不支援永久儲存");break;default:(0,f.a)("error","發生錯誤")}})}},6141(t,e,n){n.d(e,{t:()=>a});var r={light:{},dark:{}};function a(t){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(r[e].hasOwnProperty(t))return r[e][t];var n=getComputedStyle(document.documentElement).getPropertyValue(t);return r[e][t]=n,n}},7183(t,e,n){function r(t,e,n,r){var a=n*Math.PI/180-t*Math.PI/180,o=r*Math.PI/180-e*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 1e3*(6378.137*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))))}function a(t){for(var e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=0;t>=1e3&&n<e.length-1;)t/=1e3,n++;return`${Math.floor(100*t)/100} ${e[n]}`}function o(t){for(var e="";t>0;){var n=(t-1)%26;e=String.fromCharCode(n+65)+e,t=Math.floor((t-1)/26)}return e}n.d(e,{D5:()=>o,aV:()=>r,tH:()=>a})},7968(t,e,n){function r(t,e,n,a){var o=(r.canvas||(r.canvas=document.createElement("canvas"))).getContext("2d"),i=`${e} ${n} ${a}`;return o.font=i,o.measureText(t).width}function a(t,e,n,r,a,o,i){o="number"==typeof o?{tl:o,tr:o,br:o,bl:o}:{tl:o.tl||0,tr:o.tr||0,br:o.br||0,bl:o.bl||0},t.beginPath(),t.moveTo(e+o.tl,n),t.lineTo(e+r-o.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+o.tr),t.lineTo(e+r,n+a-o.br),t.quadraticCurveTo(e+r,n+a,e+r-o.br,n+a),t.lineTo(e+o.bl,n+a),t.quadraticCurveTo(e,n+a,e,n+a-o.bl),t.lineTo(e,n+o.tl),t.quadraticCurveTo(e,n,e+o.tl,n),t.closePath(),t.fillStyle=i,t.fill()}function o(t,e,n,r,a,o){var i=a="number"==typeof a?{tl:a,tr:a,br:a,bl:a}:{tl:a.tl||0,tr:a.tr||0,br:a.br||0,bl:a.bl||0},u=i.tl,c=i.tr,l=i.br,s=i.bl,d=[];return o?(0!==u&&d.push(`M${t} ${e+u}`,`Q${t} ${e} ${t+u} ${e}`,`H${t}`,`V${e+u}`),0!==c&&d.push(`M${t+n-c} ${e}`,`Q${t+n} ${e} ${t+n} ${e+c}`,`V${e}`,"H"+(t+n-c)),0!==l&&d.push(`M${t+n} ${e+r-l}`,`Q${t+n} ${e+r} ${t+n-l} ${e+r}`,`H${t+n}`,"V"+(e+r-l)),0!==s&&d.push(`M${t+s} ${e+r}`,`Q${t} ${e+r} ${t} ${e+r-s}`,`V${e+r}`,`H${t+s}`)):d.push(`M${t+u} ${e}`,"H"+(t+n-c),`Q${t+n} ${e} ${t+n} ${e+c}`,"V"+(e+r-l),`Q${t+n} ${e+r} ${t+n-l} ${e+r}`,`H${t+s}`,`Q${t} ${e+r} ${t} ${e+r-s}`,`V${e+u}`,`Q${t} ${e} ${t+u} ${e}`),d}n.d(e,{mX:()=>o,q_:()=>r,wg:()=>a})},8179(t,e,n){function r(t){return document.querySelector(t)}function a(t){return document.querySelectorAll(t)}function o(t,e){return t.querySelector(e)}function i(t,e){return t.querySelectorAll(e)}function u(t,e){for(var n=[],r=t.nextElementSibling;r;)r.classList.contains(e)&&n.push(r),r=r.nextElementSibling;return n}n.d(e,{aI:()=>o,bv:()=>r,e0:()=>a,jg:()=>i,ji:()=>u})},8332(t,e,n){n.d(e,{e:()=>d,w:()=>l});var r=n(8134),a=n(9469),o=n(9119),i=n(8279);function u(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(t){u(o,r,a,i,c,"next",t)}function c(t){u(o,r,a,i,c,"throw",t)}i(void 0)})}}function l(t){return s.apply(this,arguments)}function s(){return(s=c(function*(t){var e=yield(0,r.Rk)(t);if(!1!==e){var n=(0,a.i)(0,{id:t,name:e.n});navigator.share&&navigator.share({title:e.n,url:n}).then(function(){(0,o.a)("check_circle","已分享路線")}).catch(function(t){(0,o.a)("cancel","已取消分享")})}})).apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return(f=c(function*(t){var e=yield(0,r.Rk)(t);if(!1!==e){var n=(0,a.i)(0,{id:t,name:e.n});(0,i.X8)(n)}})).apply(this,arguments)}},9009(t,e,n){n.d(e,{OS:()=>$,fB:()=>M});var r=n(3459),a=n(8179),o=n(7968),i=n(8024),u=n(6141),c=n(904),l=n(6443);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var f='"Noto Sans TC", sans-serif',v=(0,c.gO)("route-details-canvas"),h=v.width,m=v.height,p=Math.min(window.devicePixelRatio,1.875)||1,y={};function b(){var t=document.createElement("div");return t.classList.add("r"),{element:t,id:""}}function g(){var t=document.createElement("div");t.classList.add("s");var e=document.createElement("canvas");return e.classList.add("t"),t.appendChild(e),{element:t,id:""}}function $(){for(var t=(0,r.Js)("playing_animation"),e={d_0:47,d_1:47,d_2:47,d_3:47,d_4:47,d_5:47,d_6:47},n={},a={},o=0;o<7;o++){var i=`d_${o}`;n[i]=[],a[i]={day:o,code:"d_{i}",name:""};for(var u=0;u<e[i];u++){var c=new Date;c.setHours(0),c.setMinutes(30*u),c.setSeconds(0),c.setMilliseconds(0),n[i].push({date:c,dateString:"",duration:15})}}M({calendarEventGroups:n,calendarDays:a,calendarDayQuantity:7,calendarEventQuantity:e},!0,t)}function w(t,e,n,o,c,s){t.innerText=e.name,t.setAttribute("day",s.toString()),t.onclick=function(){!function(t){for(var e=(0,r.Js)("playing_animation"),n=(0,a.jg)(l.kP,".r"),o=(0,a.jg)(l.zk,".s"),i=0;i<7;i++){var c,s,d=n[i],f=o[i],v=`d_${i}`,h=null===(c=y)||void 0===c?void 0:c.calendarEventGroups[v],m=null===(s=y)||void 0===s?void 0:s.calendarDays[v];if(h&&m){var p=(0,u.t)("--c"),b=(0,u.t)("--d"),g=(0,u.t)("--e"),$=(0,u.t)("--u"),M=(0,u.t)("--b"),A=(0,u.t)("--v");w(d,m,t,!1,e,i),S(f,h,t,M,p,b,g,$,A,i)}}}(s)},t.setAttribute("highlighted",n===s?"true":"false"),t.setAttribute("animation",(0,i.xZ)(c)),t.setAttribute("skeleton-screen",(0,i.xZ)(o))}function S(t,e,n,r,u,l,d,y,b,g){function $(t,e,n){var r=70*e;t.fillStyle=n,t.fillRect(45,r+5,h-45,1.2),t.font=`400 12px ${f}`,t.textBaseline="top";var a=`${String(e).padStart(2,"0")}:00`,o=t.measureText(a),i=o.width,u=o.actualBoundingBoxDescent;t.fillText(a,(45-i)/2,r+(10-u)/2,i)}function w(t,e,n,r,a,i,u){var c=new Date;c.setDate(1),c.setMonth(0),c.setFullYear(e.date.getFullYear()),c.setMonth(e.date.getMonth()),c.setDate(e.date.getDate()),c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);var l=(e.date.getTime()-c.getTime())/864e5*24*70,s=h-45,d=60*e.duration*1e3/864e5*24*70;(0,o.wg)(t,45,l,s,d,3,`rgba(${r}, ${a}, ${i}, ${u})`),(0,o.wg)(t,45,l,3,d,{tl:3,tr:0,bl:3,br:0},n),t.font=`400 14px ${f}`,t.textBaseline="top",t.fillStyle=n;var v=e.dateString,m=t.measureText(v),p=m.width,y=m.actualBoundingBoxDescent;t.fillText(v,53,l+(d-y)/2,p)}var S=(0,a.aI)(t,".t"),M=S.getContext("2d");if(function(t,e,n){var r=e===n;t.setAttribute("displayed",(0,i.xZ)(r))}(t,n,g),function(t){v=(0,c.gO)("route-details-canvas"),h=v.width,m=v.height,p=Math.min(window.devicePixelRatio,1.875)||1,t.width=h*p,t.height=m*p;var e=t.getContext("2d");e.setTransform(1,0,0,1,0,0),e.scale(p,p)}(S),n===g){M.clearRect(0,0,h,m);for(var A=0;A<24;A++)$(M,A,b);var x,C=s(e);try{for(C.s();!(x=C.n()).done;){w(M,x.value,r,u,l,d,y)}}catch(t){C.e(t)}finally{C.f()}}else M.clearRect(0,0,h,m)}function M(t,e,n){var r=(new Date).getDay(),o=(0,u.t)("--c"),i=(0,u.t)("--d"),c=(0,u.t)("--e"),s=(0,u.t)("--u"),d=(0,u.t)("--b"),f=(0,u.t)("--v"),v=t.calendarDays,h=t.calendarDayQuantity,m=t.calendarEventGroups,p=(t.calendarEventQuantity,(0,a.jg)(l.zk,".s").length);if(h!==p){var $=p-h;if($<0){for(var M=new DocumentFragment,A=new DocumentFragment,x=0,C=Math.abs($);x<C;x++){var k=b();M.appendChild(k.element);var T=g();A.appendChild(T.element)}l.kP.append(M),l.zk.append(A)}else for(var E=(0,a.jg)(l.kP,".r"),_=(0,a.jg)(l.zk,".s"),j=0,I=Math.abs($);j<I;j++){var P=p-1-j;E[P].remove(),_[P].remove()}}for(var D=(0,a.jg)(l.kP,".r"),Q=(0,a.jg)(l.zk,".s"),R=0;R<h;R++){var L=`d_${R}`,B=v[L],O=m[L],V=D[R],q=Q[R];w(V,B,r,e,n,R),S(q,O,r,d,o,i,c,s,f,R)}y=t}}}]);
//# sourceMappingURL=441032b8e30b55c2c6e3.js.map