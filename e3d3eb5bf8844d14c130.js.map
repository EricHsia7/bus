{"version":3,"file":"e3d3eb5bf8844d14c130.js","mappings":"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","sources":["webpack://bus/./src/interface/home/folders/index.ts","webpack://bus/./src/interface/icons/index.ts","webpack://bus/./src/interface/folder-creator/index.ts","webpack://bus/./src/interface/home/index.ts","webpack://bus/./src/interface/home/recent-views/index.ts","webpack://bus/./src/interface/folder-icon-selector/index.ts","webpack://bus/./src/interface/folder-manager/index.ts","webpack://bus/./src/interface/folder-editor/index.ts"],"sourcesContent":["import { getUpdateRate } from '../../../data/analytics/update-rate/index';\nimport { DataReceivingProgressEvent } from '../../../data/apis/loader';\nimport { Folder, integratedFolder, integratedFolderContent, integratedFolders, integrateFolders } from '../../../data/folder/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../../data/settings/index';\nimport { booleanToString, compareThings, generateIdentifier } from '../../../tools/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { getBlankIconElement, getIconElement, setIcon } from '../../icons/index';\nimport { MaterialSymbols } from '../../icons/material-symbols-type';\nimport { GeneratedElement, querySize } from '../../index';\nimport { openLocation } from '../../location/index';\nimport { promptMessage } from '../../prompt/index';\nimport { openRoute } from '../../route/index';\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeHeadElement = elementQuerySelector(HomeField, '.css_home_head');\nconst HomeBodyElement = elementQuerySelector(HomeField, '.css_home_body');\nconst HomeFoldersElement = elementQuerySelector(HomeBodyElement, '.css_home_folders');\nconst HomeUpdateTimerElement = elementQuerySelector(HomeHeadElement, '.css_home_update_timer_box .css_home_update_timer');\n\nlet previousIntegration = {} as integratedFolders;\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nlet foldersRefreshTimer_retryInterval: number = 10 * 1000;\nlet foldersRefreshTimer_baseInterval: number = 15 * 1000;\nlet foldersRefreshTimer_minInterval: number = 5 * 1000;\nlet foldersRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet foldersRefreshTimer_dynamic: boolean = true;\nlet foldersRefreshTimer_lastUpdate: number = 0;\nlet foldersRefreshTimer_nextUpdate: number = 0;\nlet foldersRefreshTimer_currentRequestID: string = '';\nlet foldersRefreshTimer_refreshing: boolean = false;\nlet foldersRefreshTimer_streaming: boolean = false;\nlet foldersRefreshTimer_streamStarted: boolean = false;\n\nfunction generateElementOfItem(): GeneratedElement {\n  // Main container\n  const itemElement = document.createElement('div');\n  itemElement.classList.add('css_home_folder_item');\n  itemElement.setAttribute('type', 'stop');\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_home_folder_item_icon');\n  iconElement.appendChild(getIconElement('location_on'));\n\n  // Context\n  const contextElement = document.createElement('div');\n  contextElement.classList.add('css_home_folder_item_context');\n\n  // Main\n  const mainElement = document.createElement('div');\n  mainElement.classList.add('css_home_folder_item_main');\n\n  // Capsule\n  const capsuleElement = document.createElement('div');\n  capsuleElement.classList.add('css_home_folder_item_capsule');\n\n  // Status\n  const statusElement = document.createElement('div');\n  statusElement.classList.add('css_home_folder_item_status');\n\n  const nextSlideElement = document.createElement('div');\n  nextSlideElement.classList.add('css_next_slide');\n  nextSlideElement.setAttribute('code', '0');\n  nextSlideElement.setAttribute('displayed', 'false');\n\n  const currentSlideElement = document.createElement('div');\n  currentSlideElement.classList.add('css_current_slide');\n  currentSlideElement.setAttribute('code', '0');\n  currentSlideElement.setAttribute('displayed', 'true');\n\n  statusElement.appendChild(nextSlideElement);\n  statusElement.appendChild(currentSlideElement);\n\n  // Button\n  const buttonElement = document.createElement('div');\n  buttonElement.classList.add('css_home_folder_item_button');\n  buttonElement.appendChild(getIconElement('keyboard_arrow_right'));\n\n  // Capsule separator\n  const capsuleSeparatorElement = document.createElement('div');\n  capsuleSeparatorElement.classList.add('css_home_folder_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(statusElement);\n  capsuleElement.appendChild(buttonElement);\n  capsuleElement.appendChild(capsuleSeparatorElement);\n\n  // Assemble item\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(contextElement);\n  itemElement.appendChild(mainElement);\n  itemElement.appendChild(capsuleElement);\n\n  return {\n    element: itemElement,\n    id: ''\n  };\n}\n\nfunction generateElementOfFolder(): GeneratedElement {\n  // Main container\n  const folderElement = document.createElement('div');\n  folderElement.classList.add('css_home_folder');\n\n  // Head\n  const headElement = document.createElement('div');\n  headElement.classList.add('css_home_folder_head');\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_home_folder_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  // Name\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_home_folder_name');\n\n  // Assemble head\n  headElement.appendChild(iconElement);\n  headElement.appendChild(nameElement);\n\n  // Content\n  const contentElement = document.createElement('div');\n  contentElement.classList.add('css_home_folder_content');\n\n  // Assemble folder\n  folderElement.appendChild(headElement);\n  folderElement.appendChild(contentElement);\n\n  return {\n    element: folderElement,\n    id: ''\n  };\n}\n\nfunction animateUpdateTimer(): void {\n  HomeUpdateTimerElement.style.setProperty('--b-cssvar-home-update-timer-interval', `${foldersRefreshTimer_dynamicInterval}ms`);\n  HomeUpdateTimerElement.classList.add('css_home_update_timer_slide_rtl');\n}\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  if (foldersRefreshTimer_refreshing) {\n    const offsetRatio = CustomEvent.detail.progress - 1;\n    HomeUpdateTimerElement.style.setProperty('--b-cssvar-home-update-timer-offset-ratio', offsetRatio.toString());\n  }\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n  }\n}\n\nexport function setUpFolderFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  const contentLength = Math.floor(FieldHeight / 50 / 3) + 2;\n  const folderQuantity = 3;\n\n  const folders: integratedFolders['folders'] = [];\n  for (let i = 0; i < folderQuantity; i++) {\n    const folder: integratedFolder = {\n      name: '',\n      icon: '',\n      id: '',\n      timestamp: 0,\n      content: [],\n      contentLength: contentLength\n    };\n\n    for (let j = 0; j < contentLength; j++) {\n      const folderContent: integratedFolderContent = {\n        type: 'stop',\n        id: 0,\n        timestamp: 0,\n        name: '',\n        status: {\n          code: 8,\n          text: '',\n          time: -6\n        },\n        direction: 0,\n        route: {\n          name: '',\n          endPoints: {\n            departure: '',\n            destination: ''\n          },\n          id: 0,\n          pathAttributeId: []\n        }\n      };\n      folder.content.push(folderContent);\n    }\n    folders.push(folder);\n  }\n\n  updateFoldersElement(\n    {\n      folders: folders,\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nfunction updateFoldersElement(integration: integratedFolders, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(thisElement: HTMLElement, thisItem: integratedFolderContent, previousItem: integratedFolderContent | null) {\n    function updateType(thisElement: HTMLElement, thisItem: integratedFolderContent): void {\n      thisElement.setAttribute('type', thisItem.type);\n    }\n\n    function updateIcon(thisElement: HTMLElement, thisItem: integratedFolderContent): void {\n      const thisIconElement = elementQuerySelector(thisElement, '.css_home_folder_item_icon');\n      let icon = '' as MaterialSymbols;\n      switch (thisItem.type) {\n        case 'stop':\n          icon = 'location_on';\n          break;\n        case 'route':\n          icon = 'route';\n          break;\n        case 'location':\n          icon = 'location_on';\n          break;\n        case 'bus':\n          icon = 'directions_bus';\n          break;\n        case 'empty':\n          icon = 'lightbulb';\n          break;\n        default:\n          icon = '';\n          break;\n      }\n      setIcon(thisIconElement, icon);\n    }\n\n    function updateStatus(thisElement: HTMLElement, thisItem: integratedFolderContent, animation: boolean): void {\n      if (thisItem.type === 'stop') {\n        const thisElementRect = thisElement.getBoundingClientRect();\n        const top = thisElementRect.top;\n        const left = thisElementRect.left;\n        const bottom = thisElementRect.bottom;\n        const right = thisElementRect.right;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        const thisItemStatusElement = elementQuerySelector(thisElement, '.css_home_folder_item_capsule .css_home_folder_item_status');\n        const nextSlideElement = elementQuerySelector(thisItemStatusElement, '.css_next_slide');\n        const currentSlideElement = elementQuerySelector(thisItemStatusElement, '.css_current_slide');\n\n        nextSlideElement.setAttribute('code', thisItem.status.code.toString());\n        nextSlideElement.innerText = thisItem.status.text;\n\n        if (animation && bottom > 0 && top < windowHeight && right > 0 && left < windowWidth) {\n          currentSlideElement.addEventListener(\n            'animationend',\n            function () {\n              currentSlideElement.setAttribute('code', thisItem.status.code.toString());\n              currentSlideElement.innerText = thisItem.status.text;\n              currentSlideElement.classList.remove('css_slide_fade_out');\n              nextSlideElement.setAttribute('displayed', 'false');\n            },\n            { once: true }\n          );\n          nextSlideElement.setAttribute('displayed', 'true');\n          currentSlideElement.classList.add('css_slide_fade_out');\n        } else {\n          currentSlideElement.setAttribute('code', thisItem.status.code.toString());\n          currentSlideElement.innerText = thisItem.status.text;\n        }\n      }\n    }\n\n    function updateMain(thisElement: HTMLElement, thisItem: integratedFolderContent): void {\n      let main: string = '';\n      switch (thisItem.type) {\n        case 'stop':\n          main = thisItem.name;\n          break;\n        case 'route':\n          main = thisItem.name;\n          break;\n        case 'location':\n          main = thisItem.name;\n          break;\n        case 'bus':\n          main = thisItem.busID;\n          break;\n        case 'empty':\n          main = '沒有內容';\n          break;\n        default:\n          main = 'null';\n          break;\n      }\n      elementQuerySelector(thisElement, '.css_home_folder_item_main').innerText = main;\n    }\n\n    function updateContext(thisElement: HTMLElement, thisItem: integratedFolderContent): void {\n      let context: string = '';\n      switch (thisItem.type) {\n        case 'stop':\n          context = `${thisItem.route ? thisItem.route.name : ''} - 往${thisItem.route ? [thisItem.route.endPoints.destination, thisItem.route.endPoints.departure, ''][thisItem.direction ? thisItem.direction : 0] : ''}`;\n          break;\n        case 'route':\n          context = `${thisItem.endPoints.departure} \\u2194 ${thisItem.endPoints.destination}`;\n          break;\n        case 'location':\n          context = '地點';\n          break;\n        case 'bus':\n          // context = thisItem.currentRoute.name; // TODO: integration\n          break;\n        case 'empty':\n          context = '提示';\n          break;\n        default:\n          context = 'null';\n          break;\n      }\n      elementQuerySelector(thisElement, '.css_home_folder_item_context').innerText = context;\n    }\n\n    function updateButton(thisElement: HTMLElement, thisItem: integratedFolderContent): void {\n      const buttonElement = elementQuerySelector(thisElement, '.css_home_folder_item_capsule .css_home_folder_item_button');\n      switch (thisItem.type) {\n        case 'stop':\n          buttonElement.onclick = function () {\n            openRoute(thisItem.route.id, thisItem.route.pathAttributeId);\n          };\n          break;\n        case 'route':\n          buttonElement.onclick = function () {\n            openRoute(thisItem.id, thisItem.pathAttributeId);\n          };\n          break;\n        case 'location':\n          buttonElement.onclick = function () {\n            openLocation(thisItem.id);\n          };\n          break;\n        case 'bus':\n          break;\n        case 'empty':\n          break;\n        default:\n          break;\n      }\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null || previousItem === undefined) {\n      updateType(thisElement, thisItem);\n      updateIcon(thisElement, thisItem);\n      updateStatus(thisElement, thisItem, animation);\n      updateMain(thisElement, thisItem);\n      updateContext(thisElement, thisItem);\n      updateButton(thisElement, thisItem);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (thisItem.type !== previousItem.type) {\n        updateType(thisElement, thisItem);\n        updateIcon(thisElement, thisItem);\n        updateStatus(thisElement, thisItem, animation);\n        updateMain(thisElement, thisItem);\n        updateContext(thisElement, thisItem);\n        updateButton(thisElement, thisItem);\n        updateAnimation(thisElement, animation);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      } else {\n        switch (thisItem.type) {\n          case 'stop':\n            if (!compareThings(previousItem.route, thisItem.route)) {\n              updateContext(thisElement, thisItem);\n              updateButton(thisElement, thisItem);\n            }\n            if (previousItem.name !== thisItem.name) {\n              updateMain(thisElement, thisItem);\n            }\n            if (previousItem.status.time !== thisItem.status.time) {\n              updateStatus(thisElement, thisItem, animation);\n            }\n            break;\n          case 'route':\n            if (previousItem.id !== thisItem.id) {\n              updateButton(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.endPoints, thisItem.endPoints)) {\n              updateContext(thisElement, thisItem);\n            }\n            if (previousItem.name !== thisItem.name) {\n              updateMain(thisElement, thisItem);\n            }\n            break;\n          case 'location':\n            if (previousItem.id !== thisItem.id) {\n              updateButton(thisElement, thisItem);\n            }\n            if (previousItem.name !== thisItem.name) {\n              updateMain(thisElement, thisItem);\n            }\n            /*\n            if (!compareThings(previousItem.labels, thisItem.labels)) {\n              updateContext(thisElement, thisItem);\n            }\n            */\n            break;\n          case 'bus':\n            /*\n            if (!compareThings(previousItem.currentRoute, thisItem.currentRoute)) {\n              updateContext(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.busID, thisItem.busID)) {\n              updateMain(thisElement, thisItem);\n            }\n            */\n            break;\n          case 'empty':\n            if (thisItem.type !== previousItem.type) {\n              updateContext(thisElement, thisItem);\n              updateMain(thisElement, thisItem);\n            }\n            break;\n          default:\n            break;\n        }\n        if (skeletonScreen !== previousSkeletonScreen) {\n          updateSkeletonScreen(thisElement, skeletonScreen);\n        }\n        if (animation !== previousAnimation) {\n          updateAnimation(thisElement, animation);\n        }\n      }\n    }\n  }\n\n  function updateFolder(thisElement: HTMLElement, thisFolder: Folder, previousFolder: Folder | null): void {\n    function updateName(thisElement: HTMLElement, thisFolder: Folder): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_folder_head');\n      const thisNameElement = elementQuerySelector(thisHeadElement, '.css_home_folder_name');\n      thisNameElement.innerText = thisFolder.name;\n    }\n\n    function updateIcon(thisElement: HTMLElement, thisFolder: Folder): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_folder_head');\n      const thisIconElement = elementQuerySelector(thisHeadElement, '.css_home_folder_icon');\n      setIcon(thisIconElement, thisFolder.icon);\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousFolder === null || previousFolder === undefined) {\n      updateName(thisElement, thisFolder);\n      updateIcon(thisElement, thisFolder);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (thisFolder.name !== previousFolder.name) {\n        updateName(thisElement, thisFolder);\n      }\n      if (thisFolder.icon !== previousFolder.icon) {\n        updateIcon(thisElement, thisFolder);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  const folders = integration.folders;\n  const foldersLength = folders.length;\n\n  const currentFolderCapacity = elementQuerySelectorAll(HomeFoldersElement, '.css_home_folder').length;\n  if (foldersLength !== currentFolderCapacity) {\n    const difference = currentFolderCapacity - foldersLength;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        const newFolderElement = generateElementOfFolder();\n        fragment.appendChild(newFolderElement.element);\n      }\n      HomeFoldersElement.append(fragment);\n    } else {\n      const FolderElements = elementQuerySelectorAll(HomeFoldersElement, '.css_home_folder');\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        const folderIndex = currentFolderCapacity - 1 - o;\n        FolderElements[folderIndex].remove();\n      }\n    }\n  }\n\n  const FolderElements = elementQuerySelectorAll(HomeFoldersElement, '.css_home_folder');\n  for (let i = 0; i < foldersLength; i++) {\n    const thisFolder = folders[i];\n    const thisFolderContent = thisFolder.content;\n    const thisFolderContentLength = thisFolderContent.length;\n    const thisFolderElement = FolderElements[i];\n    const thisFolderContentElement = elementQuerySelector(thisFolderElement, '.css_home_folder_content');\n    const currentItemCapacity = elementQuerySelectorAll(thisFolderContentElement, '.css_home_folder_item').length;\n    if (thisFolderContentLength !== currentItemCapacity) {\n      const difference = currentItemCapacity - thisFolderContentLength;\n      if (difference < 0) {\n        for (let o = 0, d = Math.abs(difference); o < d; o++) {\n          const newItemElement = generateElementOfItem();\n          thisFolderContentElement.appendChild(newItemElement.element);\n        }\n      } else {\n        const FolderContentItemElements = elementQuerySelectorAll(thisFolderContentElement, '.css_home_folder_item');\n        for (let o = 0, d = Math.abs(difference); o < d; o++) {\n          const itemIndex = currentItemCapacity - 1 - o;\n          FolderContentItemElements[itemIndex].remove();\n        }\n      }\n    }\n  }\n\n  const FolderElements2 = elementQuerySelectorAll(HomeFoldersElement, '.css_home_folder');\n  for (let i = 0; i < foldersLength; i++) {\n    const thisFolder = folders[i];\n    const thisFolderContent = thisFolder.content;\n    const thisFolderContentLength = thisFolderContent.length; // the actual length (including 'empty content')\n    const thisFolderElement = FolderElements2[i];\n    const thisFolderContentElement = elementQuerySelector(thisFolderElement, '.css_home_folder_content');\n    if (previousIntegration.hasOwnProperty('folders')) {\n      if (previousIntegration.folders[i]) {\n        const previousFolder = previousIntegration.folders[i];\n        updateFolder(thisFolderElement, thisFolder, previousFolder);\n      } else {\n        updateFolder(thisFolderElement, thisFolder, null);\n      }\n    } else {\n      updateFolder(thisFolderElement, thisFolder, null);\n    }\n\n    const thisFolderItemElements = elementQuerySelectorAll(thisFolderContentElement, '.css_home_folder_item');\n    for (let j = 0; j < thisFolderContentLength; j++) {\n      const thisElement = thisFolderItemElements[j];\n      const thisItem = thisFolderContent[j];\n      if (previousIntegration.hasOwnProperty('folders')) {\n        if (previousIntegration.folders[i]) {\n          if (previousIntegration.folders[i].content[j]) {\n            const previousItem = previousIntegration.folders[i].content[j];\n            updateItem(thisElement, thisItem, previousItem);\n          } else {\n            updateItem(thisElement, thisItem, null);\n          }\n        } else {\n          updateItem(thisElement, thisItem, null);\n        }\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nasync function refreshFolders() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  foldersRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  foldersRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  foldersRefreshTimer_refreshing = true;\n  foldersRefreshTimer_currentRequestID = generateIdentifier();\n  HomeUpdateTimerElement.setAttribute('refreshing', 'true');\n  HomeUpdateTimerElement.classList.remove('css_home_update_timer_slide_rtl');\n  document.addEventListener(foldersRefreshTimer_currentRequestID, handleDataReceivingProgressUpdates);\n  const integration = await integrateFolders(foldersRefreshTimer_currentRequestID);\n  updateFoldersElement(integration, false, playing_animation);\n  let updateRate = 0;\n  if (foldersRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  foldersRefreshTimer_lastUpdate = new Date().getTime();\n  if (foldersRefreshTimer_dynamic) {\n    foldersRefreshTimer_nextUpdate = Math.max(foldersRefreshTimer_lastUpdate + foldersRefreshTimer_minInterval, integration.dataUpdateTime + foldersRefreshTimer_baseInterval / updateRate);\n  } else {\n    foldersRefreshTimer_nextUpdate = foldersRefreshTimer_lastUpdate + foldersRefreshTimer_baseInterval;\n  }\n  foldersRefreshTimer_dynamicInterval = Math.max(foldersRefreshTimer_minInterval, foldersRefreshTimer_nextUpdate - foldersRefreshTimer_lastUpdate);\n  foldersRefreshTimer_refreshing = false;\n  HomeUpdateTimerElement.setAttribute('refreshing', 'false');\n  animateUpdateTimer();\n}\n\nasync function streamFolders() {\n  refreshFolders()\n    .then(function () {\n      if (foldersRefreshTimer_streaming) {\n        setTimeout(\n          function () {\n            streamFolders();\n          },\n          Math.max(foldersRefreshTimer_minInterval, foldersRefreshTimer_nextUpdate - new Date().getTime())\n        );\n      } else {\n        foldersRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (foldersRefreshTimer_streaming) {\n        promptMessage('error', `資料夾網路連線中斷，將在${foldersRefreshTimer_retryInterval / 1000}秒後重試。`);\n        setTimeout(function () {\n          streamFolders();\n        }, foldersRefreshTimer_retryInterval);\n      } else {\n        foldersRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function initializeFolders(): void {\n  setUpFolderFieldSkeletonScreen();\n  if (!foldersRefreshTimer_streaming) {\n    foldersRefreshTimer_streaming = true;\n    if (!foldersRefreshTimer_streamStarted) {\n      foldersRefreshTimer_streamStarted = true;\n      streamFolders();\n    } else {\n      refreshFolders();\n    }\n  }\n}\n","import { elementQuerySelector } from '../../tools/elements';\nimport { MaterialSymbols } from './material-symbols-type';\n\nexport function getIconHTML(identifier: MaterialSymbols): string {\n  return /*html*/ `<span class=\"css_material_symbols_rounded\">${identifier}</span>`;\n}\n\nexport function getIconElement(identifier: MaterialSymbols): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  iconElement.innerText = identifier;\n  return iconElement;\n}\n\nexport function getBlankIconElement(): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  return iconElement;\n}\n\nexport function setIcon(parentElement: HTMLElement, identifier: MaterialSymbols): void {\n  const thisSpanElement = elementQuerySelector(parentElement, 'span.css_material_symbols_rounded');\n  thisSpanElement.innerText = identifier;\n}\n","import { createFolder } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst FolderCreatorBodyElement = elementQuerySelector(FolderCreatorField, '.css_folder_creator_body');\nconst FolderCreatorGroupsElement = elementQuerySelector(FolderCreatorBodyElement, '.css_folder_creator_groups');\nconst NameInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-name\"] .css_folder_creator_group_body input');\nconst IconInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_field .css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('creator');\n};\n\nexport function createFormulatedFolder(): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  createFolder(name, icon).then((e) => {\n    if (e) {\n      closeFolderCreator();\n      promptMessage('folder', '已建立資料夾');\n    } else {\n      promptMessage('error', '無法建立資料夾');\n    }\n  });\n}\n\nexport function openFolderCreator(): void {\n  pushPageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'true');\n  closePreviousPage();\n}\n\nexport function closeFolderCreator(): void {\n  // revokePageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n","import { getCarInfo } from '../../data/apis/getCarInfo/index';\nimport { getLocation } from '../../data/apis/getLocation/index';\nimport { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { getRoute } from '../../data/apis/getRoute/index';\nimport { DataReceivingProgressEvent, deleteDataReceivingProgress, deleteDataUpdateTime, getDataReceivingProgress, setDataReceivingProgress } from '../../data/apis/loader';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\n\nconst dataDownloadRequestID = 'downloadData';\nexport let dataDownloadCompleted = false;\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeHeadElement = elementQuerySelector(HomeField, '.css_home_head');\nconst homeButtonRightElement = elementQuerySelector(HomeHeadElement, '.css_home_button_right');\nconst progressElement = elementQuerySelector(homeButtonRightElement, 'svg#download-svg path[progress=\"progress\"]');\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  const pixels = (1 - getDataReceivingProgress(dataDownloadRequestID)) * 189;\n  progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${pixels}px`);\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n    progressElement.addEventListener(\n      'transitionend',\n      function () {\n        homeButtonRightElement.setAttribute('complete', 'true');\n      },\n      { once: true }\n    );\n    progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${0}px`);\n    dataDownloadCompleted = true;\n  }\n}\n\nexport async function downloadData() {\n  /*\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_1', 0, false);\n  */\n  // eliminate duplicate downloads in integrateFolders\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getMaterialSymbolsSearchIndex', 0, false);\n  document.addEventListener(dataDownloadRequestID, handleDataReceivingProgressUpdates);\n  await getRoute(dataDownloadRequestID, true);\n  await getLocation(dataDownloadRequestID, 1);\n  await getCarInfo(dataDownloadRequestID, true);\n  await getMaterialSymbolsSearchIndex(dataDownloadRequestID);\n  deleteDataReceivingProgress(dataDownloadRequestID);\n  deleteDataUpdateTime(dataDownloadRequestID);\n}\n","import { getUpdateRate } from '../../../data/analytics/update-rate/index';\nimport { integratedRecentView, integratedRecentViews, integrateRecentViews } from '../../../data/recent-views/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../../data/settings/index';\nimport { booleanToString, compareThings, generateIdentifier } from '../../../tools/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { openBus } from '../../bus/index';\nimport { getBlankIconElement, setIcon } from '../../icons/index';\nimport { GeneratedElement, querySize } from '../../index';\nimport { openLocation } from '../../location/index';\nimport { openRoute } from '../../route/index';\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeBodyElement = elementQuerySelector(HomeField, '.css_home_body');\nconst RecentViewsField = elementQuerySelector(HomeBodyElement, '.css_home_recent_views');\nconst RecentViewsContentElement = elementQuerySelector(RecentViewsField, '.css_home_recent_views_content');\n\nlet previousIntegration = {};\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nlet recentViewsRefreshTimer_retryInterval: number = 10 * 1000;\nlet recentViewsRefreshTimer_baseInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_minInterval: number = 5 * 1000;\nlet recentViewsRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_dynamic: boolean = true;\nlet recentViewsRefreshTimer_streaming: boolean = false;\nlet recentViewsRefreshTimer_lastUpdate: number = 0;\nlet recentViewsRefreshTimer_nextUpdate: number = 0;\nlet recentViewsRefreshTimer_refreshing: boolean = false;\nlet recentViewsRefreshTimer_currentRequestID: string = '';\nlet recentViewsRefreshTimer_streamStarted: boolean = false;\nlet recentViewsRefreshTimer_timer: ReturnType<typeof setTimeout>;\n\nfunction generateElementOfRecentViewItem(): GeneratedElement {\n  // Main container\n  const recentViewsItemElement = document.createElement('div');\n  recentViewsItemElement.classList.add('css_home_recent_views_item');\n\n  // Head\n  const headElement = document.createElement('div');\n  headElement.classList.add('css_home_recent_views_item_head');\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_home_recent_views_item_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  // Title\n  const titleElement = document.createElement('div');\n  titleElement.classList.add('css_home_recent_views_item_title');\n\n  // Time\n  const timeElement = document.createElement('div');\n  timeElement.classList.add('css_home_recent_views_item_time');\n\n  // Assemble head\n  headElement.appendChild(iconElement);\n  headElement.appendChild(titleElement);\n  headElement.appendChild(timeElement);\n\n  // Name\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_home_recent_views_item_name');\n\n  // Assemble item\n  recentViewsItemElement.appendChild(headElement);\n  recentViewsItemElement.appendChild(nameElement);\n\n  return {\n    element: recentViewsItemElement,\n    id: ''\n  };\n}\n\nfunction updateRecentViewsField(integration: integratedRecentViews, skeletonScreen: boolean, animation: boolean) {\n  function updateItem(thisElement: HTMLElement, thisItem: integratedRecentView, previousItem: integratedRecentView): void {\n    function updateIcon(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head');\n      const thisIconElement = elementQuerySelector(thisHeadElement, '.css_home_recent_views_item_icon');\n      let icon = '';\n      switch (thisItem.type) {\n        case 'route':\n          icon = 'route';\n          break;\n        case 'location':\n          icon = 'location_on';\n          break;\n        case 'bus':\n          icon = 'directions_bus';\n          break;\n        case 'empty':\n          icon = 'lightbulb';\n          break;\n        default:\n          break;\n      }\n      setIcon(thisIconElement, icon);\n    }\n\n    function updateTitle(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const titleElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head .css_home_recent_views_item_title');\n      let title = '';\n      switch (thisItem.type) {\n        case 'route':\n          title = '路線';\n          break;\n        case 'location':\n          title = '地點';\n          break;\n        case 'bus':\n          title = '公車';\n          break;\n        case 'empty':\n          title = '提示';\n          break;\n        default:\n          break;\n      }\n      titleElement.innerText = title;\n    }\n\n    function updateTime(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const timeElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head .css_home_recent_views_item_time');\n      timeElement.innerText = thisItem.time.relative;\n    }\n\n    function updateName(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const nameElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_name');\n      nameElement.innerText = thisItem.name;\n    }\n\n    function updateOnclick(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      switch (thisItem.type) {\n        case 'route':\n          thisElement.onclick = function () {\n            openRoute(thisItem.id, thisItem.pid);\n          };\n          break;\n        case 'location':\n          thisElement.onclick = function () {\n            openLocation(thisItem.hash);\n          };\n          break;\n        case 'bus':\n          thisElement.onclick = function () {\n            openBus(thisItem.id);\n          };\n          break;\n        case 'empty':\n          thisElement.onclick = null;\n          break;\n        default:\n          break;\n      }\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null || previousItem === undefined) {\n      updateIcon(thisElement, thisItem);\n      updateTitle(thisElement, thisItem);\n      updateTime(thisElement, thisItem);\n      updateName(thisElement, thisItem);\n      updateOnclick(thisElement, thisItem);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (thisItem.type !== previousItem.type) {\n        updateIcon(thisElement, thisItem);\n        updateTitle(thisElement, thisItem);\n        updateTime(thisElement, thisItem);\n        updateName(thisElement, thisItem);\n        updateOnclick(thisElement, thisItem);\n        updateAnimation(thisElement, animation);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      } else {\n        switch (thisItem.type) {\n          case 'location':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.hash, thisItem.hash)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'route':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.id, thisItem.id) || !compareThings(previousItem.pid, thisItem.pid)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'bus':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.id, thisItem.id)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'empty':\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            break;\n          default:\n            break;\n        }\n        if (animation !== previousAnimation) {\n          updateAnimation(thisElement, animation);\n        }\n        if (skeletonScreen !== previousSkeletonScreen) {\n          updateSkeletonScreen(thisElement, skeletonScreen);\n        }\n      }\n    }\n  }\n\n  const itemQuantity = integration.itemQuantity;\n\n  const currentItemCapacity = elementQuerySelectorAll(RecentViewsContentElement, '.css_home_recent_views_item').length;\n  if (itemQuantity !== currentItemCapacity) {\n    const difference = currentItemCapacity - itemQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        const newRecentViewItemElement = generateElementOfRecentViewItem();\n        fragment.appendChild(newRecentViewItemElement.element);\n      }\n      RecentViewsContentElement.append(fragment);\n    } else {\n      const RecentViewsItemElements = elementQuerySelectorAll(RecentViewsContentElement, '.css_home_recent_views_item');\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        const recentViewItemIndex = currentItemCapacity - 1 - o;\n        RecentViewsItemElements[recentViewItemIndex].remove();\n      }\n    }\n  }\n\n  const RecentViewsItemElements = elementQuerySelectorAll(RecentViewsContentElement, '.css_home_recent_views_item');\n  for (let i = 0; i < itemQuantity; i++) {\n    const thisElement = RecentViewsItemElements[i];\n    const thisItem = integration.items[i];\n    if (previousIntegration.hasOwnProperty('items')) {\n      if (previousIntegration.items[i]) {\n        const previousItem = previousIntegration.items[i];\n        updateItem(thisElement, thisItem, previousItem);\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    } else {\n      updateItem(thisElement, thisItem, null);\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nexport function setUpRecentViewsFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const defaultItemQuantity = Math.floor(WindowSize.height / 70 / 3) + 2;\n  const items: Array<integratedRecentView> = [];\n  for (let i = 0; i < defaultItemQuantity; i++) {\n    items.push({\n      type: 'route',\n      id: 0,\n      pid: [],\n      time: {\n        absolute: 0,\n        relative: ''\n      },\n      name: ''\n    });\n  }\n  updateRecentViewsField(\n    {\n      items: items,\n      itemQuantity: items.length,\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nasync function refreshRecentViews() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  recentViewsRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  recentViewsRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  recentViewsRefreshTimer_refreshing = true;\n  recentViewsRefreshTimer_currentRequestID = generateIdentifier();\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'true');\n  const integration = await integrateRecentViews(recentViewsRefreshTimer_currentRequestID);\n  updateRecentViewsField(integration, false, playing_animation);\n  let updateRate = 0;\n  if (recentViewsRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  recentViewsRefreshTimer_lastUpdate = new Date().getTime();\n  if (recentViewsRefreshTimer_dynamic) {\n    recentViewsRefreshTimer_nextUpdate = Math.max(recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_minInterval, integration.dataUpdateTime + recentViewsRefreshTimer_baseInterval / updateRate);\n  } else {\n    recentViewsRefreshTimer_nextUpdate = recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_baseInterval;\n  }\n  recentViewsRefreshTimer_dynamicInterval = Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - recentViewsRefreshTimer_lastUpdate);\n  recentViewsRefreshTimer_refreshing = false;\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'false');\n}\n\nasync function streamRecentViews() {\n  refreshRecentViews()\n    .then(function () {\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(\n          function () {\n            streamRecentViews();\n          },\n          Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - new Date().getTime())\n        );\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(function () {\n          streamRecentViews();\n        }, recentViewsRefreshTimer_retryInterval);\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function initializeRecentViews(): void {\n  setUpRecentViewsFieldSkeletonScreen();\n  if (!recentViewsRefreshTimer_streaming) {\n    recentViewsRefreshTimer_streaming = true;\n    if (!recentViewsRefreshTimer_streamStarted) {\n      recentViewsRefreshTimer_streamStarted = true;\n      streamRecentViews();\n    } else {\n      refreshRecentViews();\n    }\n  }\n}\n","import { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { deleteDataReceivingProgress } from '../../data/apis/loader';\nimport { prepareForMaterialSymbolsSearch, searchForMaterialSymbols } from '../../data/search/searchMaterialSymbols';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { containPhoneticSymbols } from '../../tools/text';\nimport { dataDownloadCompleted } from '../home/index';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\ntype Target = 'editor' | 'creator' | '';\n\nlet currentTarget: Target = '';\n\nconst folderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst folderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst folderIconSelectorField = documentQuerySelector('.css_folder_icon_selector_field');\n\nfunction generateElementOfSymbol(symbol: string): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_folder_icon_selector_symbol');\n  element.onclick = function () {\n    selectFolderIcon(symbol, currentTarget);\n  };\n  element.appendChild(getIconElement(symbol));\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nasync function initializeFolderIconSelectorField() {\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  materialSymbolsElement.innerHTML = '';\n  const requestID = generateIdentifier();\n  const materialSymbols = await getMaterialSymbolsSearchIndex(requestID);\n  deleteDataReceivingProgress(requestID);\n  const fragment = new DocumentFragment();\n  for (const symbol in materialSymbols.symbols) {\n    const symbolElement = generateElementOfSymbol(symbol, currentTarget);\n    fragment.appendChild(symbolElement.element);\n  }\n  materialSymbolsElement.append(fragment);\n}\n\nexport function updateMaterialSymbolsSearchResult(query: string): void {\n  const materialSymbolsSearchResultsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols_search_results');\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  if (!containPhoneticSymbols(query)) {\n    const searchResults = searchForMaterialSymbols(query);\n    const fragment = new DocumentFragment();\n    for (const result of searchResults) {\n      const symbolElement = generateElementOfSymbol(result.item, currentTarget);\n      fragment.appendChild(symbolElement.element);\n    }\n    materialSymbolsSearchResultsElement.innerHTML = '';\n    materialSymbolsSearchResultsElement.append(fragment);\n    materialSymbolsSearchResultsElement.setAttribute('displayed', searchResults.length > 0 ? 'true' : 'false');\n    materialSymbolsElement.setAttribute('displayed', searchResults.length > 0 ? 'false' : 'true');\n  }\n}\n\nexport function selectFolderIcon(symbol: string): void {\n  let iconInputElement;\n  switch (currentTarget) {\n    case 'editor':\n      iconInputElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input');\n      break;\n    case 'creator':\n      iconInputElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\n      break;\n    default:\n      break;\n  }\n  iconInputElement.value = symbol;\n  closeFolderIconSelector();\n}\n\nexport function openFolderIconSelector(target: Target): void {\n  pushPageHistory('FolderIconSelector');\n  var openFolderIconSelectorElement;\n  switch (target) {\n    case 'editor':\n      currentTarget = 'editor';\n      openFolderIconSelectorElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\n      break;\n    case 'creator':\n      currentTarget = 'creator';\n      openFolderIconSelectorElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n      break;\n    default:\n      break;\n  }\n  if (dataDownloadCompleted) {\n    folderIconSelectorField.setAttribute('displayed', 'true');\n    initializeFolderIconSelectorField(currentTarget);\n    prepareForMaterialSymbolsSearch();\n  } else {\n    promptMessage('download_for_offline', '資料還在下載中');\n  }\n}\n\nexport function closeFolderIconSelector(): void {\n  revokePageHistory('FolderIconSelector');\n  folderIconSelectorField.setAttribute('displayed', 'false');\n}\n","import { FolderWithContent, listFoldersWithContent } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderEditor } from '../folder-editor/index';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\n\nconst FolderManagerField = documentQuerySelector('.css_folder_manager_field');\nconst FolderManagerBodyElement = elementQuerySelector(FolderManagerField, '.css_folder_manager_body');\nconst FolderManagerFolderListElement = elementQuerySelector(FolderManagerBodyElement, '.css_folder_manager_folder_list');\n\nfunction generateElementOfItem(item: FolderWithContent): GeneratedElement {\n  // Main container\n  const folderItemElement = document.createElement('div');\n  folderItemElement.classList.add('css_folder_manager_folder_item');\n  folderItemElement.onclick = () => {\n    openFolderEditor(item.id);\n  };\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_manager_folder_item_icon');\n  iconElement.appendChild(getIconElement(item.icon));\n\n  // Name\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_folder_manager_folder_item_name');\n  nameElement.appendChild(document.createTextNode(item.name));\n\n  // Status\n  const statusElement = document.createElement('div');\n  statusElement.classList.add('css_folder_manager_folder_item_status');\n  statusElement.appendChild(document.createTextNode(String(item.contentLength)));\n\n  // Arrow\n  const arrowElement = document.createElement('div');\n  arrowElement.classList.add('css_folder_manager_folder_item_arrow');\n  arrowElement.appendChild(getIconElement('arrow_forward_ios'));\n\n  // Assemble\n  folderItemElement.appendChild(iconElement);\n  folderItemElement.appendChild(nameElement);\n  folderItemElement.appendChild(statusElement);\n  folderItemElement.appendChild(arrowElement);\n\n  return {\n    element: folderItemElement,\n    id: ''\n  };\n}\n\nasync function initializeFolderManagerField() {\n  const foldersWithContent = await listFoldersWithContent();\n  FolderManagerFolderListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of foldersWithContent) {\n    const newItemElement = generateElementOfItem(item);\n    fragment.appendChild(newItemElement.element);\n  }\n  FolderManagerFolderListElement.append(fragment);\n}\n\nexport function openFolderManager(): void {\n  pushPageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'true');\n  initializeFolderManagerField();\n  // closePreviousPage();\n}\n\nexport function closeFolderManager(): void {\n  revokePageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'false');\n  // openPreviousPage();\n}\n","import { Folder, FolderContent, getFolder, listFolderContent, removeFromFolder, updateFolder, updateFolderContentIndex } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { getIconElement } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { closePreviousPage, GeneratedElement, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst FolderEditorHeadElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_head');\nconst LeftButtonElement = elementQuerySelector(FolderEditorHeadElement, '.css_folder_editor_button_left');\nconst FolderEditorBodyElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_body');\nconst FolderEditorGroupsElement = elementQuerySelector(FolderEditorBodyElement, '.css_folder_editor_groups');\nconst NameInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-name\"] .css_folder_editor_group_body input') as HTMLInputElement;\nconst IconInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input') as HTMLInputElement;\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\nconst FolderContentElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('editor');\n};\n\nfunction generateElementOfItem(folder: Folder, item: FolderContent): GeneratedElement {\n  const identifier = generateIdentifier();\n\n  // Main container\n  const itemElement = document.createElement('div');\n  itemElement.id = identifier;\n  itemElement.classList.add('css_folder_editor_folder_item');\n  itemElement.setAttribute('type', item.type);\n\n  // Icon, context, main text\n  let context = '';\n  let main = '';\n  let icon: MaterialSymbols = '';\n  switch (item.type) {\n    case 'stop':\n      icon = 'location_on';\n      context = `${item.route ? item.route.name : ''} - 往${item.route ? [item.route.endPoints.destination, item.route.endPoints.departure, ''][item.direction ? item.direction : 0] : ''}`;\n      main = item.name;\n      break;\n    case 'route':\n      icon = 'route';\n      context = `${item.endPoints.departure} \\u2194 ${item.endPoints.destination}`;\n      main = item.name;\n      break;\n    case 'location':\n      icon = 'location_on';\n      context = '地點';\n      main = item.name;\n      break;\n    case 'bus':\n      context = '';\n      main = item.name;\n      break;\n    case 'empty':\n      icon = 'lightbulb';\n      context = '提示';\n      main = '沒有內容';\n      break;\n    default:\n      icon = '';\n      context = 'null';\n      main = 'null';\n      break;\n  }\n\n  // Icon element\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_editor_folder_item_icon');\n  iconElement.appendChild(getIconElement(icon));\n\n  // Context element\n  const contextElement = document.createElement('div');\n  contextElement.classList.add('css_folder_editor_folder_item_context');\n  contextElement.appendChild(document.createTextNode(context));\n\n  // Main element\n  const mainElement = document.createElement('div');\n  mainElement.classList.add('css_folder_editor_folder_item_main');\n  mainElement.appendChild(document.createTextNode(main));\n\n  // Capsule element\n  const capsuleElement = document.createElement('div');\n  capsuleElement.classList.add('css_folder_editor_folder_item_capsule');\n\n  // Sort up control\n  const sortUpElement = document.createElement('div');\n  sortUpElement.classList.add('css_folder_editor_folder_item_sort_control_up');\n  sortUpElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortUpElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'up');\n  };\n\n  // Sort down control\n  const sortDownElement = document.createElement('div');\n  sortDownElement.classList.add('css_folder_editor_folder_item_sort_control_down');\n  sortDownElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortDownElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'down');\n  };\n\n  // Delete control\n  const deleteElement = document.createElement('div');\n  deleteElement.classList.add('css_folder_editor_folder_item_delete');\n  deleteElement.appendChild(getIconElement('delete'));\n  deleteElement.onclick = () => {\n    removeItemOnFolderEditor(identifier, folder.id, item.type, item.id);\n  };\n\n  // Capsule separators\n  const separator1Element = document.createElement('div');\n  separator1Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n  const separator2Element = document.createElement('div');\n  separator2Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(sortUpElement);\n  capsuleElement.appendChild(sortDownElement);\n  capsuleElement.appendChild(deleteElement);\n  capsuleElement.appendChild(separator1Element);\n  capsuleElement.appendChild(separator2Element);\n\n  // Assemble main item\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(contextElement);\n  itemElement.appendChild(mainElement);\n  itemElement.appendChild(capsuleElement);\n\n  return {\n    element: itemElement,\n    id: identifier\n  };\n}\n\nfunction updateFolderEditorField(folder: Folder, content: Array<FolderContent>): void {\n  NameInputElement.value = folder.name;\n  IconInputElement.value = folder.icon;\n\n  LeftButtonElement.onclick = function () {\n    saveEditedFolder(folder.id);\n  };\n\n  FolderContentElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of content) {\n    const thisItemElement = generateElementOfItem(folder, item);\n    fragment.appendChild(thisItemElement.element);\n  }\n  FolderContentElement.append(fragment);\n}\n\nasync function initializeFolderEditorField(folderID: string) {\n  // TODO: add skeleton screen\n  const folder = getFolder(folderID);\n  const content = await listFolderContent(folderID);\n  updateFolderEditorField(folder, content);\n}\n\nexport function openFolderEditor(folderID: string): void {\n  pushPageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'true');\n  initializeFolderEditorField(folderID);\n  closePreviousPage();\n}\n\nexport function closeFolderEditor(): void {\n  // revokePageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nexport function removeItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: number): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  removeFromFolder(folderID, type, id).then((e) => {\n    if (e) {\n      itemElement.remove();\n      switch (type) {\n        case 'stop':\n          promptMessage('delete', '已移除站牌');\n          break;\n        case 'route':\n          promptMessage('delete', '已移除路線');\n          break;\n        case 'location':\n          promptMessage('delete', '已移除地點');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移除');\n    }\n  });\n}\n\nexport function moveItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: FolderContent['id'], direction: 'up' | 'down'): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  updateFolderContentIndex(folderID, type, id, direction).then((e) => {\n    if (e) {\n      switch (direction) {\n        case 'up':\n          const previousSibling = itemElement.previousElementSibling;\n          if (previousSibling) {\n            itemElement.parentNode.insertBefore(itemElement, previousSibling);\n          }\n          promptMessage('arrow_circle_up', '已往上移');\n          break;\n        case 'down':\n          const nextSibling = itemElement.nextElementSibling;\n          if (nextSibling) {\n            itemElement.parentNode.insertBefore(nextSibling, itemElement);\n          }\n          promptMessage('arrow_circle_down', '已往下移');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移動');\n    }\n  });\n}\n\nexport function saveEditedFolder(folderID: string): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  updateFolder(folderID, name, icon).then(function (e) {\n    if (e) {\n      closeFolderEditor();\n      promptMessage('check_circle', '已儲存變更');\n    } else {\n      promptMessage('error', '無法儲存');\n    }\n  });\n}\n"],"names":["HomeField","documentQuerySelector","HomeHeadElement","elementQuerySelector","HomeBodyElement","HomeFoldersElement","HomeUpdateTimerElement","previousIntegration","previousAnimation","previousSkeletonScreen","foldersRefreshTimer_baseInterval","foldersRefreshTimer_minInterval","foldersRefreshTimer_dynamicInterval","foldersRefreshTimer_dynamic","foldersRefreshTimer_lastUpdate","foldersRefreshTimer_nextUpdate","foldersRefreshTimer_currentRequestID","foldersRefreshTimer_refreshing","foldersRefreshTimer_streaming","foldersRefreshTimer_streamStarted","generateElementOfItem","itemElement","document","createElement","classList","add","setAttribute","iconElement","appendChild","getIconElement","contextElement","mainElement","capsuleElement","statusElement","nextSlideElement","currentSlideElement","buttonElement","capsuleSeparatorElement","element","id","generateElementOfFolder","folderElement","headElement","getBlankIconElement","nameElement","contentElement","handleDataReceivingProgressUpdates","event","CustomEvent","offsetRatio","detail","progress","style","setProperty","toString","stage","removeEventListener","target","setUpFolderFieldSkeletonScreen","playing_animation","getSettingOptionValue","WindowSize","querySize","FieldHeight","width","height","contentLength","Math","floor","folders","i","folder","name","icon","timestamp","content","j","push","type","status","code","text","time","direction","route","endPoints","departure","destination","pathAttributeId","updateFoldersElement","dataUpdateTime","integration","skeletonScreen","animation","updateItem","thisElement","thisItem","previousItem","updateType","updateIcon","thisIconElement","setIcon","updateStatus","thisElementRect","getBoundingClientRect","top","left","bottom","right","windowWidth","window","innerWidth","windowHeight","innerHeight","thisItemStatusElement","innerText","addEventListener","remove","once","updateMain","main","busID","updateContext","context","updateButton","onclick","openRoute","openLocation","updateAnimation","booleanToString","updateSkeletonScreen","compareThings","updateFolder","thisFolder","previousFolder","updateName","thisHeadElement","foldersLength","length","currentFolderCapacity","elementQuerySelectorAll","difference","fragment","DocumentFragment","o","d","abs","newFolderElement","append","FolderElements","thisFolderContentLength","thisFolderElement","thisFolderContentElement","currentItemCapacity","newItemElement","FolderContentItemElements","FolderElements2","thisFolderContent","hasOwnProperty","thisFolderItemElements","refreshFolders","_refreshFolders","apply","arguments","_asyncToGenerator","refresh_interval_setting","dynamic","baseInterval","generateIdentifier","integrateFolders","updateRate","getUpdateRate","Date","getTime","max","streamFolders","_streamFolders","then","setTimeout","err","promptMessage","initializeFolders","getIconHTML","identifier","parentElement","FolderCreatorField","FolderCreatorBodyElement","FolderCreatorGroupsElement","NameInputElement","IconInputElement","createFormulatedFolder","value","createFolder","e","closeFolderCreator","openFolderCreator","pushPageHistory","closePreviousPage","openPreviousPage","openFolderIconSelector","dataDownloadRequestID","dataDownloadCompleted","homeButtonRightElement","progressElement","pixels","getDataReceivingProgress","downloadData","_downloadData","setDataReceivingProgress","getRoute","getLocation","getCarInfo","getMaterialSymbolsSearchIndex","deleteDataReceivingProgress","deleteDataUpdateTime","RecentViewsField","RecentViewsContentElement","recentViewsRefreshTimer_baseInterval","recentViewsRefreshTimer_minInterval","recentViewsRefreshTimer_dynamic","recentViewsRefreshTimer_streaming","recentViewsRefreshTimer_lastUpdate","recentViewsRefreshTimer_nextUpdate","recentViewsRefreshTimer_currentRequestID","recentViewsRefreshTimer_streamStarted","generateElementOfRecentViewItem","recentViewsItemElement","titleElement","timeElement","updateRecentViewsField","updateTitle","title","updateTime","relative","updateOnclick","pid","hash","openBus","itemQuantity","newRecentViewItemElement","RecentViewsItemElements","items","setUpRecentViewsFieldSkeletonScreen","defaultItemQuantity","absolute","refreshRecentViews","_refreshRecentViews","integrateRecentViews","streamRecentViews","_streamRecentViews","initializeRecentViews","currentTarget","folderEditorField","folderCreatorField","folderIconSelectorField","generateElementOfSymbol","symbol","iconInputElement","closeFolderIconSelector","selectFolderIcon","_initializeFolderIconSelectorField","materialSymbolsElement","innerHTML","requestID","materialSymbols","symbols","symbolElement","updateMaterialSymbolsSearchResult","query","materialSymbolsSearchResultsElement","containPhoneticSymbols","_step","searchResults","searchForMaterialSymbols","_iterator","_createForOfIteratorHelper","s","n","done","item","f","initializeFolderIconSelectorField","prepareForMaterialSymbolsSearch","revokePageHistory","FolderManagerField","FolderManagerBodyElement","FolderManagerFolderListElement","folderItemElement","openFolderEditor","createTextNode","String","arrowElement","_initializeFolderManagerField","foldersWithContent","listFoldersWithContent","openFolderManager","initializeFolderManagerField","closeFolderManager","FolderEditorField","FolderEditorHeadElement","LeftButtonElement","FolderEditorBodyElement","FolderEditorGroupsElement","OpenFolderIconSelectorElement","FolderContentElement","sortUpElement","moveItemOnFolderEditor","sortDownElement","deleteElement","itemID","folderID","removeFromFolder","removeItemOnFolderEditor","separator1Element","separator2Element","updateFolderEditorField","closeFolderEditor","thisItemElement","_initializeFolderEditorField","getFolder","listFolderContent","_x","initializeFolderEditorField","updateFolderContentIndex","previousSibling","previousElementSibling","parentNode","insertBefore","nextSibling","nextElementSibling"],"ignoreList":[],"sourceRoot":""}