{"version":3,"file":"57852b6f71af9cf4a1e5.js","mappings":"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","sources":["webpack://bus/./src/interface/index.ts","webpack://bus/./src/interface/icon-selector/index.ts","webpack://bus/./src/interface/icons/index.ts","webpack://bus/./src/interface/home/recent-views/index.ts"],"sourcesContent":["import { documentQuerySelector } from '../tools/elements';\nimport { isRunningStandalone } from '../tools/index';\nimport { closeBus, openBus } from './bus/index';\nimport { closeFolderCreator, openFolderCreator } from './folder-creator/index';\nimport { closeFolderEditor, openFolderEditor } from './folder-editor/index';\nimport { closeFolderManager, openFolderManager } from './folder-manager/index';\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor } from './personal-schedule-editor/index';\nimport { closePersonalScheduleManager, openPersonalScheduleManager } from './personal-schedule-manager/index';\nimport { closeRegisterNotification, openRegisterNotification } from './register-notification/index';\nimport { closeSearch, openSearch } from './search/index';\nimport { closeSettings, openSettings } from './settings/index';\n\nconst SplashScreenElement = documentQuerySelector('.css_splash_screen');\nconst ErrorMessageElement = documentQuerySelector('.css_error_message');\n\nconst splashScreenTimer_minimalTimeOut = 100;\nconst splashScreenTimer_openTime = new Date().getTime();\n\ntype Page = 'Home' | 'FolderCreator' | 'FolderEditor' | 'IconSelector' | 'FolderManager' | 'LocationDetails' | 'Location' | 'RouteDetails' | 'Route' | 'SaveToFolder' | 'Search' | 'Settings' | 'SettingsOptions' | 'DataUsage' | 'PersonalScheduleManager' | 'PersonalScheduleCreator' | 'PersonalScheduleEditor' | 'Bus' | 'RegisterNotification' | 'ScheduleNotification' | 'NotificationScheduleManager' | 'QRCode';\n\nlet pageHistory: Array<Page> = ['Home'];\n\nexport function pushPageHistory(page: Page): void {\n  const pageHistoryLength = pageHistory.length;\n  const lastPage = pageHistory[pageHistoryLength - 1];\n  if (lastPage !== page) {\n    pageHistory.push(page);\n  }\n}\n\nexport function revokePageHistory(page: Page): void {\n  if (pageHistory.indexOf(page) > -1) {\n    const pageHistoryLength = pageHistory.length;\n    if (pageHistory[pageHistoryLength - 1] === page) {\n      pageHistory.pop();\n    }\n  }\n}\n\nexport function closePreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        closeFolderCreator();\n        break;\n      case 'FolderEditor':\n        closeFolderEditor();\n        break;\n      case 'IconSelector':\n        break;\n      case 'FolderManager':\n        closeFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'LocationDetails':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        closeSearch();\n        break;\n      case 'Settings':\n        closeSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        closePersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        closePersonalScheduleEditor();\n        break;\n      case 'Bus':\n        closeBus();\n        break;\n      case 'RegisterNotification':\n        closeRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      case 'QRCode':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function openPreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    pageHistory.pop();\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        openFolderCreator();\n        break;\n      case 'FolderEditor':\n        openFolderEditor();\n        break;\n      case 'IconSelector':\n        break;\n      case 'FolderManager':\n        openFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'LocationDetails':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        openSearch();\n        break;\n      case 'Settings':\n        openSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        openPersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        openPersonalScheduleEditor();\n        break;\n      case 'Bus':\n        openBus();\n        break;\n      case 'RegisterNotification':\n        openRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      case 'QRCode':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function setSplashScreenIconOffsetY(): void {\n  let offset = 0;\n  if (isRunningStandalone()) {\n    offset = (-1 * (window.outerHeight - window.innerHeight)) / 2;\n  }\n  documentQuerySelector('.css_splash_screen svg.css_splash_screen_icon').style.setProperty('--b-cssvar-splash-screen-icon-offset-y', `${offset}px`);\n}\n\nexport function fadeOutSplashScreen(callback: Function): void {\n  function fadeOut() {\n    SplashScreenElement.classList.add('css_splash_screen_fade_out');\n    SplashScreenElement.addEventListener(\n      'animationend',\n      function () {\n        SplashScreenElement.setAttribute('displayed', 'false');\n        SplashScreenElement.classList.remove('css_splash_screen_fade_out');\n        if (typeof callback === 'function') {\n          callback();\n        }\n      },\n      { once: true }\n    );\n  }\n  const cureentTime = new Date().getTime();\n  if (cureentTime - splashScreenTimer_openTime < splashScreenTimer_minimalTimeOut) {\n    setTimeout(fadeOut, Math.max(1, cureentTime - splashScreenTimer_openTime));\n  } else {\n    fadeOut();\n  }\n}\n\nexport function showErrorMessage(): void {\n  ErrorMessageElement.setAttribute('displayed', 'true');\n}\n\nexport type GroupStyles = {\n  [groupKey: string]: {\n    width: number;\n    offset: number;\n  };\n};\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\ntype SizeType = 'window' | 'head' | 'head-one-button' | 'head-two-button' | 'route-details-canvas' | 'route-bus-arrival-time-chart' | 'location-bus-arrival-time-chart';\n\nexport function querySize(type: SizeType): Size {\n  let width: number = 0;\n  let height: number = 0;\n  const windowWidth = window.innerWidth;\n  const windowHeight = window.innerHeight;\n  switch (type) {\n    case 'window':\n      width = windowWidth;\n      height = windowHeight;\n      break;\n    case 'head':\n      width = windowWidth;\n      height = 55;\n      break;\n    case 'head-one-button':\n      width = windowWidth - 55;\n      height = 55;\n      break;\n    case 'head-two-button':\n      width = windowWidth - 55 * 2;\n      height = 55;\n      break;\n    case 'route-details-canvas':\n      width = windowWidth - 10 * 2 - 10 * 2;\n      height = 24 * 70;\n      break;\n    case 'route-bus-arrival-time-chart':\n      width = windowWidth - 45 - 15 - 20;\n      height = 75;\n      break;\n    case 'location-bus-arrival-time-chart':\n      width = windowWidth - 30 - 20;\n      height = 75;\n      break;\n    default:\n      width = 0;\n      height = 0;\n      break;\n  }\n  return {\n    width,\n    height\n  };\n}\n\nexport function scrollDocumentToTop(): void {\n  window.scrollTo({\n    top: 0,\n    behavior: 'instant'\n  });\n}\n","import { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { deleteDataReceivingProgress } from '../../data/apis/loader';\nimport { prepareForMaterialSymbolsSearch, searchForMaterialSymbols } from '../../data/search/searchMaterialSymbols';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { booleanToString, generateIdentifier } from '../../tools/index';\nimport { containPhoneticSymbols } from '../../tools/text';\nimport { getBlankIconElement, setIcon } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { pushPageHistory, querySize, revokePageHistory } from '../index';\n\nconst iconSelectorField = documentQuerySelector('.css_icon_selector_field');\nconst headElement = elementQuerySelector(iconSelectorField, '.css_icon_selector_head');\nconst searchInputElement = elementQuerySelector(headElement, '#search_material_symbols_input') as HTMLInputElement;\nconst bodyElement = elementQuerySelector(iconSelectorField, '.css_icon_selector_body');\nconst symbolsElement = elementQuerySelector(bodyElement, '.css_icon_selector_material_symbols');\n\nlet currentSymbols: Array<MaterialSymbols> = [];\n\nlet previousSymbols: Array<MaterialSymbols> = [];\nlet previousAnimation: boolean = false;\nlet previosuSkeletonScreen: boolean = false;\nlet previousInputElement;\n\nfunction generateElementOfSymbol(): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_icon_selector_material_symbols_symbol');\n  element.appendChild(getBlankIconElement());\n  return element;\n}\n\nfunction updateIconSelectorField(symbols: Array<MaterialSymbols>, inputElement: HTMLInputElement, skeletonScreen: boolean, animation: boolean): void {\n  function updateSymbol(thisSymbolElement: HTMLElement, thisSymbol: MaterialSymbols, previousSymbol: MaterialSymbols | null): void {\n    function updateIcon(thisSymbolElement: HTMLElement, thisSymbol: MaterialSymbols): void {\n      setIcon(thisSymbolElement, thisSymbol);\n    }\n\n    function updateOnclick(thisSymbolElement: HTMLElement, thisSymbol: MaterialSymbols, inputElement: HTMLInputElement): void {\n      thisSymbolElement.onclick = function () {\n        selectIcon(thisSymbol, inputElement);\n      };\n    }\n\n    function updateSkeletonScreen(thisSymbolElement: HTMLElement, skeletonScreen: boolean): void {\n      thisSymbolElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    function updateAnimation(thisSymbolElement: HTMLElement, animation: boolean): void {\n      thisSymbolElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    if (previousSymbol === null || previousSymbol === undefined) {\n      updateIcon(thisSymbolElement, thisSymbol);\n      updateOnclick(thisSymbolElement, thisSymbol, inputElement);\n      updateSkeletonScreen(thisSymbolElement, skeletonScreen);\n      updateAnimation(thisSymbolElement, animation);\n    } else {\n      if (previousSymbol !== thisSymbol) {\n        updateIcon(thisSymbolElement, thisSymbol);\n        updateOnclick(thisSymbolElement, thisSymbol, inputElement);\n      } else if (previousInputElement !== inputElement) {\n        updateOnclick(thisSymbolElement, thisSymbol, inputElement);\n      }\n\n      if (previosuSkeletonScreen !== skeletonScreen) {\n        updateSkeletonScreen(thisSymbolElement, skeletonScreen);\n      }\n\n      if (previousAnimation !== animation) {\n        updateAnimation(thisSymbolElement, animation);\n      }\n    }\n  }\n\n  const symbolsLength = symbols.length;\n  const symbolElements = Array.from(elementQuerySelectorAll(symbolsElement, '.css_icon_selector_material_symbols_symbol'));\n  const currentSymbolElementsLength = symbolElements.length;\n  if (symbolsLength !== currentSymbolElementsLength) {\n    const difference = currentSymbolElementsLength - symbolsLength;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newSymbolElement = generateElementOfSymbol();\n        fragment.appendChild(newSymbolElement);\n        symbolElements.push(newSymbolElement);\n      }\n      symbolsElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentSymbolElementsLength - 1, q = currentSymbolElementsLength - difference - 1; p > q; p--) {\n        symbolElements[p].remove();\n        symbolElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < symbolsLength; i++) {\n    const previousSymbol = previousSymbols[i];\n    const currentSymbol = symbols[i];\n    const thisSymbolElement = symbolElements[i];\n    if (previousSymbol) {\n      updateSymbol(thisSymbolElement, currentSymbol, previousSymbol);\n    } else {\n      updateSymbol(thisSymbolElement, currentSymbol, null);\n    }\n  }\n\n  previousSymbols = symbols.slice();\n  previousInputElement = inputElement;\n  previosuSkeletonScreen = skeletonScreen;\n  previousAnimation = animation;\n}\n\nfunction setupIconSelectorFieldSkeleton(inputElement: HTMLInputElement) {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const quantity = Math.floor(WindowSize.width / 50) * (Math.floor(WindowSize.height / 50) + 3);\n  const symbols = [];\n  for (let i = 0; i < quantity; i++) {\n    symbols.push('');\n  }\n  updateIconSelectorField(symbols, inputElement, true, playing_animation);\n}\n\nasync function initializeIconSelectorField(inputElement: HTMLInputElement) {\n  setupIconSelectorFieldSkeleton(inputElement);\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const materialSymbols = await getMaterialSymbolsSearchIndex(requestID);\n  currentSymbols = [];\n  for (const symbol in materialSymbols.symbols) {\n    currentSymbols.push(symbol);\n  }\n  updateIconSelectorField(currentSymbols, inputElement, false, playing_animation);\n  prepareForMaterialSymbolsSearch(materialSymbols);\n  deleteDataReceivingProgress(requestID);\n}\n\nexport function initializeIconSelectorSearchInput(): void {\n  searchInputElement.addEventListener('paste', function () {\n    updateMaterialSymbolsSearchResult();\n  });\n\n  searchInputElement.addEventListener('cut', function () {\n    updateMaterialSymbolsSearchResult();\n  });\n\n  searchInputElement.addEventListener('selectionchange', function () {\n    updateMaterialSymbolsSearchResult();\n  });\n\n  document.addEventListener('selectionchange', function () {\n    updateMaterialSymbolsSearchResult();\n  });\n\n  searchInputElement.addEventListener('keyup', function () {\n    updateMaterialSymbolsSearchResult();\n  });\n}\n\nexport function updateMaterialSymbolsSearchResult(): void {\n  const query = searchInputElement.value;\n  if (!containPhoneticSymbols(query)) {\n    const searchResults = searchForMaterialSymbols(query); // TODO: return name index\n    for (let i = searchResults.length - 1; i >= 0; i--) {\n      const item = searchResults[i].item;\n      const currentIndex = currentSymbols.indexOf(item);\n      if (!currentSymbols[i] || currentIndex < 0) continue;\n      [currentSymbols[i], currentSymbols[currentIndex]] = [currentSymbols[currentIndex], currentSymbols[i]];\n    }\n    updateIconSelectorField(currentSymbols, previousInputElement, false, previousAnimation);\n  }\n}\n\nfunction selectIcon(symbol: string, inputElement: HTMLInputElement): void {\n  inputElement.value = symbol;\n  closeIconSelector();\n}\n\nexport function openIconSelector(inputElement: HTMLInputElement): void {\n  pushPageHistory('IconSelector');\n  iconSelectorField.setAttribute('displayed', 'true');\n  searchInputElement.value = '';\n  initializeIconSelectorField(inputElement);\n}\n\nexport function closeIconSelector(): void {\n  revokePageHistory('IconSelector');\n  iconSelectorField.setAttribute('displayed', 'false');\n}\n","import { elementQuerySelector } from '../../tools/elements';\nimport { MaterialSymbols } from './material-symbols-type';\n\nexport function getIconElement(identifier: MaterialSymbols): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  iconElement.innerText = identifier;\n  return iconElement;\n}\n\nexport function getBlankIconElement(): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  return iconElement;\n}\n\nexport function setIcon(parentElement: HTMLElement, identifier: MaterialSymbols): void {\n  const thisSpanElement = elementQuerySelector(parentElement, 'span.css_material_symbols_rounded');\n  thisSpanElement.innerText = identifier;\n}\n","import { getUpdateRate } from '../../../data/analytics/update-rate/index';\nimport { integratedRecentView, integratedRecentViews, integrateRecentViews } from '../../../data/recent-views/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { booleanToString, compareThings, generateIdentifier, hasOwnProperty } from '../../../tools/index';\nimport { openBus } from '../../bus/index';\nimport { getBlankIconElement, setIcon } from '../../icons/index';\nimport { querySize } from '../../index';\nimport { openLocation } from '../../location/index';\nimport { openRoute } from '../../route/index';\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeBodyElement = elementQuerySelector(HomeField, '.css_home_body');\nconst RecentViewsField = elementQuerySelector(HomeBodyElement, '.css_home_recent_views');\nconst RecentViewsContentElement = elementQuerySelector(RecentViewsField, '.css_home_recent_views_content');\n\nlet previousIntegration = {};\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nlet recentViewsRefreshTimer_retryInterval: number = 10 * 1000;\nlet recentViewsRefreshTimer_baseInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_minInterval: number = 5 * 1000;\nlet recentViewsRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_dynamic: boolean = true;\nlet recentViewsRefreshTimer_streaming: boolean = false;\nlet recentViewsRefreshTimer_lastUpdate: number = 0;\nlet recentViewsRefreshTimer_nextUpdate: number = 0;\nlet recentViewsRefreshTimer_refreshing: boolean = false;\nlet recentViewsRefreshTimer_currentRequestID: string = '';\nlet recentViewsRefreshTimer_streamStarted: boolean = false;\nlet recentViewsRefreshTimer_timer: ReturnType<typeof setTimeout>;\n\nfunction generateElementOfRecentViewItem(): HTMLElement {\n  // Main container\n  const recentViewsItemElement = documentCreateDivElement();\n  recentViewsItemElement.classList.add('css_home_recent_views_item');\n\n  // Head\n  const headElement = documentCreateDivElement();\n  headElement.classList.add('css_home_recent_views_item_head');\n\n  // Icon\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_home_recent_views_item_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  // Title\n  const titleElement = documentCreateDivElement();\n  titleElement.classList.add('css_home_recent_views_item_title');\n\n  // Time\n  const timeElement = documentCreateDivElement();\n  timeElement.classList.add('css_home_recent_views_item_time');\n\n  // Assemble head\n  headElement.appendChild(iconElement);\n  headElement.appendChild(titleElement);\n  headElement.appendChild(timeElement);\n\n  // Name\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_home_recent_views_item_name');\n\n  // Assemble item\n  recentViewsItemElement.appendChild(headElement);\n  recentViewsItemElement.appendChild(nameElement);\n\n  return recentViewsItemElement;\n}\n\nfunction updateRecentViewsField(integration: integratedRecentViews, skeletonScreen: boolean, animation: boolean) {\n  function updateItem(thisElement: HTMLElement, thisItem: integratedRecentView, previousItem: integratedRecentView): void {\n    function updateIcon(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head');\n      const thisIconElement = elementQuerySelector(thisHeadElement, '.css_home_recent_views_item_icon');\n      let icon = '';\n      switch (thisItem.type) {\n        case 'route':\n          icon = 'route';\n          break;\n        case 'location':\n          icon = 'location_on';\n          break;\n        case 'bus':\n          icon = 'directions_bus';\n          break;\n        case 'empty':\n          icon = 'lightbulb';\n          break;\n        default:\n          break;\n      }\n      setIcon(thisIconElement, icon);\n    }\n\n    function updateTitle(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head');\n      const thisTitleElement = elementQuerySelector(thisHeadElement, '.css_home_recent_views_item_title');\n      let title = '';\n      switch (thisItem.type) {\n        case 'route':\n          title = '路線';\n          break;\n        case 'location':\n          title = '地點';\n          break;\n        case 'bus':\n          title = '公車';\n          break;\n        case 'empty':\n          title = '提示';\n          break;\n        default:\n          break;\n      }\n      thisTitleElement.innerText = title;\n    }\n\n    function updateTime(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const thisHeadElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head');\n      const thisTimeElement = elementQuerySelector(thisHeadElement, '.css_home_recent_views_item_time');\n      thisTimeElement.innerText = thisItem.time.relative;\n    }\n\n    function updateName(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const thisNameElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_name');\n      thisNameElement.innerText = thisItem.name;\n    }\n\n    function updateOnclick(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      switch (thisItem.type) {\n        case 'route':\n          thisElement.onclick = function () {\n            openRoute(thisItem.id, thisItem.pid);\n          };\n          break;\n        case 'location':\n          thisElement.onclick = function () {\n            openLocation(thisItem.hash);\n          };\n          break;\n        case 'bus':\n          thisElement.onclick = function () {\n            openBus(thisItem.id);\n          };\n          break;\n        case 'empty':\n          thisElement.onclick = null;\n          break;\n        default:\n          break;\n      }\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null || previousItem === undefined) {\n      updateIcon(thisElement, thisItem);\n      updateTitle(thisElement, thisItem);\n      updateTime(thisElement, thisItem);\n      updateName(thisElement, thisItem);\n      updateOnclick(thisElement, thisItem);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (thisItem.type !== previousItem.type) {\n        updateIcon(thisElement, thisItem);\n        updateTitle(thisElement, thisItem);\n        updateTime(thisElement, thisItem);\n        updateName(thisElement, thisItem);\n        updateOnclick(thisElement, thisItem);\n        updateAnimation(thisElement, animation);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      } else {\n        switch (thisItem.type) {\n          case 'location':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.hash, thisItem.hash)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'route':\n            if (previousItem.name !== thisItem.name) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (previousItem.id !== thisItem.id || !compareThings(previousItem.pid, thisItem.pid)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'bus':\n            if (previousItem.name !== thisItem.name) {\n              updateName(thisElement, thisItem);\n            }\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            if (previousItem.id !== thisItem.id) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'empty':\n            if (previousItem.time !== thisItem.time) {\n              updateTime(thisElement, thisItem);\n            }\n            break;\n          default:\n            break;\n        }\n        if (previousAnimation !== animation) {\n          updateAnimation(thisElement, animation);\n        }\n        if (previousSkeletonScreen !== skeletonScreen) {\n          updateSkeletonScreen(thisElement, skeletonScreen);\n        }\n      }\n    }\n  }\n\n  const itemQuantity = integration.itemQuantity;\n\n  const itemElements = Array.from(elementQuerySelectorAll(RecentViewsContentElement, '.css_home_recent_views_item'));\n  const currentItemElementsLength = itemElements.length;\n  if (itemQuantity !== currentItemElementsLength) {\n    const difference = currentItemElementsLength - itemQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newRecentViewItemElement = generateElementOfRecentViewItem();\n        fragment.appendChild(newRecentViewItemElement);\n        itemElements.push(newRecentViewItemElement);\n      }\n      RecentViewsContentElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentItemElementsLength - 1, q = currentItemElementsLength - difference - 1; p > q; p--) {\n        itemElements[p].remove();\n        itemElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < itemQuantity; i++) {\n    const thisElement = itemElements[i];\n    const thisItem = integration.items[i];\n    if (hasOwnProperty(previousIntegration, 'items')) {\n      if (previousIntegration.items[i]) {\n        const previousItem = previousIntegration.items[i];\n        updateItem(thisElement, thisItem, previousItem);\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    } else {\n      updateItem(thisElement, thisItem, null);\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nexport function setUpRecentViewsFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const defaultItemQuantity = Math.floor(WindowSize.height / 70 / 3) + 2;\n  const items: Array<integratedRecentView> = [];\n  for (let i = 0; i < defaultItemQuantity; i++) {\n    items.push({\n      type: 'route',\n      id: 0,\n      pid: [],\n      time: {\n        absolute: 0,\n        relative: ''\n      },\n      name: ''\n    });\n  }\n  updateRecentViewsField(\n    {\n      items: items,\n      itemQuantity: items.length,\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nasync function refreshRecentViews() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  recentViewsRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  recentViewsRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  recentViewsRefreshTimer_refreshing = true;\n  recentViewsRefreshTimer_currentRequestID = generateIdentifier();\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'true');\n  const integration = await integrateRecentViews(recentViewsRefreshTimer_currentRequestID);\n  updateRecentViewsField(integration, false, playing_animation);\n  let updateRate = 0;\n  if (recentViewsRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  recentViewsRefreshTimer_lastUpdate = new Date().getTime();\n  if (recentViewsRefreshTimer_dynamic) {\n    recentViewsRefreshTimer_nextUpdate = Math.max(recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_minInterval, integration.dataUpdateTime + recentViewsRefreshTimer_baseInterval / updateRate);\n  } else {\n    recentViewsRefreshTimer_nextUpdate = recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_baseInterval;\n  }\n  recentViewsRefreshTimer_dynamicInterval = Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - recentViewsRefreshTimer_lastUpdate);\n  recentViewsRefreshTimer_refreshing = false;\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'false');\n}\n\nasync function streamRecentViews() {\n  refreshRecentViews()\n    .then(function () {\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(\n          function () {\n            streamRecentViews();\n          },\n          Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - new Date().getTime())\n        );\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(function () {\n          streamRecentViews();\n        }, recentViewsRefreshTimer_retryInterval);\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function initializeRecentViews(): void {\n  setUpRecentViewsFieldSkeletonScreen();\n  if (!recentViewsRefreshTimer_streaming) {\n    recentViewsRefreshTimer_streaming = true;\n    if (!recentViewsRefreshTimer_streamStarted) {\n      recentViewsRefreshTimer_streamStarted = true;\n      streamRecentViews();\n    } else {\n      refreshRecentViews();\n    }\n  }\n}\n"],"names":["SplashScreenElement","documentQuerySelector","ErrorMessageElement","splashScreenTimer_openTime","Date","getTime","pageHistory","pushPageHistory","page","pageHistoryLength","length","push","revokePageHistory","indexOf","pop","closePreviousPage","closeFolderCreator","closeFolderEditor","closeFolderManager","closeSearch","closeSettings","closePersonalScheduleManager","closePersonalScheduleEditor","closeBus","closeRegisterNotification","openPreviousPage","previousPage","openFolderCreator","openFolderEditor","openFolderManager","openSearch","openSettings","openPersonalScheduleManager","openPersonalScheduleEditor","openBus","openRegisterNotification","setSplashScreenIconOffsetY","offset","isRunningStandalone","window","outerHeight","innerHeight","style","setProperty","fadeOutSplashScreen","callback","fadeOut","classList","add","addEventListener","setAttribute","remove","once","cureentTime","setTimeout","Math","max","showErrorMessage","querySize","type","width","height","windowWidth","innerWidth","windowHeight","scrollDocumentToTop","scrollTo","top","behavior","previousInputElement","iconSelectorField","headElement","elementQuerySelector","searchInputElement","bodyElement","symbolsElement","currentSymbols","previousSymbols","previousAnimation","previosuSkeletonScreen","generateElementOfSymbol","element","documentCreateDivElement","appendChild","getBlankIconElement","updateIconSelectorField","symbols","inputElement","skeletonScreen","animation","updateSymbol","thisSymbolElement","thisSymbol","previousSymbol","updateIcon","setIcon","updateOnclick","onclick","symbol","value","closeIconSelector","selectIcon","updateSkeletonScreen","booleanToString","updateAnimation","symbolsLength","symbolElements","Array","from","elementQuerySelectorAll","currentSymbolElementsLength","difference","fragment","DocumentFragment","o","newSymbolElement","append","p","q","splice","i","currentSymbol","slice","_initializeIconSelectorField","_asyncToGenerator","playing_animation","getSettingOptionValue","WindowSize","quantity","floor","setupIconSelectorFieldSkeleton","requestID","generateIdentifier","materialSymbols","getMaterialSymbolsSearchIndex","prepareForMaterialSymbolsSearch","deleteDataReceivingProgress","apply","arguments","initializeIconSelectorSearchInput","updateMaterialSymbolsSearchResult","document","query","containPhoneticSymbols","searchResults","searchForMaterialSymbols","item","currentIndex","_ref","openIconSelector","_x","initializeIconSelectorField","getIconElement","identifier","iconElement","createElement","innerText","parentElement","HomeField","HomeBodyElement","RecentViewsField","RecentViewsContentElement","previousIntegration","previousSkeletonScreen","recentViewsRefreshTimer_baseInterval","recentViewsRefreshTimer_minInterval","recentViewsRefreshTimer_dynamic","recentViewsRefreshTimer_streaming","recentViewsRefreshTimer_lastUpdate","recentViewsRefreshTimer_nextUpdate","recentViewsRefreshTimer_currentRequestID","recentViewsRefreshTimer_streamStarted","generateElementOfRecentViewItem","recentViewsItemElement","titleElement","timeElement","nameElement","updateRecentViewsField","integration","updateItem","thisElement","thisItem","previousItem","thisHeadElement","thisIconElement","icon","updateTitle","thisTitleElement","title","updateTime","time","relative","updateName","name","openRoute","id","pid","openLocation","hash","compareThings","itemQuantity","itemElements","currentItemElementsLength","newRecentViewItemElement","items","hasOwnProperty","setUpRecentViewsFieldSkeletonScreen","defaultItemQuantity","absolute","dataUpdateTime","refreshRecentViews","_refreshRecentViews","refresh_interval_setting","dynamic","baseInterval","integrateRecentViews","updateRate","getUpdateRate","streamRecentViews","_streamRecentViews","then","err","initializeRecentViews"],"ignoreList":[],"sourceRoot":""}