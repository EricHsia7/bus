"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,t,a){a.d(t,{default:()=>j});var n,i,r=a(467),o=a(6483),d=a(8925),s=a(5767),c=a(9566),l=a(3422),u=a(5314),p=a(3459),f=a(3251),h=a(1238),b=a(1531),v=a(4884),y=a(9499),g=a(6052),m=a(4294),w=a(8379),C=a(540),k=a(6082),L=a(6091),S=a(904),F=a(1351),x=a(3030),_=a(2174),T=a(8380),A=a(5693),D=a(7891),E=a(8279),M=a(7908),P=a(5286),Y=a(4690),N=a(3041),R=a(752),q=a(5009),B=a(6104),z=a(6166),U=a(2994),$=a(9469),H=(a(4800),a(5259),a(6764),a(2547),a(8933),a(6971),a(7336),a(6561),a(6110),a(9080),a(1818),a(9590),a(1844),a(2239),a(6597),a(9991),a(3777),a(2696),a(5461),a(2421),a(3058),a(1102),a(7868),a(6388),a(3127),a(1743),a(1306),a(9731),a(245),a(4071),a(5135),a(8969),a(1003),a(4472),a(4620),a(9714),a(2681),a(124),a(3381),a(9351),a(1077),a(7037),a(9205),a(3534),a(6018),a(5392),a(1308),a(7225),a(5297),a(7499),a(4953),a(7114),a(9657),a(9598),a(626),a(5504),a(6780),a(969),a(7943),a(4721),a(4263),a(3963),a(1542),a(6153),a(112),a(5374),a(5666),a(8558),a(1452),a(2676),a(1195),a(5068),a(1469),a(4935),a(321),a(6907),a(3257),a(7537),a(2503),a(1511),a(4305),a(8983),a(5995),a(5228),a(1078),a(1603),a(3749),a(7723),a(7287),a(7217),a(3425),a(6171),a(8073),a(928),a(7113),a(6340),a(6384),a(3382),a(3011),a(1484),!1),I=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!H){H=!0,(0,S.g)(),yield(0,p.d)(),yield(0,c.c)(),(0,L.b)(),(0,C.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,L.a)(),(0,C.a)(),(0,Y.c)(),(0,x.c)(),(0,q.c)(),(0,m.c)(),(0,q.e)(),window.addEventListener("resize",function(){(0,q.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,q.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,b.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.h)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(n=(0,r.a)(function*(){I||(I=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,k.b)(),yield(0,o.c)(),yield(0,s.b)(),yield(0,u.a)(),yield(0,d.b)(),yield(0,s.d)(),yield(0,s.e)())}),function(){return n.apply(this,arguments)}),route:{closeRoute:Y.a,closeRouteDetails:P.e},location:{closeLocation:x.a,closeLocationDetails:F.a},folder:{closeSaveToFolder:N.a,closeFolderManager:w.a,closeIconSelector:m.a,openFolderCreator:g.d,closeFolderCreator:g.a,createFormulatedFolder:g.b},search:{openSearch:q.d,closeSearch:q.a,switchSearchTypeFilter:q.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:B.e,closeSettings:B.a,closeSettingsOptions:z.a},bus:{closeBus:v.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:M.c,closeRegisterNotification:M.a,saveFormulatedRegisterNotification:M.d,closeScheduleNotification:R.a},qrcode:{closeQRCode:E.a}};const j=window.bus},4884(e,t,a){a.d(t,{a:()=>w,b:()=>S,c:()=>k,d:()=>L,e:()=>C});var n=a(467),i=a(6160),r=a(5314),o=a(3459),d=a(8179),s=a(8024),c=a(904),l=a(4537),u=[],p=!1,f=!1;function h(){var e=(0,d.a)();e.classList.add("nr");var t=(0,d.a)();t.classList.add("or"),t.appendChild((0,l.a)());var a=(0,d.a)();return a.classList.add("pr"),e.appendChild(t),e.appendChild(a),e}function b(e,t,a){function n(e,n,i){function r(e,t){var a=(0,d.e)(e,".or");(0,l.c)(a,t.icon)}function o(e,t){(0,d.e)(e,".pr").innerText=t.value}function c(e,t){e.setAttribute("animation",t)}function u(e,t){e.setAttribute("skeleton-screen",t)}null==i?(r(e,n),o(e,n),u(e,t),c(e,a)):((0,s.b)(i,n)||r(e,n),(0,s.b)(i,n)||o(e,n),t!==p&&u(e,t),a!==f&&c(e,a))}var i=e.length,r=Array.from((0,d.d)(w,".nr")),o=r.length;if(i!==o){var c=o-i;if(c<0){for(var b=new DocumentFragment,v=0;v>c;v--){var y=h();b.appendChild(y),r.push(y)}w.append(b)}else if(c>0)for(var g=o-1,m=o-c-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var C=0;C<i;C++){var k=r[C],L=e[C];u[C]?n(k,L,u[C]):n(k,L,null)}u=e,f=a,p=t}var v=(0,d.c)(".br"),y=((0,d.e)(v,".cr"),(0,d.e)(v,".gr")),g=(0,d.e)(y,".hr"),m=(0,d.e)(g,'.ir[group="properties"]'),w=(0,d.e)(m,".mr");(0,d.e)(g,'.ir[group="location"]');function C(){v.setAttribute("displayed","true")}function k(){v.setAttribute("displayed","false")}function L(e){(0,c.c)("Bus"),(0,r.e)("bus",e),C(),function(e){F.apply(this,arguments)}(e),(0,c.b)()}function S(){k(),(0,c.i)(),(0,c.e)("Bus")}function F(){return(F=(0,n.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),t=[],a=0;a<5;a++)t.push({key:a,icon:"",value:""});b(t,!0,e)}();var t=(0,o.b)("playing_animation"),a=(0,s.c)();b((yield(0,i.a)(e,a)).properties,!1,t)})).apply(this,arguments)}},6052(e,t,a){a.d(t,{a:()=>y,b:()=>f,c:()=>b,d:()=>v,e:()=>h});var n=a(9566),i=a(8179),r=a(4294),o=a(904),d=a(9119),s=(0,i.c)(".xs"),c=(0,i.e)(s,".bt"),l=(0,i.e)(c,".ct"),u=(0,i.e)(l,'.dt[group="folder-name"] .ht input'),p=(0,i.e)(l,'.dt[group="folder-icon"] .ht .it input');function f(){var e=u.value,t=p.value;(0,n.a)(e,t).then(function(e){e?(y(),(0,d.a)("folder","已建立資料夾")):(0,d.a)("error","無法建立資料夾")})}function h(){s.setAttribute("displayed","true")}function b(){s.setAttribute("displayed","false")}function v(){(0,o.c)("FolderCreator"),h(),(0,o.b)()}function y(){b(),(0,o.i)(),(0,o.e)("FolderCreator")}(0,i.e)(l,'.xs .bt .ct .dt[group="folder-icon"] .ht .it .jt').onclick=function(){(0,r.d)(p)}},8379(e,t,a){a.d(t,{a:()=>y,b:()=>b,c:()=>v,d:()=>h});var n=a(467),i=a(9566),r=a(8179),o=a(9333),d=a(4537),s=a(904),c=(0,r.c)(".qr"),l=(0,r.e)(c,".vr"),u=(0,r.e)(l,".wr");function p(e){var t=(0,r.a)();t.classList.add("xr"),t.onclick=function(){(0,o.b)(e.id)};var a=(0,r.a)();a.classList.add("yr"),a.appendChild((0,d.b)(e.icon));var n=(0,r.a)();n.classList.add("zr"),n.innerText=e.name;var i=(0,r.a)();i.classList.add("_r"),i.innerText=String(e.contentLength);var s=(0,r.a)();return s.classList.add("as"),s.appendChild((0,d.b)("arrow_forward_ios")),t.appendChild(a),t.appendChild(n),t.appendChild(i),t.appendChild(s),t}function f(){return(f=(0,n.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var t=new DocumentFragment;for(var a of e){var n=p(a);t.appendChild(n)}u.append(t)})).apply(this,arguments)}function h(){c.setAttribute("displayed","true")}function b(){c.setAttribute("displayed","false")}function v(){(0,s.c)("FolderManager"),h(),function(){f.apply(this,arguments)}(),(0,s.b)()}function y(){b(),(0,s.i)(),(0,s.e)("FolderManager")}},9333(e,t,a){a.d(t,{a:()=>L,b:()=>S,c:()=>k});var n=a(467),i=a(9566),r=a(8179),o=a(4294),d=a(4537),s=a(904),c=a(9119),l=(0,r.c)(".bs"),u=(0,r.e)(l,".cs"),p=(0,r.e)(u,".ds"),f=(0,r.e)(l,".fs"),h=(0,r.e)(f,".gs"),b=(0,r.e)(h,'.hs[group="folder-name"] .ls input'),v=(0,r.e)(h,'.hs[group="folder-icon"] .ls .ms input'),y=(0,r.e)(h,'.hs[group="folder-icon"] .ls .ms .ns'),g=(0,r.e)(h,'.hs[group="folder-content"] .ls');function m(e,t){var a=(0,r.a)();a.classList.add("os"),a.setAttribute("type",t.type);var n="",o="",s="";switch(t.type){case"stop":s="location_on",n=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,o=t.name;break;case"route":s="route",n=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,o=t.name;break;case"location":s="location_on",n="地點",o=t.name;break;case"bus":n="",o=t.name;break;case"empty":s="lightbulb",n="提示",o="沒有內容";break;default:s="",n="null",o="null"}var l=(0,r.a)();l.classList.add("ps"),l.appendChild((0,d.b)(s));var u=(0,r.a)();u.classList.add("qs"),u.innerText=n;var p=(0,r.a)();p.classList.add("rs"),p.innerText=o;var f=(0,r.a)();f.classList.add("ss");var h=(0,r.a)();h.classList.add("ts"),h.appendChild((0,d.b)("keyboard_arrow_down")),h.onclick=function(){F(a,e.id,t.type,t.id,"up")};var b=(0,r.a)();b.classList.add("us"),b.appendChild((0,d.b)("keyboard_arrow_down")),b.onclick=function(){F(a,e.id,t.type,t.id,"down")};var v=(0,r.a)();v.classList.add("vs"),v.appendChild((0,d.b)("delete")),v.onclick=function(){!function(e,t,a,n){(0,i.k)(t,a,n).then(function(t){if(t)switch(e.remove(),a){case"stop":(0,c.a)("delete","已移除站牌");break;case"route":(0,c.a)("delete","已移除路線");break;case"location":(0,c.a)("delete","已移除地點")}else(0,c.a)("error","無法移除")})}(a,e.id,t.type,t.id)};var y=(0,r.a)();y.classList.add("ws");var g=(0,r.a)();return g.classList.add("ws"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(y),f.appendChild(g),a.appendChild(l),a.appendChild(u),a.appendChild(p),a.appendChild(f),a}function w(e,t){b.value=e.name,v.value=e.icon,p.onclick=function(){var t,a,n;t=e.id,a=b.value,n=v.value,(0,i.q)(t,a,n).then(function(e){e?(L(),(0,s.i)(),(0,s.e)("FolderEditor"),(0,c.a)("check_circle","已儲存變更")):(0,c.a)("error","無法儲存")})},g.innerHTML="";var a=new DocumentFragment;for(var n of t){var r=m(e,n);a.appendChild(r)}g.append(a)}function C(){return(C=(0,n.a)(function*(e){w((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function k(){l.setAttribute("displayed","true")}function L(){l.setAttribute("displayed","false")}function S(e){(0,s.c)("FolderEditor"),k(),function(e){C.apply(this,arguments)}(e),(0,s.b)()}function F(e,t,a,n,r){(0,i.p)(t,a,n,r).then(function(t){if(t)switch(r){case"up":var a=e.previousElementSibling;a&&e.parentNode.insertBefore(e,a),(0,c.a)("arrow_circle_up","已往上移");break;case"down":var n=e.nextElementSibling;n&&e.parentNode.insertBefore(n,e),(0,c.a)("arrow_circle_down","已往下移")}else(0,c.a)("error","無法移動")})}y.onclick=function(){(0,o.d)(v)}},9499(e,t,a){a.d(t,{a:()=>k,b:()=>w,c:()=>C,d:()=>m});var n=a(467),i=a(8925),r=a(7183),o=a(8179),d=a(5579),s=a(904),c=(0,o.c)(".kt"),l=(0,o.e)(c,".ot"),u=(0,o.e)(l,".pt"),p=(0,o.e)(l,".qt"),f=(0,o.e)(p,'.rt[name="total-data-usage"] .tt'),h=(0,o.e)(p,'.rt[name="max-data-usage-per-minute"] .tt'),b=(0,o.e)(p,'.rt[name="min-data-usage-per-minute"] .tt'),v=(0,o.e)(p,'.rt[name="start-time"] .tt'),y=(0,o.e)(p,'.rt[name="end-time"] .tt');function g(){return(g=(0,n.a)(function*(){var e=(0,s.d)("window"),t=e.width,a=Math.min(5/18*t,.33*e.height),n=yield(0,i.c)(t,a,20);f.innerText=(0,r.a)(n.stats.sum),h.innerText=(0,r.a)(n.stats.max),b.innerText=(0,r.a)(n.stats.min),v.innerText=(0,d.c)(n.period.start,"YYYY-MM-DD"),y.innerText=(0,d.c)(n.period.end,"YYYY-MM-DD"),u.innerHTML=n.chart})).apply(this,arguments)}function m(){c.setAttribute("displayed","true")}function w(){c.setAttribute("displayed","false")}function C(){(0,s.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,s.b)()}function k(){w(),(0,s.i)(),(0,s.e)("DataUsage")}}}]);
//# sourceMappingURL=e3cc5067349880e247e8.js.map