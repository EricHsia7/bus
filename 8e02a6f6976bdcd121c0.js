!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bus",[],t):"object"==typeof exports?exports.bus=t():e.bus=t()}(self,()=>(()=>{"use strict";var e,t={251(e,t,n){n.d(t,{a:()=>s,b:()=>l});var i=n(467),r=n(9119);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32e3,i=URL.createObjectURL(e),r=document.createElement("a");return r.href=i,r.download=t,document.body.appendChild(r),r.click(),r.remove(),setTimeout(function(){URL.revokeObjectURL(i)},n),i}function s(e){return o.apply(this,arguments)}function o(){return o=(0,i.a)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",n=arguments.length>2?arguments[2]:void 0,i=new Blob([e],{type:t}),s=new File([i],n,{type:t});if(navigator.canShare&&navigator.canShare({files:[s]}))try{yield navigator.share({files:[s]})}catch(e){(0,r.a)("download","下載資料",{text:"下載",action:function(){a(i,n)}})}else a(i,n)}),o.apply(this,arguments)}function u(){return(u=(0,i.a)(function*(e){if(navigator.clipboard&&navigator.clipboard.writeText)try{return yield navigator.clipboard.writeText(e),!0}catch(e){}try{var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly","readonly"),document.body.appendChild(t),t.select();var n=document.execCommand("copy");return document.body.removeChild(t),n}catch(e){return!1}})).apply(this,arguments)}function d(e){return c.apply(this,arguments)}function c(){return c=(0,i.a)(function*(e){var t;(0,r.a)("link","複製連結",{text:"複製",action:(t=(0,i.a)(function*(){var t=yield function(e){return u.apply(this,arguments)}(e);t?(0,r.a)("check_circle","已複製連結"):(0,r.a)("cancel","無法複製連結")}),function(){return t.apply(this,arguments)})})}),c.apply(this,arguments)}function l(e,t){return h.apply(this,arguments)}function h(){return(h=(0,i.a)(function*(e,t){if(navigator.canShare&&navigator.canShare({title:e,url:t}))try{yield navigator.share({title:e,url:t})}catch(e){d(t)}else d(t)})).apply(this,arguments)}},2648(e,t,n){n.d(t,{a:()=>a});var i=n(7968),r=n(157);function a(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,u=[[[-1,0],[0,-1]],[[0,-1],[1,0]],[[1,0],[0,1]],[[0,1],[-1,0]]],d=[[[-1,0],[-1,-1],[0,-1]],[[0,-1],[1,-1],[1,0]],[[1,0],[1,1],[0,1]],[[0,1],[-1,1],[-1,0]]],c=function(e,t){for(var n=r.create(e,{errorCorrectionLevel:t}),i=n.modules.size,a=[],s=0;s<i;s++){for(var o=[],u=0;u<i;u++){var d=n.modules.get(u,s);o.push(d)}a.push(o)}return a}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L"),l=c.length,h=[],f=0;f<l;f++)for(var v=0;v<l;v++)if(1===c[f][v]){for(var p=new Uint8Array(4),g=0;g<4;g++){var m=u[g],b=1;for(var y of m){var w;1===(null===(w=c[f+y[1]])||void 0===w?void 0:w[v+y[0]])&&(b*=0)}p[g]=b}h=h.concat((0,i.b)((v+a)*o,(f+a)*o,1*o,1*o,{tl:p[0]*t*o,tr:p[1]*t*o,br:p[2]*t*o,bl:p[3]*t*o},!1))}else{for(var k=new Uint8Array(4),S=0;S<4;S++){var M=d[S],D=1;for(var T of M){var x;null!==(x=c[f+T[1]])&&void 0!==x&&x[v+T[0]]||(D*=0)}k[S]=D}k.some(function(e){return 0!==e})&&(h=h.concat((0,i.b)((v+a)*o,(f+a)*o,1*o,1*o,{tl:k[0]*n*o,tr:k[1]*n*o,br:k[2]*n*o,bl:k[3]*n*o},!0)))}return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${(l+2*a)*o} ${(l+2*a)*o}" shape-rendering="geometricPrecision"><path d="${h.join(" ")}" fill="${s}" stroke="${s}" stroke-width="0.1" stroke-linejoin="round" fill-rule="nonzero" /></svg>`}},4750(e,t,n){n.d(t,{a:()=>c});var i,r=n(467),a=n(3453),s=n(8024),o={};if("undefined"!=typeof SharedWorker){var u=new SharedWorker(new URL(n.p+n.u(701),n.b));(i=u.port).start()}else{var d=new Worker(new URL(n.p+n.u(82),n.b));i=d}function c(e){return l.apply(this,arguments)}function l(){return(l=(0,r.a)(function*(e){var t=(0,s.c)();return yield new Promise(function(n,r){o[t]=n,i.onerror=function(e){r(e.message)},i.postMessage([e,t])})})).apply(this,arguments)}i.onmessage=function(e){var t=(0,a.a)(e.data,2),n=t[0],i=t[1];o[i]&&(o[i](n),delete o[i])},i.onerror=function(e){}},4781(e,t,n){function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];if("string"==typeof e)for(var i=e.length,r=0;r<i;r++){var a=e.charCodeAt(r);(n.indexOf(a)<0||!t)&&n.push(a)}return n}function r(e){return!!/[\u3100-\u312Fˇˋˊ˙]/gm.test(e)}n.d(t,{a:()=>r,b:()=>i})},5579(e,t,n){function i(){var e=new Date,t=e.getDay(),n=e.getDate()-t,i=new Date;return i.setDate(n),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i}function r(e,t,n,i){var r=new Date;return r.setDate(1),r.setMonth(0),r.setHours(n),r.setMinutes(i),r.setSeconds(0),r.setMilliseconds(0),r.setFullYear(e.getFullYear()),r.setMonth(e.getMonth()),r.setDate(e.getDate()),r.setDate(r.getDate()+t),r}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.match(/[0-9\.]*/gm);if(n){var i=(new Date).getTimezoneOffset(),r=parseInt(n[0]),a=parseInt(n[2]),s=parseInt(n[4]),o=parseInt(n[6]),u=parseInt(n[8]),d=parseInt(n[10]),c=new Date;return c.setDate(1),c.setMonth(0),c.setFullYear(r),c.setMonth(a-1),c.setDate(s),c.setHours(o),c.setMinutes(u+t-i),c.setSeconds(d),c.getTime()}return 0}function s(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss").replaceAll(/Y{4,4}/g,e.getFullYear()).replaceAll(/M{2,2}/g,String(e.getMonth()+1).padStart(2,"0")).replaceAll(/D{2,2}/g,String(e.getDate()).padStart(2,"0")).replaceAll(/h{2,2}/g,String(e.getHours()).padStart(2,"0")).replaceAll(/m{2,2}/g,String(e.getMinutes()).padStart(2,"0")).replaceAll(/s{2,2}/g,String(e.getSeconds()).padStart(2,"0"))}function o(e){var t=e.getTime(),n=Math.floor(((new Date).getTime()-t)/1e3),i=Math.floor(n/31536e3);return i>=1?`${i}年前`:(i=Math.floor(n/2592e3))>=1?`${i}個月前`:(i=Math.floor(n/86400))>=1?`${i}天前`:(i=Math.floor(n/3600))>=1?`${i}小時前`:(i=Math.floor(n/60))>=1?`${i}分鐘前`:n>0?`${n}秒前`:"現在"}function u(e,t){var n=0|e;switch(t){case 0:return`${n}秒`;case 1:return[String((n-n%60)/60),String(n%60)].map(function(e){return e.padStart(2,"0")}).join(":");case 2:return`${n/60|0}分`;case 3:if(n>=3600)return`${parseFloat((n/3600).toFixed(1))}時`;if(60<=n&&n<3600)return`${n/60|0}分`;if(n<60)return`${n}秒`;break;default:return"--"}}function d(e){return[{name:"日",day:0,code:"d_0"},{name:"一",day:1,code:"d_1"},{name:"二",day:2,code:"d_2"},{name:"三",day:3,code:"d_3"},{name:"四",day:4,code:"d_4"},{name:"五",day:5,code:"d_5"},{name:"六",day:6,code:"d_6"}][e]}function c(e){return d(parseInt(e)-1)}function l(e){return`${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}`}function h(e,t,n){var i=new Date;return i.setDate(1),i.setMonth(0),i.setFullYear(e),i.setMonth(t-1),i.setDate(n),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i}n.d(t,{a:()=>h,b:()=>o,c:()=>s,d:()=>c,e:()=>u,f:()=>i,g:()=>d,h:()=>r,i:()=>l,j:()=>a})},6141(e,t,n){n.d(t,{a:()=>a});var i=n(8024);var r={light:{},dark:{}};function a(e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if((0,i.f)(r[t],e))return r[t][e];var n=getComputedStyle(document.documentElement).getPropertyValue(e);return r[t][e]=n,n}},9469(e,t,n){n.d(t,{a:()=>o,b:()=>s});var i=n(8134),r=n(3030),a=n(4690);function s(){var e=new URL(location.href).searchParams.get("permalink");if(null!==e){var t=String(e);if(/^[0-1]\@(.*)(\~.*){0,1}/.test(t)){var n=t.split(/[\@\~]/);switch(parseInt(n[0])){case 0:(0,i.e)(parseInt(n[1],16)).then(function(e){!1!==e?(0,a.d)(e.id,e.pid):(0,i.c)(n[2]).then(function(e){e.length>0&&(0,a.d)(e[0].id,e[0].pid)})});break;case 1:(0,r.d)(n[1])}}}}function o(e,t){var n=new URL("https://erichsia7.github.io/bus/");switch(e){case 0:n.searchParams.set("permalink",`0@${parseInt(t.id).toString(16)}~${t.name}`);break;case 1:n.searchParams.set("permalink",`1@${t.hash}`)}return decodeURIComponent(n.toString())}},9915(e,t,n){n.d(t,{a:()=>s});var i=n(467),r=n(3029),a=n(3785),s=function(){return(0,a.a)(function e(t,n){(0,r.a)(this,e),this.pivot=(new Date).getTime(),this.interval=n,this.lastTickCount=-1,this.isRunning=!1,this.isPaused=!1,this.isAutoPaused=!1,this.timerId=null,this.callback=t,this.handleVisibilityChange=this.handleVisibilityChange.bind(this),"document"in self&&document.addEventListener("visibilitychange",this.handleVisibilityChange)},[{key:"tick",value:(e=(0,i.a)(function*(){var e=this;if(!(this.isPaused||this.isAutoPaused||this.isRunning)){var t=(new Date).getTime(),n=Math.floor((t-this.pivot)/this.interval);if(n<=this.lastTickCount)this.timerId=setTimeout(function(){return e.tick()},10);else{var i;this.isRunning=!0,this.lastTickCount=n;try{i=yield this.callback()}catch(e){}if(this.isRunning=!1,!this.isPaused&&!this.isAutoPaused){var r=(new Date).getTime();"number"==typeof i&&i>0&&i!==this.interval&&(this.interval=i,this.pivot=r,this.lastTickCount=0),this.scheduleNext()}}}}),function(){return e.apply(this,arguments)})},{key:"scheduleNext",value:function(){var e=this;this.timerId&&clearTimeout(this.timerId);var t=this.lastTickCount+1,n=this.pivot+t*this.interval-(new Date).getTime();this.timerId=setTimeout(function(){return e.tick()},Math.max(0,n))}},{key:"handleVisibilityChange",value:function(){document.hidden?this.isPaused||(this.isAutoPaused=!0,this.timerId&&clearTimeout(this.timerId)):this.isAutoPaused&&(this.isAutoPaused=!1,this.isRunning||this.scheduleNext())}},{key:"pause",value:function(){this.isPaused||(this.isPaused=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPaused&&(this.isPaused=!1,"document"in self&&document.hidden?this.isAutoPaused=!0:this.isRunning||(e&&(this.pivot=(new Date).getTime(),this.lastTickCount=-1),this.scheduleNext()))}},{key:"destroy",value:function(){this.pause(),"document"in self&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}}]);var e}()}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.m=t,i.amdO={},e=[],i.O=(t,n,r,a)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,r,a]=e[c],o=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(i.O).every(e=>i.O[e](n[u]))?n.splice(u--,1):(o=!1,a<s&&(s=a));if(o){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.u=e=>({82:"5616a417ae56c3b7bc45",132:"82a2e0280e7aaf91e0be",234:"7ca2d4132419825e5eee",281:"7f51e29313726ccf3722",319:"181833216f1d19baac20",327:"841bdeaeb0ea78bca576",355:"1fb5449ffa0864f05a76",367:"70fa341d14c9658a5aee",525:"aafdd868805cf60fc14f",611:"83f997a8d3646a9f19be",625:"d2fbd645847bab11f4a6",660:"5c4b5ec1bfb79ec55b52",662:"7f51e29313726ccf3722",701:"5616a417ae56c3b7bc45",778:"01985fd222dedfcc26df",906:"aafdd868805cf60fc14f",992:"83f997a8d3646a9f19be"}[e]+".js"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.p="./",(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={986:0,437:0,851:0,112:0,225:0,226:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[s,o,u]=n,d=0;if(s.some(t=>0!==e[t])){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(u)var c=u(i)}for(t&&t(n);d<s.length;d++)a=s[d],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},n=self.webpackChunkbus=self.webpackChunkbus||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=i.O(void 0,[35,512,790,157,374,680,470,496,852,480,537,607,299,437,601,851,821,112,474,225,226,155,289],()=>i(4244));return r=(r=i.O(r)).default})());
//# sourceMappingURL=8e02a6f6976bdcd121c0.js.map