"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[19],{3441(e,a,n){n.d(a,{default:()=>z});var t=n(6483),i=n(8925),r=n(5767),o=n(9566),c=n(3422),d=n(5314),s=n(3459),l=n(3251),u=n(1238),p=n(1531),f=n(4884),h=n(9499),b=n(6052),v=n(6189),g=n(8379),m=n(540),y=n(6082),w=n(6091),k=n(904),C=n(1351),L=n(3030),S=n(2174),_=n(8380),F=n(5693),A=n(7891),E=n(8279),T=n(7908),D=n(5286),M=n(4690),x=n(3041),P=n(752),Y=n(5009),N=n(6104),R=n(6166),H=n(2994),I=n(9469),q=n(8179),B=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(3058),n(1102),n(7868),n(6388),n(3127),n(1743),n(1306),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),$=!1;window.bus={initialize:function(){!1===B&&(B=!0,(0,k.h)(),(0,s.d)().then(function(){(0,w.b)(),(0,m.b)(),(0,l.a)().then(function(e){if("ok"===e){(0,M.b)(),(0,L.b)(),(0,Y.d)(),window.addEventListener("resize",function(){(0,Y.d)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,Y.d)()}),(0,w.a)(),(0,o.c)().then(function(){(0,m.a)()}),(0,Y.b)();var a=(0,q.c)(".nd .pd .qd #search_material_symbols_input");a.addEventListener("paste",function(){(0,v.c)(a.value)}),a.addEventListener("cut",function(){(0,v.c)(a.value)}),a.addEventListener("selectionchange",function(){(0,v.c)(a.value)}),document.addEventListener("selectionchange",function(){(0,v.c)(a.value)}),a.addEventListener("keyup",function(){(0,v.c)(a.value)}),(0,I.b)(),(0,k.b)(function(){(0,c.i)(),(0,c.g)().then(function(){(0,c.d)()}),document.addEventListener("click",function(){(0,p.a)(),(0,u.a)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,k.i)(),(0,k.b)())}).catch(function(){(0,k.i)(),(0,k.b)()})}))},secondlyInitialize:function(){$||($=!0,(0,y.b)(),(0,i.b)(),(0,t.c)(),(0,d.a)(),(0,r.b)().then(function(){(0,r.d)().then(function(){(0,r.e)()})}))},route:{closeRoute:M.a,closeRouteDetails:D.e},location:{closeLocation:L.a,closeLocationDetails:C.a},folder:{closeSaveToFolder:x.a,closeFolderManager:g.a,closeFolderIconSelector:v.a,openFolderCreator:b.c,closeFolderCreator:b.a,createFormulatedFolder:b.b},search:{openSearch:Y.c,closeSearch:Y.a,switchSearchTypeFilter:Y.e},storage:{closeStorage:H.a},dataUsage:{closeDataUsage:h.a},personalSchedule:{closePersonalScheduleManager:A.a,openPersonalScheduleCreator:_.c,closePersonalScheduleCreator:_.a,createFormulatedPersonalSchedule:_.b,switchPersonalScheduleCreatorDay:_.d,openPersonalScheduleEditor:F.b,closePersonalScheduleEditor:F.a,switchPersonalScheduleEditorDay:F.d,saveEditedPersonalSchedule:F.c},settings:{openSettings:N.d,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:f.b},notification:{closeNotificationScheduleManager:S.a,openRegisterNotification:T.b,closeRegisterNotification:T.a,saveFormulatedRegisterNotification:T.c,closeScheduleNotification:P.a},qrcode:{closeQRCode:E.a}};const z=window.bus},4884(e,a,n){n.d(a,{a:()=>w,b:()=>C,c:()=>k});var t=n(467),i=n(6160),r=n(5314),o=n(3459),c=n(8179),d=n(8024),s=n(904),l=n(4537),u=[],p=!1,f=!1;function h(){var e=(0,c.a)();e.classList.add("db");var a=(0,c.a)();a.classList.add("eb"),a.appendChild((0,l.a)());var n=(0,c.a)();return n.classList.add("fb"),e.appendChild(a),e.appendChild(n),e}function b(e,a,n){function t(e,t,i){function r(e,a){var n=(0,c.e)(e,".eb");(0,l.c)(n,a.icon)}function o(e,a){(0,c.e)(e,".fb").innerText=a.value}function s(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(r(e,t),o(e,t),u(e,a),s(e,n)):((0,d.b)(i,t)||r(e,t),(0,d.b)(i,t)||o(e,t),a!==p&&u(e,a),n!==f&&s(e,n))}var i=e.length,r=Array.from((0,c.d)(w,".db")),o=r.length;if(i!==o){var s=o-i;if(s<0){for(var b=new DocumentFragment,v=0;v>s;v--){var g=h();b.appendChild(g),r.push(g)}w.append(b)}else if(s>0)for(var m=o-1,y=o-s-1;m>y;m--)r[m].remove(),r.splice(m,1)}for(var k=0;k<i;k++){var C=r[k],L=e[k];u[k]?t(C,L,u[k]):t(C,L,null)}u=e,f=n,p=a}var v=(0,c.c)(".la"),g=((0,c.e)(v,".na"),(0,c.e)(v,".ua")),m=(0,c.e)(g,".va"),y=(0,c.e)(m,'.wa[group="properties"]'),w=(0,c.e)(y,".ab");(0,c.e)(m,'.wa[group="location"]');function k(e){(0,s.d)("Bus"),(0,r.e)("bus",e),v.setAttribute("displayed","true"),function(e){L.apply(this,arguments)}(e),(0,s.a)()}function C(){v.setAttribute("displayed","false"),(0,s.c)()}function L(){return(L=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),a=[],n=0;n<5;n++)a.push({key:n,icon:"",value:""});b(a,!0,e)}();var a=(0,o.b)("playing_animation"),n=(0,d.c)();b((yield(0,i.a)(e,n)).properties,!1,a)})).apply(this,arguments)}},6052(e,a,n){n.d(a,{a:()=>b,b:()=>f,c:()=>h});var t=n(9566),i=n(8179),r=n(6189),o=n(904),c=n(9119),d=(0,i.c)("._c"),s=(0,i.e)(d,".ed"),l=(0,i.e)(s,".fd"),u=(0,i.e)(l,'.gd[group="folder-name"] .kd input'),p=(0,i.e)(l,'.gd[group="folder-icon"] .kd .ld input');function f(){var e=u.value,a=p.value;(0,t.a)(e,a).then(function(e){e?(b(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function h(){(0,o.d)("FolderCreator"),d.setAttribute("displayed","true"),(0,o.a)()}function b(){d.setAttribute("displayed","false"),(0,o.c)()}(0,i.e)(l,'._c .ed .fd .gd[group="folder-icon"] .kd .ld .md').onclick=function(){(0,r.b)("creator")}},6189(e,a,n){n.d(a,{a:()=>C,b:()=>k,c:()=>w});var t=n(467),i=n(9218),r=n(6788),o=n(972),c=n(8179),d=n(8024),s=n(4781),l=n(6082),u=n(4537),p=n(904),f=n(9119),h="",b=(0,c.c)(".bc"),v=(0,c.c)("._c"),g=(0,c.c)(".nd");function m(e){var a=(0,c.a)();return a.classList.add("vd"),a.onclick=function(){!function(e){var a;switch(h){case"editor":a=(0,c.e)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc input');break;case"creator":a=(0,c.e)(v,'.ed .fd .gd[group="folder-icon"] .kd .ld input')}a.value=e,C()}(e)},a.appendChild((0,u.b)(e)),a}function y(){return(y=(0,t.a)(function*(){var e=(0,c.e)(g,".sd .td");e.innerHTML="";var a=(0,d.c)(),n=yield(0,i.a)(a);(0,r.a)(a);var t=new DocumentFragment,o=n.dictionary.split(",");for(var s in n.symbols){for(var l=s.split("_"),u=l.length-1;u>=0;u--)l.splice(u,1,o[parseInt(l[u])]);var p=m(l.join("_"));t.appendChild(p)}e.append(t)})).apply(this,arguments)}function w(e){var a=(0,c.e)(g,".sd .ud"),n=(0,c.e)(g,".sd .td");if(!(0,s.a)(e)){var t=(0,o.b)(e),i=new DocumentFragment;for(var r of t){var d=m(r.item);i.appendChild(d)}a.innerHTML="",a.append(i),a.setAttribute("displayed",t.length>0?"true":"false"),n.setAttribute("displayed",t.length>0?"false":"true")}}function k(e){switch((0,p.d)("FolderIconSelector"),e){case"editor":h="editor",(0,c.e)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc .oc');break;case"creator":h="creator",(0,c.e)(v,'.ed .fd .gd[group="folder-icon"] .kd .ld .md')}l.a?(g.setAttribute("displayed","true"),function(){y.apply(this,arguments)}(h),(0,o.a)()):(0,f.a)("download_for_offline","資料還在下載中")}function C(){(0,p.f)("FolderIconSelector"),g.setAttribute("displayed","false")}},8379(e,a,n){n.d(a,{a:()=>b,b:()=>h});var t=n(467),i=n(9566),r=n(8179),o=n(9333),c=n(4537),d=n(904),s=(0,r.c)(".mb"),l=(0,r.e)(s,".rb"),u=(0,r.e)(l,".sb");function p(e){var a=(0,r.a)();a.classList.add("tb"),a.onclick=function(){(0,o.b)(e.id)};var n=(0,r.a)();n.classList.add("ub"),n.appendChild((0,c.b)(e.icon));var t=(0,r.a)();t.classList.add("vb"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("wb"),i.innerText=String(e.contentLength);var d=(0,r.a)();return d.classList.add("ac"),d.appendChild((0,c.b)("arrow_forward_ios")),a.appendChild(n),a.appendChild(t),a.appendChild(i),a.appendChild(d),a}function f(){return(f=(0,t.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var a=new DocumentFragment;for(var n of e){var t=p(n);a.appendChild(t)}u.append(a)})).apply(this,arguments)}function h(){(0,d.d)("FolderManager"),s.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function b(){(0,d.f)("FolderManager"),s.setAttribute("displayed","false")}},9333(e,a,n){n.d(a,{a:()=>L,b:()=>C});var t=n(467),i=n(9566),r=n(8179),o=n(6189),c=n(4537),d=n(904),s=n(9119),l=(0,r.c)(".bc"),u=(0,r.e)(l,".cc"),p=(0,r.e)(u,".dc"),f=(0,r.e)(l,".fc"),h=(0,r.e)(f,".gc"),b=(0,r.e)(h,'.hc[group="folder-name"] .lc input'),v=(0,r.e)(h,'.hc[group="folder-icon"] .lc .nc input'),g=(0,r.e)(h,'.hc[group="folder-icon"] .lc .nc .oc'),m=(0,r.e)(h,'.hc[group="folder-content"] .lc');function y(e,a){var n=(0,r.a)();n.classList.add("pc"),n.setAttribute("type",a.type);var t="",o="",d="";switch(a.type){case"stop":d="location_on",t=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,o=a.name;break;case"route":d="route",t=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,o=a.name;break;case"location":d="location_on",t="地點",o=a.name;break;case"bus":t="",o=a.name;break;case"empty":d="lightbulb",t="提示",o="沒有內容";break;default:d="",t="null",o="null"}var l=(0,r.a)();l.classList.add("qc"),l.appendChild((0,c.b)(d));var u=(0,r.a)();u.classList.add("rc"),u.innerText=t;var p=(0,r.a)();p.classList.add("tc"),p.innerText=o;var f=(0,r.a)();f.classList.add("uc");var h=(0,r.a)();h.classList.add("vc"),h.appendChild((0,c.b)("keyboard_arrow_down")),h.onclick=function(){S(n,e.id,a.type,a.id,"up")};var b=(0,r.a)();b.classList.add("wc"),b.appendChild((0,c.b)("keyboard_arrow_down")),b.onclick=function(){S(n,e.id,a.type,a.id,"down")};var v=(0,r.a)();v.classList.add("xc"),v.appendChild((0,c.b)("delete")),v.onclick=function(){!function(e,a,n,t){(0,i.k)(a,n,t).then(function(a){if(a)switch(e.remove(),n){case"stop":(0,s.a)("delete","已移除站牌");break;case"route":(0,s.a)("delete","已移除路線");break;case"location":(0,s.a)("delete","已移除地點")}else(0,s.a)("error","無法移除")})}(n,e.id,a.type,a.id)};var g=(0,r.a)();g.classList.add("yc");var m=(0,r.a)();return m.classList.add("yc"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(g),f.appendChild(m),n.appendChild(l),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function w(e,a){b.value=e.name,v.value=e.icon,p.onclick=function(){var a,n,t;a=e.id,n=b.value,t=v.value,(0,i.q)(a,n,t).then(function(e){e?(L(),(0,s.a)("check_circle","已儲存變更")):(0,s.a)("error","無法儲存")})},m.innerHTML="";var n=new DocumentFragment;for(var t of a){var r=y(e,t);n.appendChild(r)}m.append(n)}function k(){return(k=(0,t.a)(function*(e){w((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function C(e){(0,d.d)("FolderEditor"),l.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,d.a)()}function L(){l.setAttribute("displayed","false"),(0,d.c)()}function S(e,a,n,t,r){(0,i.p)(a,n,t,r).then(function(a){if(a)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,s.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,s.a)("arrow_circle_down","已往下移")}else(0,s.a)("error","無法移動")})}g.onclick=function(){(0,o.b)("editor")}},9499(e,a,n){n.d(a,{a:()=>w,b:()=>y});var t=n(467),i=n(8925),r=n(7183),o=n(8179),c=n(5579),d=n(904),s=(0,o.c)(".wd"),l=(0,o.e)(s,"._d"),u=(0,o.e)(l,".ae"),p=(0,o.e)(l,".be"),f=(0,o.e)(p,'.ce[name="total-data-usage"] .ee'),h=(0,o.e)(p,'.ce[name="max-data-usage-per-minute"] .ee'),b=(0,o.e)(p,'.ce[name="min-data-usage-per-minute"] .ee'),v=(0,o.e)(p,'.ce[name="start-time"] .ee'),g=(0,o.e)(p,'.ce[name="end-time"] .ee');function m(){return(m=(0,t.a)(function*(){var e=(0,d.e)("window"),a=e.width,n=Math.min(5/18*a,.33*e.height),t=yield(0,i.c)(a,n,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),b.innerText=(0,r.a)(t.stats.min),v.innerText=(0,c.c)(t.period.start,"YYYY-MM-DD"),g.innerText=(0,c.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function y(){(0,d.d)("DataUsage"),s.setAttribute("displayed","true"),function(){m.apply(this,arguments)}(),(0,d.a)()}function w(){s.setAttribute("displayed","false"),(0,d.c)()}}}]);
//# sourceMappingURL=29f26ff61458d9c79252.js.map