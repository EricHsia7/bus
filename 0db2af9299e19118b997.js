"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,a,n){n.d(a,{default:()=>O});var t,i,r=n(467),o=n(6483),d=n(8925),c=n(5767),s=n(9566),l=n(3422),u=n(5314),p=n(3459),f=n(3251),h=n(1238),b=n(1531),v=n(4884),y=n(9499),g=n(6052),m=n(4294),k=n(8379),w=n(540),C=n(6082),q=n(6091),L=n(904),S=n(1351),x=n(3030),_=n(2174),T=n(8380),A=n(5693),D=n(7891),F=n(8279),E=n(7908),M=n(5286),P=n(4690),Y=n(3041),B=n(752),N=n(5009),R=n(6104),z=n(6166),U=n(2994),$=n(9469),j=n(4131),H=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(3058),n(1102),n(7868),n(6388),n(3127),n(1743),n(1306),n(4680),n(7820),n(1580),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(5297),n(7499),n(4953),n(7114),n(9657),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),I=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!H){H=!0,(0,L.g)(),yield(0,p.d)(),yield(0,s.c)(),(0,q.b)(),(0,w.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,q.a)(),(0,w.a)(),(0,P.c)(),(0,x.c)(),(0,N.c)(),(0,m.c)(),(0,N.e)(),window.addEventListener("resize",function(){(0,N.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,N.e)()}),(0,L.a)(function(){document.addEventListener("click",function(){(0,b.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,L.h)(),(0,L.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(t=(0,r.a)(function*(){I||(I=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,C.b)(),yield(0,o.c)(),yield(0,c.b)(),yield(0,u.a)(),yield(0,d.b)(),yield(0,c.d)(),yield(0,c.e)())}),function(){return t.apply(this,arguments)}),route:{closeRoute:P.a,closeRouteDetails:M.e,closeRouteCalendar:j.a},location:{closeLocation:x.a,closeLocationDetails:S.a},folder:{closeSaveToFolder:Y.a,closeFolderManager:k.a,closeIconSelector:m.a,closeFolderCreator:g.a},search:{openSearch:N.d,closeSearch:N.a,switchSearchTypeFilter:N.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:R.f,closeSettings:R.a,closeSettingsOptions:z.a},bus:{closeBus:v.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:E.b,closeScheduleNotification:B.a},qrcode:{closeQRCode:F.a}};const O=window.bus},4884(e,a,n){n.d(a,{a:()=>k,b:()=>L,c:()=>C,d:()=>q,e:()=>w});var t=n(467),i=n(6160),r=n(5314),o=n(3459),d=n(8179),c=n(8024),s=n(904),l=n(4537),u=[],p=!1,f=!1;function h(){var e=(0,d.a)();e.classList.add("gq");var a=(0,d.a)();a.classList.add("hq"),a.appendChild((0,l.a)());var n=(0,d.a)();return n.classList.add("iq"),e.appendChild(a),e.appendChild(n),e}function b(e,a,n){function t(e,t,i){function r(e,a){var n=(0,d.e)(e,".hq");(0,l.c)(n,a.icon)}function o(e,a){(0,d.e)(e,".iq").innerText=a.value}function s(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(r(e,t),o(e,t),u(e,a),s(e,n)):((0,c.b)(i,t)||r(e,t),(0,c.b)(i,t)||o(e,t),a!==p&&u(e,a),n!==f&&s(e,n))}var i=e.length,r=Array.from((0,d.d)(k,".gq")),o=r.length;if(i!==o){var s=o-i;if(s<0){for(var b=new DocumentFragment,v=0;v>s;v--){var y=h();b.appendChild(y),r.push(y)}k.append(b)}else if(s>0)for(var g=o-1,m=o-s-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var w=0;w<i;w++){var C=r[w],q=e[w];u[w]?t(C,q,u[w]):t(C,q,null)}u=e,f=n,p=a}var v=(0,d.c)(".vp"),y=((0,d.e)(v,".wp"),(0,d.e)(v,"._p")),g=(0,d.e)(y,".aq"),m=(0,d.e)(g,'.bq[group="properties"]'),k=(0,d.e)(m,".fq");(0,d.e)(g,'.bq[group="location"]');function w(){v.setAttribute("displayed","true")}function C(){v.setAttribute("displayed","false")}function q(e){(0,s.c)("Bus"),(0,r.e)("bus",e),w(),function(e){S.apply(this,arguments)}(e),(0,s.b)()}function L(){C(),(0,s.i)(),(0,s.e)("Bus")}function S(){return(S=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),a=[],n=0;n<5;n++)a.push({key:n,icon:"",value:""});b(a,!0,e)}();var a=(0,o.b)("playing_animation"),n=(0,c.c)();b((yield(0,i.a)(e,n)).properties,!1,a)})).apply(this,arguments)}},9499(e,a,n){n.d(a,{a:()=>C,b:()=>k,c:()=>w,d:()=>m});var t=n(467),i=n(8925),r=n(7183),o=n(8179),d=n(5579),c=n(904),s=(0,o.c)(".ds"),l=(0,o.e)(s,".hs"),u=(0,o.e)(l,".is"),p=(0,o.e)(l,".js"),f=(0,o.e)(p,'.ks[name="total-data-usage"] .ms'),h=(0,o.e)(p,'.ks[name="max-data-usage-per-minute"] .ms'),b=(0,o.e)(p,'.ks[name="min-data-usage-per-minute"] .ms'),v=(0,o.e)(p,'.ks[name="start-time"] .ms'),y=(0,o.e)(p,'.ks[name="end-time"] .ms');function g(){return(g=(0,t.a)(function*(){var e=(0,c.d)("window"),a=e.width,n=Math.min(5/18*a,.33*e.height),t=yield(0,i.c)(a,n,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),b.innerText=(0,r.a)(t.stats.min),v.innerText=(0,d.c)(t.period.start,"YYYY-MM-DD"),y.innerText=(0,d.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function m(){s.setAttribute("displayed","true")}function k(){s.setAttribute("displayed","false")}function w(){(0,c.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,c.b)()}function C(){k(),(0,c.i)(),(0,c.e)("DataUsage")}},6052(e,a,n){n.d(a,{a:()=>x,b:()=>L,c:()=>S,d:()=>q});var t=n(467),i=n(9566),r=n(8179),o=n(4294),d=n(904),c=n(9119),s=(0,r.c)(".qr"),l=(0,r.e)(s,".rr"),u=(0,r.e)(l,".tr"),p=(0,r.e)(s,".vr"),f=(0,r.e)(p,".wr"),h=(0,r.e)(f,'.xr[group="folder-name"]'),b=(0,r.e)(h,".as"),v=(0,r.e)(b,"input"),y=(0,r.e)(f,'.xr[group="folder-icon"]'),g=(0,r.e)(y,".as"),m=(0,r.e)(g,".bs input"),k=(0,r.e)(f,".bs .cs");function w(){return(w=(0,t.a)(function*(e){var a=v.value,n=m.value;(yield(0,i.a)(a,n))?(x(),(0,c.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,c.a)("error","無法建立資料夾")})).apply(this,arguments)}function C(e){v.value="",m.value="",u.onclick=function(){!function(e){w.apply(this,arguments)}(e)},k.onclick=function(){(0,o.d)(m)}}function q(){s.setAttribute("displayed","true")}function L(){s.setAttribute("displayed","false")}function S(e){(0,d.c)("FolderCreator"),C(e),q(),(0,d.b)()}function x(){L(),(0,d.i)(),(0,d.e)("FolderCreator")}},9333(e,a,n){n.d(a,{a:()=>C,b:()=>q,c:()=>w});var t=n(467),i=n(9566),r=n(8179),o=n(4294),d=n(4537),c=n(904),s=n(9119),l=(0,r.c)(".vq"),u=(0,r.e)(l,".wq"),p=(0,r.e)(u,".xq"),f=(0,r.e)(l,".zq"),h=(0,r.e)(f,"._q"),b=(0,r.e)(h,'.ar[group="folder-name"] .er input'),v=(0,r.e)(h,'.ar[group="folder-icon"] .er .fr input'),y=(0,r.e)(h,'.ar[group="folder-icon"] .er .fr .gr'),g=(0,r.e)(h,'.ar[group="folder-content"] .er');function m(e,a){var n=(0,r.a)();n.classList.add("hr"),n.setAttribute("type",a.type);var t="",o="",c="";switch(a.type){case"stop":c="location_on",t=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,o=a.name;break;case"route":c="route",t=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,o=a.name;break;case"location":c="location_on",t="地點",o=a.name;break;case"bus":t="",o=a.name;break;case"empty":c="lightbulb",t="提示",o="沒有內容";break;default:c="",t="null",o="null"}var l=(0,r.a)();l.classList.add("ir"),l.appendChild((0,d.b)(c));var u=(0,r.a)();u.classList.add("jr"),u.innerText=t;var p=(0,r.a)();p.classList.add("kr"),p.innerText=o;var f=(0,r.a)();f.classList.add("lr");var h=(0,r.a)();h.classList.add("mr"),h.appendChild((0,d.b)("keyboard_arrow_down")),h.onclick=function(){L(n,e.id,a.type,a.id,"up")};var b=(0,r.a)();b.classList.add("nr"),b.appendChild((0,d.b)("keyboard_arrow_down")),b.onclick=function(){L(n,e.id,a.type,a.id,"down")};var v=(0,r.a)();v.classList.add("or"),v.appendChild((0,d.b)("delete")),v.onclick=function(){!function(e,a,n,t){(0,i.k)(a,n,t).then(function(a){if(a)switch(e.remove(),n){case"stop":(0,s.a)("delete","已移除站牌");break;case"route":(0,s.a)("delete","已移除路線");break;case"location":(0,s.a)("delete","已移除地點")}else(0,s.a)("error","無法移除")})}(n,e.id,a.type,a.id)};var y=(0,r.a)();y.classList.add("pr");var g=(0,r.a)();return g.classList.add("pr"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(y),f.appendChild(g),n.appendChild(l),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function k(){return k=(0,t.a)(function*(e,a){var n=(0,i.b)(e),t=yield(0,i.g)(e);"boolean"!=typeof n&&!1!==n&&(p.onclick=function(){!function(e,a){S.apply(this,arguments)}(n.id,a)},b.value=n.name,v.value=n.icon,function(e,a){g.innerHTML="";var n=new DocumentFragment;for(var t of a){var i=m(e,t);n.appendChild(i)}g.append(n)}(n,t))}),k.apply(this,arguments)}function w(){l.setAttribute("displayed","true")}function C(){l.setAttribute("displayed","false")}function q(e,a){(0,c.c)("FolderEditor"),w(),function(e,a){k.apply(this,arguments)}(e,a),(0,c.b)()}function L(e,a,n,t,r){(0,i.p)(a,n,t,r).then(function(a){if(a)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,s.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,s.a)("arrow_circle_down","已往下移")}else(0,s.a)("error","無法移動")})}function S(){return(S=(0,t.a)(function*(e,a){var n=b.value,t=v.value;(yield(0,i.q)(e,n,t))?(C(),(0,c.i)(),(0,c.e)("FolderEditor"),"function"==typeof a&&a()):(0,s.a)("error","無法儲存變更")})).apply(this,arguments)}y.onclick=function(){(0,o.d)(v)}},8379(e,a,n){n.d(a,{a:()=>w,b:()=>m,c:()=>k,d:()=>g});var t=n(467),i=n(9566),r=n(8179),o=n(6052),d=n(9333),c=n(4537),s=n(904),l=(0,r.c)(".jq"),u=(0,r.e)(l,".oq"),p=(0,r.e)(u,".pq"),f=(0,r.e)(l,".kq"),h=(0,r.e)(f,".mq");function b(e){var a=(0,r.a)();a.classList.add("qq"),a.onclick=function(){(0,d.b)(e.id,function(){v()})};var n=(0,r.a)();n.classList.add("rq"),n.appendChild((0,c.b)(e.icon));var t=(0,r.a)();t.classList.add("sq"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("tq"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("uq"),o.appendChild((0,c.b)("arrow_forward_ios")),a.appendChild(n),a.appendChild(t),a.appendChild(i),a.appendChild(o),a}function v(){return y.apply(this,arguments)}function y(){return(y=(0,t.a)(function*(){h.onclick=function(){(0,o.c)(function(){v()})};var e=yield(0,i.h)();p.innerHTML="";var a=new DocumentFragment;for(var n of e){var t=b(n);a.appendChild(t)}p.append(a)})).apply(this,arguments)}function g(){l.setAttribute("displayed","true")}function m(){l.setAttribute("displayed","false")}function k(){(0,s.c)("FolderManager"),g(),v(),(0,s.b)()}function w(){m(),(0,s.i)(),(0,s.e)("FolderManager")}}}]);
//# sourceMappingURL=0db2af9299e19118b997.js.map