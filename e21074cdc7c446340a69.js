"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[775],{574(t,e,n){n.d(e,{AE:()=>a,DK:()=>h});var r=n(5428),a={vector:[0,0],id:-1,name:"未知",symbol:"?",icon:"explore"},o={vector:[0,1],id:0,name:"北",symbol:"↑",icon:"north"},i={vector:[1,0],id:1,name:"東",symbol:"→",icon:"east"},u={vector:[0,-1],id:2,name:"南",symbol:"↓",icon:"south"},c={vector:[-1,0],id:3,name:"西",symbol:"←",icon:"west"},l={vector:[Math.SQRT1_2,Math.SQRT1_2],id:4,name:"東北",symbol:"↗",icon:"north_east"},s={vector:[Math.SQRT1_2,-Math.SQRT1_2],id:5,name:"東南",symbol:"↘",icon:"south_east"},f={vector:[-Math.SQRT1_2,-Math.SQRT1_2],id:6,name:"西南",symbol:"↙",icon:"south_west"},d={vector:[-Math.SQRT1_2,Math.SQRT1_2],id:7,name:"西北",symbol:"↖",icon:"north_west"};function h(t){for(var e=[a,o,c,u,i,l,s,f,d],n=(0,r.hF)(t),h=-1/0,v=e[0],m=0,p=e;m<p.length;m++){var y=p[m],b=y.vector[0]*n[0]+y.vector[1]*n[1];b>h&&(h=b,v=y)}return v}},2129(t,e,n){function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t){for(var e=0;e<t.length;e++)for(var n=e+1;n<t.length;n++)if(t[e]===t[n])return!1;return!0}function i(t,e){var n=[];if(t.length<=e.length){var a,o=r(t);try{for(o.s();!(a=o.n()).done;){var i=a.value;e.indexOf(i)>-1&&n.push(i)}}catch(t){o.e(t)}finally{o.f()}}else{var u,c=r(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;t.indexOf(l)>-1&&n.push(l)}}catch(t){c.e(t)}finally{c.f()}}return n}n.d(e,{W8:()=>o,_N:()=>i})},2945(t,e,n){n.d(e,{M:()=>u,V:()=>i});var r=n(7183);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(t){for(var e=[],n=0;n<t;n++)e.push(`地點${(0,r.D5)(n+1)}`);return e}function u(t){var e,n=[],r=a(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(`向${o.name}${o.symbol}`)}}catch(t){r.e(t)}finally{r.f()}return n}},4750(t,e,n){n.d(e,{h:()=>s});var r,a=n(467),o=n(3453),i=n(8024),u={};if("undefined"!=typeof SharedWorker){var c=new SharedWorker(new URL(n.p+n.u(7701),n.b));(r=c.port).start()}else{var l=new Worker(new URL(n.p+n.u(82),n.b));r=l}function s(t){return f.apply(this,arguments)}function f(){return(f=(0,a.A)(function*(t){var e=(0,i.zx)();return yield new Promise(function(n,a){u[e]=n,r.onerror=function(t){a(t.message)},r.postMessage([t,e])})})).apply(this,arguments)}r.onmessage=function(t){var e=(0,o.A)(t.data,2),n=e[0],r=e[1];u[r]&&(u[r](n),delete u[r])},r.onerror=function(t){}},4781(t,e,n){function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];if("string"==typeof t)for(var r=t.length,a=0;a<r;a++){var o=t.charCodeAt(a);(n.indexOf(o)<0||!e)&&n.push(o)}return n}function a(t){return!!/[\u3100-\u312Fˇˋˊ˙]/gm.test(t)}n.d(e,{B5:()=>r,iO:()=>a})},6104(t,e,n){n.d(e,{Ow:()=>M,gE:()=>T,jk:()=>E,os:()=>w,rY:()=>C,vv:()=>S,ze:()=>k});var r=n(467),a=n(5976),o=n(5427),i=n(3459),u=n(3251),c=n(4311),l=n(8179),s=n(8024),f=n(4537),d=n(904),h=n(9119);function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var p=(0,l.bv)(".f"),y=(0,l.aI)(p,".g"),b=(0,l.aI)(y,".h");function $(t){var e=document.createElement("div");e.classList.add("i"),e.setAttribute("type",t.type);var n=document.createElement("div");n.classList.add("j");var r=document.createElement("span");r.appendChild((0,f.YC)(t.icon)),n.appendChild(r);var a=document.createElement("div");a.classList.add("k"),a.appendChild(document.createTextNode(t.name));var o=document.createElement("div");o.classList.add("l"),o.appendChild(document.createTextNode(t.status));var i=document.createElement("div");i.classList.add("m");var u=document.createElement("span");return u.appendChild((0,f.YC)("arrow_forward_ios")),i.appendChild(u),"function"==typeof t.action?e.onclick=function(){t.action()}:"string"==typeof t.action&&e.setAttribute("onclick",t.action),e.appendChild(n),e.appendChild(a),e.appendChild(o),e.appendChild(i),{element:e,id:""}}function g(){return(g=(0,r.A)(function*(){var t=yield(0,i.cl)();b.innerHTML="";var e,n=new DocumentFragment,r=v(t);try{for(r.s();!(e=r.n()).done;){var a=$(e.value);n.appendChild(a.element)}}catch(t){r.e(t)}finally{r.f()}b.append(n)})).apply(this,arguments)}function M(){(0,d.WR)("Settings"),p.setAttribute("displayed","true"),function(){g.apply(this,arguments)}()}function w(){(0,d.kr)("Settings"),p.setAttribute("displayed","false")}function S(){return A.apply(this,arguments)}function A(){return(A=(0,r.A)(function*(){(0,h.a)("manufacturing","資料匯出中");var t=yield(0,a.R)();(0,s.MR)(t,"application/json","bus-export.json")})).apply(this,arguments)}function C(){var t=(0,s.zx)(),e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","application/json"),e.setAttribute("name",t),e.id=t,e.classList.add("n"),e.addEventListener("change",function(e){if(0===e.target.files.length)(0,l.bv)(`body #${t}`).remove();else{var n=e.target.files[0],r=new FileReader;r.onload=function(e){var n=e.target.result;(0,o.Qx)(n).then(function(e){e?(0,h.a)("check_circle","已匯入資料"):(0,h.a)("error","無法匯入資料"),(0,l.bv)(`body #${t}`).remove()})},r.readAsText(n)}},{once:!0}),e.addEventListener("cancel",function(){(0,l.bv)(`body #${t}`).remove()},{once:!0}),document.body.append(e),(0,l.bv)(`body #${t}`).click()}function T(){var t=(0,u._P)();window.open(t)}function k(){window.open("https://github.com/EricHsia7/bus")}function E(){(0,c.VC)().then(function(t){switch(t){case"granted":(0,h.a)("check_circle","已開啟永久儲存");break;case"denied":(0,h.a)("cancel","永久儲存權限已被拒絕");break;case"unsupported":(0,h.a)("warning","此瀏覽器不支援永久儲存");break;default:(0,h.a)("error","發生錯誤")}})}},6141(t,e,n){n.d(e,{t:()=>a});var r={light:{},dark:{}};function a(t){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(r[e].hasOwnProperty(t))return r[e][t];var n=getComputedStyle(document.documentElement).getPropertyValue(t);return r[e][t]=n,n}},7183(t,e,n){function r(t,e,n,r){var a=n*Math.PI/180-t*Math.PI/180,o=r*Math.PI/180-e*Math.PI/180,i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 1e3*(6378.137*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))))}function a(t){for(var e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=0;t>=1e3&&n<e.length-1;)t/=1e3,n++;return`${Math.floor(100*t)/100} ${e[n]}`}function o(t){for(var e="";t>0;){var n=(t-1)%26;e=String.fromCharCode(n+65)+e,t=Math.floor((t-1)/26)}return e}n.d(e,{D5:()=>o,aV:()=>r,tH:()=>a})},7968(t,e,n){function r(t,e,n,a){var o=(r.canvas||(r.canvas=document.createElement("canvas"))).getContext("2d"),i=`${e} ${n} ${a}`;return o.font=i,o.measureText(t).width}function a(t,e,n,r,a,o,i){o="number"==typeof o?{tl:o,tr:o,br:o,bl:o}:{tl:o.tl||0,tr:o.tr||0,br:o.br||0,bl:o.bl||0},t.beginPath(),t.moveTo(e+o.tl,n),t.lineTo(e+r-o.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+o.tr),t.lineTo(e+r,n+a-o.br),t.quadraticCurveTo(e+r,n+a,e+r-o.br,n+a),t.lineTo(e+o.bl,n+a),t.quadraticCurveTo(e,n+a,e,n+a-o.bl),t.lineTo(e,n+o.tl),t.quadraticCurveTo(e,n,e+o.tl,n),t.closePath(),t.fillStyle=i,t.fill()}function o(t,e,n,r,a,o){var i=a="number"==typeof a?{tl:a,tr:a,br:a,bl:a}:{tl:a.tl||0,tr:a.tr||0,br:a.br||0,bl:a.bl||0},u=i.tl,c=i.tr,l=i.br,s=i.bl,f=[];return o?(0!==u&&f.push(`M${t} ${e+u}`,`Q${t} ${e} ${t+u} ${e}`,`H${t}`,`V${e+u}`),0!==c&&f.push(`M${t+n-c} ${e}`,`Q${t+n} ${e} ${t+n} ${e+c}`,`V${e}`,"H"+(t+n-c)),0!==l&&f.push(`M${t+n} ${e+r-l}`,`Q${t+n} ${e+r} ${t+n-l} ${e+r}`,`H${t+n}`,"V"+(e+r-l)),0!==s&&f.push(`M${t+s} ${e+r}`,`Q${t} ${e+r} ${t} ${e+r-s}`,`V${e+r}`,`H${t+s}`)):f.push(`M${t+u} ${e}`,"H"+(t+n-c),`Q${t+n} ${e} ${t+n} ${e+c}`,"V"+(e+r-l),`Q${t+n} ${e+r} ${t+n-l} ${e+r}`,`H${t+s}`,`Q${t} ${e+r} ${t} ${e+r-s}`,`V${e+u}`,`Q${t} ${e} ${t+u} ${e}`),f}n.d(e,{mX:()=>o,q_:()=>r,wg:()=>a})},8179(t,e,n){function r(t){return document.querySelector(t)}function a(t){return document.querySelectorAll(t)}function o(t,e){return t.querySelector(e)}function i(t,e){return t.querySelectorAll(e)}function u(t,e){for(var n=[],r=t.nextElementSibling;r;)r.classList.contains(e)&&n.push(r),r=r.nextElementSibling;return n}n.d(e,{aI:()=>o,bv:()=>r,e0:()=>a,jg:()=>i,ji:()=>u})}}]);
//# sourceMappingURL=e21074cdc7c446340a69.js.map