(self.webpackChunkbus=self.webpackChunkbus||[]).push([[157],{157(t,e,n){const o=n(6886),r=n(9953),i=n(9899),s=n(8820),u=n(6421),a=n(7756),c=n(1332),l=n(7518),f=n(4764),d=n(1427),g=n(4565),h=n(208),E=n(9801);function m(t,e,n){const o=t.size,r=g.getEncodedBits(e,n);let i,s;for(i=0;i<15;i++)s=1==(r>>i&1),i<6?t.set(i,8,s,!0):i<8?t.set(i+1,8,s,!0):t.set(o-15+i,8,s,!0),i<8?t.set(8,o-i-1,s,!0):i<9?t.set(8,15-i-1+1,s,!0):t.set(8,15-i-1,s,!0);t.set(o-8,8,1,!0)}function w(t,e,n){const r=new i;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),h.getCharCountIndicator(e.mode,t)),e.write(r)});const s=8*(o.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const u=(s-r.getLengthInBits())/8;for(let t=0;t<u;t++)r.put(t%2?17:236,8);return function(t,e,n){const r=o.getSymbolTotalCodewords(e),i=l.getTotalCodewordsCount(e,n),s=r-i,u=l.getBlocksCount(e,n),a=r%u,c=u-a,d=Math.floor(r/u),g=Math.floor(s/u),h=g+1,E=d-g,m=new f(E);let w=0;const p=new Array(u),C=new Array(u);let A=0;const I=new Uint8Array(t.buffer);for(let t=0;t<u;t++){const e=t<c?g:h;p[t]=I.slice(w,w+e),C[t]=m.encode(p[t]),w+=e,A=Math.max(A,e)}const B=new Uint8Array(r);let M,y,N=0;for(M=0;M<A;M++)for(y=0;y<u;y++)M<p[y].length&&(B[N++]=p[y][M]);for(M=0;M<E;M++)for(y=0;y<u;y++)B[N++]=C[y][M];return B}(r,t,e)}function p(t,e,n,r){let i;if(Array.isArray(t))i=E.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let o=e;if(!o){const e=E.rawSplit(t);o=d.getBestVersionForData(e,n)}i=E.fromString(t,o||40)}}const l=d.getBestVersionForData(i,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<l)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+l+".\n")}else e=l;const f=w(e,n,i),g=o.getSymbolSize(e),h=new s(g);return function(t,e){const n=t.size,o=a.getPositions(e);for(let e=0;e<o.length;e++){const r=o[e][0],i=o[e][1];for(let e=-1;e<=7;e++)if(!(r+e<=-1||n<=r+e))for(let o=-1;o<=7;o++)i+o<=-1||n<=i+o||(e>=0&&e<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===e||6===e)||e>=2&&e<=4&&o>=2&&o<=4?t.set(r+e,i+o,!0,!0):t.set(r+e,i+o,!1,!0))}}(h,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(h),function(t,e){const n=u.getPositions(e);for(let e=0;e<n.length;e++){const o=n[e][0],r=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(o+e,r+n,!0,!0):t.set(o+e,r+n,!1,!0)}}(h,e),m(h,n,0),e>=7&&function(t,e){const n=t.size,o=d.getEncodedBits(e);let r,i,s;for(let e=0;e<18;e++)r=Math.floor(e/3),i=e%3+n-8-3,s=1==(o>>e&1),t.set(r,i,s,!0),t.set(i,r,s,!0)}(h,e),function(t,e){const n=t.size;let o=-1,r=n-1,i=7,s=0;for(let u=n-1;u>0;u-=2)for(6===u&&u--;;){for(let n=0;n<2;n++)if(!t.isReserved(r,u-n)){let o=!1;s<e.length&&(o=1==(e[s]>>>i&1)),t.set(r,u-n,o),i--,-1===i&&(s++,i=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}(h,f),isNaN(r)&&(r=c.getBestMask(h,m.bind(null,h,n))),c.applyMask(r,h),m(h,n,r),{modules:h,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,i,s=r.M;return void 0!==e&&(s=r.from(e.errorCorrectionLevel,r.M),n=d.from(e.version),i=c.from(e.maskPattern),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),p(t,n,s,i)}},208(t,e,n){const o=n(1878),r=n(7044);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},1427(t,e,n){const o=n(6886),r=n(7518),i=n(9953),s=n(208),u=n(1878),a=o.getBCHDigit(7973);function c(t,e){return s.getCharCountIndicator(t,e)+4}function l(t,e){let n=0;return t.forEach(function(t){const o=c(t.mode,e);n+=o+t.getBitsLength()}),n}e.from=function(t,e){return u.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!u.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=s.BYTE);const i=8*(o.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,e));if(n===s.MIXED)return i;const a=i-c(n,t);switch(n){case s.NUMERIC:return Math.floor(a/10*3);case s.ALPHANUMERIC:return Math.floor(a/11*2);case s.KANJI:return Math.floor(a/13);case s.BYTE:default:return Math.floor(a/8)}},e.getBestVersionForData=function(t,n){let o;const r=i.from(n,i.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let o=1;o<=40;o++)if(l(t,o)<=e.getCapacity(o,n,s.MIXED))return o}(t,r);if(0===t.length)return 1;o=t[0]}else o=t;return function(t,n,o){for(let r=1;r<=40;r++)if(n<=e.getCapacity(r,o,t))return r}(o.mode,o.getLength(),r)},e.getEncodedBits=function(t){if(!u.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;o.getBCHDigit(e)-a>=0;)e^=7973<<o.getBCHDigit(e)-a;return t<<12|e}},1878(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},4357(t,e,n){const o=n(208);function r(t){this.mode=o.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e,n,o;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),o=parseInt(n,10),t.put(o,10);const r=this.data.length-e;r>0&&(n=this.data.substr(e),o=parseInt(n,10),t.put(o,3*r+1))},t.exports=r},4713(t,e,n){const o=n(2731);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]^=o.mul(t[r],e[i]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let r=0;r<e.length;r++)n[r]^=o.mul(e[r],t);let r=0;for(;r<n.length&&0===n[r];)r++;n=n.slice(r)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let r=0;r<t;r++)n=e.mul(n,new Uint8Array([1,o.exp(r)]));return n}},4764(t,e,n){const o=n(4713);function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=o.mod(e,this.genPoly),r=this.degree-n.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(n,r),t}return n},t.exports=r},6886(t,e){let n;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return o[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},7044(t,e){const n="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";e.KANJI=new RegExp(o,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+o+"$"),s=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return i.test(t)},e.testNumeric=function(t){return s.test(t)},e.testAlphanumeric=function(t){return u.test(t)}},9801(t,e,n){const o=n(208),r=n(4357),i=n(1433),s=n(5822),u=n(4861),a=n(7044),c=n(6886),l=n(6320);function f(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){const o=[];let r;for(;null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function g(t){const e=d(a.NUMERIC,o.NUMERIC,t),n=d(a.ALPHANUMERIC,o.ALPHANUMERIC,t);let r,i;c.isKanjiModeEnabled()?(r=d(a.BYTE,o.BYTE,t),i=d(a.KANJI,o.KANJI,t)):(r=d(a.BYTE_KANJI,o.BYTE,t),i=[]);return e.concat(n,r,i).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function h(t,e){switch(e){case o.NUMERIC:return r.getBitsLength(t);case o.ALPHANUMERIC:return i.getBitsLength(t);case o.KANJI:return u.getBitsLength(t);case o.BYTE:return s.getBitsLength(t)}}function E(t,e){let n;const a=o.getBestModeForData(t);if(n=o.from(e,a),n!==o.BYTE&&n.bit<a.bit)throw new Error('"'+t+'" cannot be encoded with mode '+o.toString(n)+".\n Suggested mode is: "+o.toString(a));switch(n!==o.KANJI||c.isKanjiModeEnabled()||(n=o.BYTE),n){case o.NUMERIC:return new r(t);case o.ALPHANUMERIC:return new i(t);case o.KANJI:return new u(t);case o.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(E(e,null)):e.data&&t.push(E(e.data,e.mode)),t},[])},e.fromString=function(t,n){const r=function(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];switch(r.mode){case o.NUMERIC:e.push([r,{data:r.data,mode:o.ALPHANUMERIC,length:r.length},{data:r.data,mode:o.BYTE,length:r.length}]);break;case o.ALPHANUMERIC:e.push([r,{data:r.data,mode:o.BYTE,length:r.length}]);break;case o.KANJI:e.push([r,{data:r.data,mode:o.BYTE,length:f(r.data)}]);break;case o.BYTE:e.push([{data:r.data,mode:o.BYTE,length:f(r.data)}])}}return e}(g(t,c.isKanjiModeEnabled())),i=function(t,e){const n={},r={start:{}};let i=["start"];for(let s=0;s<t.length;s++){const u=t[s],a=[];for(let t=0;t<u.length;t++){const c=u[t],l=""+s+t;a.push(l),n[l]={node:c,lastCount:0},r[l]={};for(let t=0;t<i.length;t++){const s=i[t];n[s]&&n[s].node.mode===c.mode?(r[s][l]=h(n[s].lastCount+c.length,c.mode)-h(n[s].lastCount,c.mode),n[s].lastCount+=c.length):(n[s]&&(n[s].lastCount=c.length),r[s][l]=h(c.length,c.mode)+4+o.getCharCountIndicator(c.mode,e))}}i=a}for(let t=0;t<i.length;t++)r[i[t]].end=0;return{map:r,table:n}}(r,n),s=l.find_path(i.map,"start","end"),u=[];for(let t=1;t<s.length-1;t++)u.push(i.table[s[t]].node);return e.fromArray(function(t){return t.reduce(function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(u))},e.rawSplit=function(t){return e.fromArray(g(t,c.isKanjiModeEnabled()))}}}]);
//# sourceMappingURL=8c972b4b.js.map