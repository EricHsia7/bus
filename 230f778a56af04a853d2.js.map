{"version":3,"file":"230f778a56af04a853d2.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,MAAO,GAAIH,GACQ,iBAAZC,QACdA,QAAa,IAAID,IAEjBD,EAAU,IAAIC,GACf,CATD,CASGK,KAAM,I,UCTLC,ECAAC,E,WC2BJ,IAFA,IAAIC,EAAe,mCACfC,EAAoB,CAAC,EAChBC,EAAI,EAAGA,EAAIF,GAAqBE,IACvCD,EAAkBD,EAAaG,OAAOD,IAAMA,EAG9C,IAAIE,EAAc,OAEdC,GAAW,GACXC,EAAU,GACVC,GAAW,IACXC,EAAU,IAaVC,EAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAY1DC,EAAS,SAAUC,EAAUC,EAAWC,GAC1C,GAAIA,IAAkBT,EAAa,CACjC,GAAyB,iBAAf,GAAiD,iBAAhB,EACzC,MAAM,IAAIU,MAAM,gDAElB,IAAIC,EAAgBJ,EAASK,MAAM,KAAK,GAAGC,OACvCC,EAAiBN,EAAUI,MAAM,KAAK,GAAGC,OACzCE,EAAkBC,KAAKC,IAAIN,EAAeG,GAC9CL,EAAgBJ,EAAmBU,EACrC,WAA6BG,IAAlBT,IACTA,EAAgB,GAYlB,IATA,IAQAU,EARIC,EAAQ,GACZC,EAAO,EACPC,EAAY,EACZC,EAAa,EACbC,EAAStB,EACTuB,EAASxB,EACTyB,EAAStB,EACTuB,EAASxB,EAEFiB,EAAMP,OAASJ,GAuBpB,GAtBIa,EAAY,GAAM,EAEhBd,GADJW,GAAOO,EAASC,GAAU,IAExBJ,EAAiC,GAAnBA,GAAc,GAC5BI,EAASR,IAETI,EAAiC,GAAnBA,GAAc,GAC5BG,EAASP,GAIPZ,GADJY,GAAOK,EAASC,GAAU,IAExBF,EAAiC,GAAnBA,GAAc,GAC5BE,EAASN,IAETI,EAAiC,GAAnBA,GAAc,GAC5BC,EAASL,GAKbG,IACa,MAFbD,EAEgB,CACd,IAAIO,EAAOhC,EAAa2B,GACxBH,EAAMS,KAAKD,GACXP,EAAO,EACPE,EAAa,CACf,CAEF,OAAOH,EAAMU,KAAK,GACpB,EAYIC,EAAa,SAAUxB,EAAUC,EAAWwB,GAE9CA,EAAWA,GAAY,GAUvB,IARA,IAKAb,EALIG,EAAY,EAChBE,EAAStB,EACTuB,EAASxB,EACTyB,EAAStB,EACTuB,EAASxB,EAET8B,EAAe,EAERX,EAAYU,GACjBC,GAAgB,EACZX,EAAY,GAAM,EAEhBd,GADJW,GAAOO,EAASC,GAAU,IAExBM,GAAgB,EAChBN,EAASR,GAETO,EAASP,EAIPZ,GADJY,GAAOK,EAASC,GAAU,IAExBQ,GAAgB,EAChBR,EAASN,GAETK,EAASL,EAGbG,IAEF,OAAOW,CACT,EASIC,EAAc,SAAUC,GAS1B,IARA,IAKEhB,EALEiB,GAAQ,EACVZ,EAAStB,EACTuB,EAASxB,EACTyB,EAAStB,EACTuB,EAASxB,EAGPkC,EAAY,EACPvC,EAAI,EAAGwC,EAAIH,EAAYtB,OAAQf,EAAIwC,EAAGxC,IAAK,CAClD,IAAI8B,EAAOO,EAAYrC,GAAGyC,cAC1BF,EAAYxC,EAAkB+B,GAE9B,IAAK,IAAIP,EAAO,EAAGA,GAAQ,EAAGA,IAAQ,CACpC,IAAImB,EAAOH,GAAahB,EAAQ,EAC5Be,GACFjB,GAAOO,EAASC,GAAU,EACd,IAARa,EACFb,EAASR,EAETO,EAASP,IAGXA,GAAOK,EAASC,GAAU,EACd,IAARe,EACFf,EAASN,EAETK,EAASL,GAGbiB,GAASA,CACX,CACF,CACA,MAAO,CAACX,EAAQE,EAAQH,EAAQE,EAClC,EAUIe,EAAkB,SAAUC,EAASV,GAYvC,IARA,IAAIR,EAAStB,EACbuB,EAASxB,EACTyB,EAAStB,EACTuB,EAASxB,EAEOwC,EAAS,EACrBC,GARJZ,EAAWA,GAAY,IAQD,EAEblC,EAAI,EAAGA,EAAI8C,EAAM9C,IAExB6C,EAASE,EAAQH,EAAuB,GAAZE,EAAO9C,GAAU,GAG9B,IAFN+C,EAAQH,EAAuB,GAAZE,EAAO9C,GAAU,GAG3C0B,GAAUA,EAASC,GAAU,EAG7BA,GAAUD,EAASC,GAAU,EAGhB,IAAXkB,EACFjB,GAAUA,EAASC,GAAU,EAG7BA,GAAUD,EAASC,GAAU,EAGjC,MAAO,CAACF,EAAQE,EAAQH,EAAQE,EAClC,EAEA,SAASmB,EAAQxB,EAAMyB,GACrB,OAAQzB,EAAOL,KAAK+B,IAAI,EAAGD,GAAa,CAC1C,CAUA,IAAIE,EAAS,SAAUC,GACrB,IAAIC,EAAOhB,EAAYe,GACnBE,GAAOD,EAAK,GAAKA,EAAK,IAAM,EAC5BE,GAAOF,EAAK,GAAKA,EAAK,IAAM,EAGhC,MAAO,CAAC3C,SAAU4C,EAAK3C,UAAW4C,EAC9BC,MAAO,CAAC9C,SAHC2C,EAAK,GAAKC,EAGO3C,UAFjB0C,EAAK,GAAKE,GAGzB,EAWIE,EAAa,SAAUC,EAAUvB,GACnC,IAAIkB,EAAOT,EAAgBc,EAAUvB,GACjCmB,GAAOD,EAAK,GAAKA,EAAK,IAAM,EAC5BE,GAAOF,EAAK,GAAKA,EAAK,IAAM,EAGhC,MAAO,CAAC3C,SAAU4C,EAAK3C,UAAW4C,EAC1BC,MAAO,CAAC9C,SAHH2C,EAAK,GAAKC,EAGW3C,UAFrB0C,EAAK,GAAKE,GAGzB,EAcII,EAAW,SAAUP,EAAYQ,GACnC,IAAIC,EAASV,EAAOC,GAChBU,EAAcD,EAAOnD,SACrBkD,EAAU,GAAKC,EAAOL,MAAM9C,SAAW,EACvCqD,EAAcF,EAAOlD,UACrBiD,EAAU,GAAKC,EAAOL,MAAM7C,UAAY,EAG5C,OAFAoD,EAAcC,EAAiBD,GAC/BD,EAAcG,EAAiBH,GACxBrD,EAAOqD,EAAaC,EAAaX,EAAWpC,OACrD,EAaIkD,EAAe,SAAUR,EAAUE,EAAWzB,GAE9C,IAAIgC,EAASV,EAAWC,EADxBvB,EAAWA,GAAY,IAEnBiC,EAAeD,EAAOzD,SAAWkD,EAAU,GAAKO,EAAOX,MAAM9C,SAAW,EACxE2D,EAAeF,EAAOxD,UAAYiD,EAAU,GAAKO,EAAOX,MAAM7C,UAAY,EAG9E,OAFA0D,EAAeL,EAAiBK,GAChCD,EAAeH,EAAiBG,GACzBlC,EAAWkC,EAAcC,EAAclC,EAClD,EA4KA,SAAS6B,EAAiBT,GACxB,OAAIA,EAAMhD,EACDD,EAAUiD,EAAMhD,EACrBgD,EAAMjD,EACDC,EAAUgD,EAAMhD,EAClBgD,CACT,CAEA,SAASU,EAAiBX,GACxB,OAAIA,EAAMjD,EACDA,EACLiD,EAAMlD,EACDA,EACFkD,CACT,CAEA,IAAIgB,EAAU,CACZ,YAAenE,EACf,OAAUM,EACV,cAAiByB,EACjB,WAAcA,EACd,OAAUiB,EACV,WAAcM,EACd,cAAiBA,EACjB,YAAepB,EACf,mBAAsBO,EACtB,gBAAmBA,EACnB,SAAYe,EACZ,aAAgBO,EAChB,UA7Lc,SAAU5B,GAEtB,IAQI8B,EACAC,EATAE,EAAmBjC,EAAYtB,OAE/BmD,EAAShB,EAAOb,GAChBgB,EAAMa,EAAOzD,SACb6C,EAAMY,EAAOxD,UACb6D,EAAiC,EAAxBL,EAAOX,MAAM9C,SACtB+D,EAAkC,EAAzBN,EAAOX,MAAM7C,UAgB1B,SAAS+D,EAAeC,EAAgBC,GAKpC,OAJAR,EAAed,EAAMqB,EAAiBH,EAEtCH,EAAeL,EADfK,EAAed,EAAMqB,EAAiBH,GAEtCL,EAAeH,EAAiBG,GACzB3D,EAAO2D,EAAcC,EAAcE,EAC9C,CAEA,MAnBuB,CACCG,EAAe,EAAE,GACjBA,EAAe,EAAE,GACjBA,EAAe,EAAE,GACjBA,GAAgB,EAAE,GAClBA,GAAgB,EAAE,GAClBA,GAAgB,GAAG,GACnBA,EAAe,GAAG,GAClBA,EAAe,GAAG,GAY9C,EA6JE,cAhJkB,SAAShB,EAAUvB,GAInC,IAMIiC,EACAC,EAPAF,EAASV,EAAWC,EAFxBvB,EAAWA,GAAY,IAGnBmB,EAAMa,EAAOzD,SACb6C,EAAMY,EAAOxD,UACb6D,EAAiC,EAAxBL,EAAOX,MAAM9C,SACtB+D,EAAkC,EAAzBN,EAAOX,MAAM7C,UAgB1B,SAASkE,EAAmBF,EAAgBC,GAKxC,OAJAR,EAAed,EAAMqB,EAAiBH,EAEtCH,EAAeL,EADfK,EAAed,EAAMqB,EAAiBH,GAEtCL,EAAeH,EAAiBG,GACzBlC,EAAWkC,EAAcC,EAAclC,EAClD,CAEA,MAnB0B,CACC0C,EAAmB,EAAE,GACrBA,EAAmB,EAAE,GACrBA,EAAmB,EAAE,GACrBA,GAAoB,EAAE,GACtBA,GAAoB,EAAE,GACtBA,GAAoB,GAAG,GACvBA,EAAmB,GAAG,GACtBA,EAAmB,GAAG,GAYrD,EAgHE,OAlGW,SAAUjD,EAAQE,EAAQH,EAAQE,EAAQjB,GAmBrD,IAhBA,IAAIkE,EAAgBrE,EAAOmB,EAAQE,EAFnClB,EAAgBA,GAAiB,GAG7BmE,EAAgBtE,EAAOkB,EAAQE,EAAQjB,GAEvCoE,EAAS7B,EAAO2B,GAEhBG,EAAiC,EAAxBD,EAAOxB,MAAM9C,SACtBwE,EAAkC,EAAzBF,EAAOxB,MAAM7C,UAEtBwE,EAAe9C,EAAYyC,GAC3BM,EAAe/C,EAAY0C,GAE3BM,EAAUlE,KAAKmE,OAAOF,EAAa,GAAKD,EAAa,IAAMF,GAC3DM,EAAUpE,KAAKmE,OAAOF,EAAa,GAAKD,EAAa,IAAMD,GAE3DM,EAAW,GAENlC,EAAM,EAAGA,GAAO+B,EAAS/B,IAChC,IAAK,IAAIC,EAAM,EAAGA,GAAOgC,EAAShC,IAChCiC,EAASxD,KAAK2B,EAASmB,EAAe,CAACxB,EAAKC,KAIhD,OAAOiC,CACT,EAyEE,WA5De,SAAS5D,EAAQE,EAAQH,EAAQE,EAAQM,GAmBtD,IAhBA,IAAI2C,EAAgB5C,EAAWN,EAAQE,EAFvCK,EAAWA,GAAY,IAGnB4C,EAAgB7C,EAAWP,EAAQE,EAAQM,GAE3CsD,EAAShC,EAAWqB,EAAe3C,GAEnC8C,EAAiC,EAAxBQ,EAAOjC,MAAM9C,SACtBwE,EAAkC,EAAzBO,EAAOjC,MAAM7C,UAEtBwE,EAAevC,EAAgBkC,EAAe3C,GAC9CiD,EAAexC,EAAgBmC,EAAe5C,GAE9CkD,EAAUlE,KAAKmE,OAAOF,EAAa,GAAKD,EAAa,IAAIF,GACzDM,EAAUpE,KAAKmE,OAAOF,EAAa,GAAKD,EAAa,IAAID,GAEzDM,EAAW,GAEPlC,EAAM,EAAGA,GAAO+B,EAAS/B,IAC7B,IAAI,IAAIC,EAAM,EAAGA,GAAOgC,EAAShC,IAC7BiC,EAASxD,KAAKkC,EAAaY,EAAc,CAACxB,EAAKC,GAAMpB,IAI/D,OAAOqD,CACT,GAqCA/F,EAAOD,QAAU8E,C,2BCzhBjB,IAAQ7D,EAAWiF,EAAQ,MAAnBjF,OAED,SAASkF,EAAcjF,EAAkBC,EAAmBC,GACjE,OAAOH,EAAOC,EAAUC,EAAWC,EACrC,C,cCFmB8E,EAAQ,MACDA,EAAQ,MAAnBE,OAmIR,SAASC,EAAeC,EAAQC,GACrC,OAAID,SAA8C,YAAbE,EAAAA,EAAAA,GAAOF,KAAkBG,MAAMC,QAAQJ,IAGrEK,OAAOC,UAAUP,eAAeQ,KAAKP,EAAGC,EACjD,CCvDO,SAASO,EAAgBC,GAC9B,IAAMvF,EAASG,KAAKqF,MAAMD,GACpBE,EAAoBF,EAAOvF,OAC3B0F,EAAY,IAAIC,aAAaF,GACnC,GAAIzF,EAAS,EAAG,CAEd,IADA,IAAM4F,EAAQ,EAAI5F,EACTf,EAAIwG,EAAmBxG,EAAI,EAAGA,IACrCyG,EAAUzG,GAAKsG,EAAOtG,GAAK2G,EAE7B,OAAOX,MAAMY,KAAKH,EACpB,CACE,OAAOH,CAEX,C,q/BC5FA3G,KAAKkH,UAAY,SAAUC,GACzB,IAAMC,EAIR,SAA2BC,GACzB,IAC2BC,EADrBC,EAAmB,CAAC,EAAEC,EAAAC,EACTJ,GAAQ,IAA3B,IAAAG,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAA6B,KAAlBC,EAAIP,EAAAQ,MAEPC,EAAe,KADDF,EAAKG,UAEpB/B,EAAesB,EAAkBQ,KACpCR,EAAiBQ,GAAgB,IAEnCR,EAAiBQ,GAAc3F,KAAKyF,EACtC,CAAC,OAAAI,GAAAT,EAAAL,EAAAc,EAAA,SAAAT,EAAAU,GAAA,CACD,IAAK,IAAMC,KAAOZ,EAChBA,EAAiBY,GAAKC,KAAK,SAAUC,EAAGC,GACtC,OAAOD,EAAEE,MAAQD,EAAEC,KACrB,GAEF,IAC2BC,EADrBpB,EAA6B,CAAC,EAAEqB,EAAAhB,EACnBJ,GAAQ,IAA3B,IAAAoB,EAAAf,MAAAc,EAAAC,EAAAd,KAAAC,MAA6B,CAU3B,IAV2B,IAAlBC,EAAIW,EAAAV,MAEPC,EAAe,KADDF,EAAKG,UAEnBU,EAAoBC,WAAWd,EAAK9G,WACpC6H,EAAmBD,WAAWd,EAAK/G,UAErC6F,EAAS,CAAC,EAAG,GACXkC,EAAuBtB,EAAiBQ,GACxCe,EAA6BD,EAAqBzH,OACpD2H,EAAe,KACV1I,EAAI,EAAGA,EAAIyI,EAA4BzI,IAC9C,GAAIwI,EAAqBxI,GAAG2I,KAAOnB,EAAKmB,GAAI,CAC1C,IAAIC,EAAY,EACZ5I,EAAIyI,EAA6B,IACnCG,EAAY5I,EAAI,GAElB0I,EAAeF,EAAqBI,EACtC,CAEF,GAAIF,EAGFpC,EAASD,EAAgB,CAFfiC,WAAWI,EAAahI,WAAa2H,EACrCC,WAAWI,EAAajI,UAAY8H,IAIhD,IAAMT,EAAM,KAAKN,EAAKqB,iBACtB,GAAKjD,EAAemB,EAAQe,GAatBf,EAAOe,GAAKgB,EAAEC,QAAQvB,EAAKG,SAAW,GACxCZ,EAAOe,GAAKgB,EAAE/G,KAAKyF,EAAKG,SAEtBZ,EAAOe,GAAKT,EAAE0B,QAAQvB,EAAKmB,IAAM,IACnC5B,EAAOe,GAAKT,EAAEtF,KAAKyF,EAAKmB,IACxB5B,EAAOe,GAAKkB,EAAEjH,KAAKuE,IAErBS,EAAOe,GAAKE,EAAEjG,KAAKyF,EAAKyB,aApBQ,CAChC,IAAMC,EAAiB,CAAC,EACxBA,EAAe5B,EAAIE,EAAK2B,OACxBD,EAAeE,GAAKf,EACpBa,EAAeG,GAAKd,EACpBW,EAAeI,EAAI5D,EAAc6C,EAAkBF,EAAmB,GACtEa,EAAeJ,EAAI,CAACtB,EAAKG,SACzBuB,EAAe7B,EAAI,CAACG,EAAKmB,IACzBO,EAAeF,EAAI,CAAC1C,GACpB4C,EAAelB,EAAI,CAACR,EAAKyB,SACzBC,EAAeK,GAAK/B,EAAKqB,eACzB9B,EAAOe,GAAOoB,CAChB,CAUF,CAAC,OAAAtB,GAAAQ,EAAAtB,EAAAc,EAAA,SAAAQ,EAAAP,GAAA,CACD,OAAOd,CACT,CAtEiByC,CAAkB1C,EAAE2C,MACnC9J,KAAK+J,YAAY3C,EACnB,C,GCPI4C,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBzI,IAAjB0I,EACH,OAAOA,EAAavK,QAGrB,IAAIC,EAASmK,EAAyBE,GAAY,CAGjDtK,QAAS,CAAC,GAOX,OAHAwK,EAAoBF,GAAUrK,EAAQA,EAAOD,QAASqK,GAG/CpK,EAAOD,OACf,CAGAqK,EAAoBI,EAAID,EAGxBH,EAAoB/D,EAAI,KAGvB,IAAIoE,EAAsBL,EAAoBM,OAAE9I,EAAW,CAAC,IAAK,IAAOwI,EAAoB,OAE5F,OADAK,EAAsBL,EAAoBM,EAAED,IChC7CL,EAAoBO,KAAO,CAAC,ERAxBvK,EAAW,GACfgK,EAAoBM,EAAI,CAACnD,EAAQqD,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASxK,EAAI,EAAGA,EAAIJ,EAASmB,OAAQf,IAAK,CAGzC,IAFA,IAAKoK,EAAUC,EAAIC,GAAY1K,EAASI,GACpCyK,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAASrJ,OAAQ2J,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAapE,OAAOyE,KAAKf,EAAoBM,GAAGU,MAAO9C,GAAS8B,EAAoBM,EAAEpC,GAAKsC,EAASM,KAC9IN,EAASS,OAAOH,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACb7K,EAASiL,OAAO7K,IAAK,GACrB,IAAI8I,EAAIuB,SACEjJ,IAAN0H,IAAiB/B,EAAS+B,EAC/B,CACD,CACA,OAAO/B,CAnBP,CAJCuD,EAAWA,GAAY,EACvB,IAAI,IAAItK,EAAIJ,EAASmB,OAAQf,EAAI,GAAKJ,EAASI,EAAI,GAAG,GAAKsK,EAAUtK,IAAKJ,EAASI,GAAKJ,EAASI,EAAI,GACrGJ,EAASI,GAAK,CAACoK,EAAUC,EAAIC,ISJ/BV,EAAoBkB,EAAI,CAACvL,EAASwL,KACjC,IAAI,IAAIjD,KAAOiD,EACXnB,EAAoBoB,EAAED,EAAYjD,KAAS8B,EAAoBoB,EAAEzL,EAASuI,IAC5E5B,OAAO+E,eAAe1L,EAASuI,EAAK,CAAEoD,YAAY,EAAMC,IAAKJ,EAAWjD,MCJ3E8B,EAAoB/B,EAAI,CAAC,EAGzB+B,EAAoB9C,EAAKsE,GACjBC,QAAQC,IAAIpF,OAAOyE,KAAKf,EAAoB/B,GAAG0D,OAAO,CAACC,EAAU1D,KACvE8B,EAAoB/B,EAAEC,GAAKsD,EAASI,GAC7BA,GACL,KCNJ5B,EAAoB6B,EAAKL,GAEjB,0BCFRxB,EAAoB8B,SAAYN,MCDhCxB,EAAoBN,EAAI,WACvB,GAA0B,iBAAfqC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAO/E,GACR,GAAsB,iBAAXgF,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBlC,EAAoBoB,EAAI,CAACe,EAAKC,IAAU9F,OAAOC,UAAUP,eAAeQ,KAAK2F,EAAKC,GCAlFpC,EAAoBqC,EAAI,K,MCIxB,IAAIC,EAAkB,CACrB,IAAK,GAgBNtC,EAAoB/B,EAAE7H,EAAI,CAACoL,EAASI,KAE/BU,EAAgBd,IAElBe,cAAcvC,EAAoBqC,EAAIrC,EAAoB6B,EAAEL,KAK/D,IAAIgB,EAAqBzM,KAAsB,gBAAIA,KAAsB,iBAAK,GAC1E0M,EAA6BD,EAAmBrK,KAAKuK,KAAKF,GAC9DA,EAAmBrK,KAvBC0H,IACnB,IAAKW,EAAUmC,EAAaC,GAAW/C,EACvC,IAAI,IAAII,KAAY0C,EAChB3C,EAAoBoB,EAAEuB,EAAa1C,KACrCD,EAAoBI,EAAEH,GAAY0C,EAAY1C,IAIhD,IADG2C,GAASA,EAAQ5C,GACdQ,EAASrJ,QACdmL,EAAgB9B,EAASqC,OAAS,EACnCJ,EAA2B5C,G,KfnBxB5J,EAAO+J,EAAoB/D,EAC/B+D,EAAoB/D,EAAI,IAChB+D,EAAoB9C,EAAE,IAAI4F,KAAK7M,GgBDvC,IAAIoK,EAAsBL,EAAoB/D,I","sources":["webpack://bus/webpack/universalModuleDefinition","webpack://bus/webpack/runtime/chunk loaded","webpack://bus/webpack/runtime/startup chunk dependencies","webpack://bus/./node_modules/ngeohash/main.js","webpack://bus/./src/tools/geohash.ts","webpack://bus/./src/tools/index.ts","webpack://bus/./src/tools/math.ts","webpack://bus/./src/data/apis/getLocation/simplifyLocation-worker.ts","webpack://bus/webpack/bootstrap","webpack://bus/webpack/runtime/amd options","webpack://bus/webpack/runtime/define property getters","webpack://bus/webpack/runtime/ensure chunk","webpack://bus/webpack/runtime/get javascript chunk filename","webpack://bus/webpack/runtime/get mini-css chunk filename","webpack://bus/webpack/runtime/global","webpack://bus/webpack/runtime/hasOwnProperty shorthand","webpack://bus/webpack/runtime/publicPath","webpack://bus/webpack/runtime/importScripts chunk loading","webpack://bus/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"bus\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bus\"] = factory();\n\telse\n\t\troot[\"bus\"] = factory();\n})(self, () => {\nreturn ","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(35).then(next);\n};","/**\n * Copyright (c) 2011, Sun Ning.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use, copy,\n * modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nvar BASE32_CODES = \"0123456789bcdefghjkmnpqrstuvwxyz\";\nvar BASE32_CODES_DICT = {};\nfor (var i = 0; i < BASE32_CODES.length; i++) {\n  BASE32_CODES_DICT[BASE32_CODES.charAt(i)] = i;\n}\n\nvar ENCODE_AUTO = 'auto';\n\nvar MIN_LAT = -90;\nvar MAX_LAT = 90;\nvar MIN_LON = -180;\nvar MAX_LON = 180;\n/**\n * Significant Figure Hash Length\n *\n * This is a quick and dirty lookup to figure out how long our hash\n * should be in order to guarantee a certain amount of trailing\n * significant figures. This was calculated by determining the error:\n * 45/2^(n-1) where n is the number of bits for a latitude or\n * longitude. Key is # of desired sig figs, value is minimum length of\n * the geohash.\n * @type Array\n */\n//     Desired sig figs:  0  1  2  3  4   5   6   7   8   9  10\nvar SIGFIG_HASH_LENGTH = [0, 5, 7, 8, 11, 12, 13, 15, 16, 17, 18];\n/**\n * Encode\n *\n * Create a Geohash out of a latitude and longitude that is\n * `numberOfChars` long.\n *\n * @param {Number|String} latitude\n * @param {Number|String} longitude\n * @param {Number} numberOfChars\n * @returns {String}\n */\nvar encode = function (latitude, longitude, numberOfChars) {\n  if (numberOfChars === ENCODE_AUTO) {\n    if (typeof(latitude) === 'number' || typeof(longitude) === 'number') {\n      throw new Error('string notation required for auto precision.');\n    }\n    var decSigFigsLat = latitude.split('.')[1].length;\n    var decSigFigsLong = longitude.split('.')[1].length;\n    var numberOfSigFigs = Math.max(decSigFigsLat, decSigFigsLong);\n    numberOfChars = SIGFIG_HASH_LENGTH[numberOfSigFigs];\n  } else if (numberOfChars === undefined) {\n    numberOfChars = 9;\n  }\n\n  var chars = [],\n  bits = 0,\n  bitsTotal = 0,\n  hash_value = 0,\n  maxLat = MAX_LAT,\n  minLat = MIN_LAT,\n  maxLon = MAX_LON,\n  minLon = MIN_LON,\n  mid;\n  while (chars.length < numberOfChars) {\n    if (bitsTotal % 2 === 0) {\n      mid = (maxLon + minLon) / 2;\n      if (longitude > mid) {\n        hash_value = (hash_value << 1) + 1;\n        minLon = mid;\n      } else {\n        hash_value = (hash_value << 1) + 0;\n        maxLon = mid;\n      }\n    } else {\n      mid = (maxLat + minLat) / 2;\n      if (latitude > mid) {\n        hash_value = (hash_value << 1) + 1;\n        minLat = mid;\n      } else {\n        hash_value = (hash_value << 1) + 0;\n        maxLat = mid;\n      }\n    }\n\n    bits++;\n    bitsTotal++;\n    if (bits === 5) {\n      var code = BASE32_CODES[hash_value];\n      chars.push(code);\n      bits = 0;\n      hash_value = 0;\n    }\n  }\n  return chars.join('');\n};\n\n/**\n * Encode Integer\n *\n * Create a Geohash out of a latitude and longitude that is of 'bitDepth'.\n *\n * @param {Number} latitude\n * @param {Number} longitude\n * @param {Number} bitDepth\n * @returns {Number}\n */\nvar encode_int = function (latitude, longitude, bitDepth) {\n\n  bitDepth = bitDepth || 52;\n\n  var bitsTotal = 0,\n  maxLat = MAX_LAT,\n  minLat = MIN_LAT,\n  maxLon = MAX_LON,\n  minLon = MIN_LON,\n  mid,\n  combinedBits = 0;\n\n  while (bitsTotal < bitDepth) {\n    combinedBits *= 2;\n    if (bitsTotal % 2 === 0) {\n      mid = (maxLon + minLon) / 2;\n      if (longitude > mid) {\n        combinedBits += 1;\n        minLon = mid;\n      } else {\n        maxLon = mid;\n      }\n    } else {\n      mid = (maxLat + minLat) / 2;\n      if (latitude > mid) {\n        combinedBits += 1;\n        minLat = mid;\n      } else {\n        maxLat = mid;\n      }\n    }\n    bitsTotal++;\n  }\n  return combinedBits;\n};\n\n/**\n * Decode Bounding Box\n *\n * Decode hashString into a bound box matches it. Data returned in a four-element array: [minlat, minlon, maxlat, maxlon]\n * @param {String} hash_string\n * @returns {Array}\n */\nvar decode_bbox = function (hash_string) {\n  var isLon = true,\n    maxLat = MAX_LAT,\n    minLat = MIN_LAT,\n    maxLon = MAX_LON,\n    minLon = MIN_LON,\n    mid;\n\n  var hashValue = 0;\n  for (var i = 0, l = hash_string.length; i < l; i++) {\n    var code = hash_string[i].toLowerCase();\n    hashValue = BASE32_CODES_DICT[code];\n\n    for (var bits = 4; bits >= 0; bits--) {\n      var bit = (hashValue >> bits) & 1;\n      if (isLon) {\n        mid = (maxLon + minLon) / 2;\n        if (bit === 1) {\n          minLon = mid;\n        } else {\n          maxLon = mid;\n        }\n      } else {\n        mid = (maxLat + minLat) / 2;\n        if (bit === 1) {\n          minLat = mid;\n        } else {\n          maxLat = mid;\n        }\n      }\n      isLon = !isLon;\n    }\n  }\n  return [minLat, minLon, maxLat, maxLon];\n};\n\n/**\n * Decode Bounding Box Integer\n *\n * Decode hash number into a bound box matches it. Data returned in a four-element array: [minlat, minlon, maxlat, maxlon]\n * @param {Number} hashInt\n * @param {Number} bitDepth\n * @returns {Array}\n */\nvar decode_bbox_int = function (hashInt, bitDepth) {\n\n  bitDepth = bitDepth || 52;\n\n  var maxLat = MAX_LAT,\n  minLat = MIN_LAT,\n  maxLon = MAX_LON,\n  minLon = MIN_LON;\n\n  var latBit = 0, lonBit = 0;\n  var step = bitDepth / 2;\n\n  for (var i = 0; i < step; i++) {\n\n    lonBit = get_bit(hashInt, ((step - i) * 2) - 1);\n    latBit = get_bit(hashInt, ((step - i) * 2) - 2);\n\n    if (latBit === 0) {\n      maxLat = (maxLat + minLat) / 2;\n    }\n    else {\n      minLat = (maxLat + minLat) / 2;\n    }\n\n    if (lonBit === 0) {\n      maxLon = (maxLon + minLon) / 2;\n    }\n    else {\n      minLon = (maxLon + minLon) / 2;\n    }\n  }\n  return [minLat, minLon, maxLat, maxLon];\n};\n\nfunction get_bit(bits, position) {\n  return (bits / Math.pow(2, position)) & 0x01;\n}\n\n/**\n * Decode\n *\n * Decode a hash string into pair of latitude and longitude. A javascript object is returned with keys `latitude`,\n * `longitude` and `error`.\n * @param {String} hashString\n * @returns {Object}\n */\nvar decode = function (hashString) {\n  var bbox = decode_bbox(hashString);\n  var lat = (bbox[0] + bbox[2]) / 2;\n  var lon = (bbox[1] + bbox[3]) / 2;\n  var latErr = bbox[2] - lat;\n  var lonErr = bbox[3] - lon;\n  return {latitude: lat, longitude: lon,\n      error: {latitude: latErr, longitude: lonErr}};\n};\n\n/**\n * Decode Integer\n *\n * Decode a hash number into pair of latitude and longitude. A javascript object is returned with keys `latitude`,\n * `longitude` and `error`.\n * @param {Number} hash_int\n * @param {Number} bitDepth\n * @returns {Object}\n */\nvar decode_int = function (hash_int, bitDepth) {\n  var bbox = decode_bbox_int(hash_int, bitDepth);\n  var lat = (bbox[0] + bbox[2]) / 2;\n  var lon = (bbox[1] + bbox[3]) / 2;\n  var latErr = bbox[2] - lat;\n  var lonErr = bbox[3] - lon;\n  return {latitude: lat, longitude: lon,\n          error: {latitude: latErr, longitude: lonErr}};\n};\n\n/**\n * Neighbor\n *\n * Find neighbor of a geohash string in certain direction. Direction is a two-element array, i.e. [1,0] means north, [-1,-1] means southwest.\n * direction [lat, lon], i.e.\n * [1,0] - north\n * [1,1] - northeast\n * ...\n * @param {String} hashString\n * @param {Array} Direction as a 2D normalized vector.\n * @returns {String}\n */\nvar neighbor = function (hashString, direction) {\n  var lonLat = decode(hashString);\n  var neighborLat = lonLat.latitude\n    + direction[0] * lonLat.error.latitude * 2;\n  var neighborLon = lonLat.longitude\n    + direction[1] * lonLat.error.longitude * 2;\n  neighborLon = ensure_valid_lon(neighborLon);\n  neighborLat = ensure_valid_lat(neighborLat);\n  return encode(neighborLat, neighborLon, hashString.length);\n};\n\n/**\n * Neighbor Integer\n *\n * Find neighbor of a geohash integer in certain direction. Direction is a two-element array, i.e. [1,0] means north, [-1,-1] means southwest.\n * direction [lat, lon], i.e.\n * [1,0] - north\n * [1,1] - northeast\n * ...\n * @param {String} hash_string\n * @returns {Array}\n*/\nvar neighbor_int = function (hash_int, direction, bitDepth) {\n    bitDepth = bitDepth || 52;\n    var lonlat = decode_int(hash_int, bitDepth);\n    var neighbor_lat = lonlat.latitude + direction[0] * lonlat.error.latitude * 2;\n    var neighbor_lon = lonlat.longitude + direction[1] * lonlat.error.longitude * 2;\n    neighbor_lon = ensure_valid_lon(neighbor_lon);\n    neighbor_lat = ensure_valid_lat(neighbor_lat);\n    return encode_int(neighbor_lat, neighbor_lon, bitDepth);\n};\n\n/**\n * Neighbors\n *\n * Returns all neighbors' hashstrings clockwise from north around to northwest\n * 7 0 1\n * 6 x 2\n * 5 4 3\n * @param {String} hash_string\n * @returns {encoded neighborHashList|Array}\n */\nvar neighbors = function (hash_string) {\n\n    var hashstringLength = hash_string.length;\n\n    var lonlat = decode(hash_string);\n    var lat = lonlat.latitude;\n    var lon = lonlat.longitude;\n    var latErr = lonlat.error.latitude * 2;\n    var lonErr = lonlat.error.longitude * 2;\n\n    var neighbor_lat,\n        neighbor_lon;\n\n    var neighborHashList = [\n                            encodeNeighbor(1,0),\n                            encodeNeighbor(1,1),\n                            encodeNeighbor(0,1),\n                            encodeNeighbor(-1,1),\n                            encodeNeighbor(-1,0),\n                            encodeNeighbor(-1,-1),\n                            encodeNeighbor(0,-1),\n                            encodeNeighbor(1,-1)\n                            ];\n\n    function encodeNeighbor(neighborLatDir, neighborLonDir){\n        neighbor_lat = lat + neighborLatDir * latErr;\n        neighbor_lon = lon + neighborLonDir * lonErr;\n        neighbor_lon = ensure_valid_lon(neighbor_lon);\n        neighbor_lat = ensure_valid_lat(neighbor_lat);\n        return encode(neighbor_lat, neighbor_lon, hashstringLength);\n    }\n\n    return neighborHashList;\n};\n\n/**\n * Neighbors Integer\n *\n * Returns all neighbors' hash integers clockwise from north around to northwest\n * 7 0 1\n * 6 x 2\n * 5 4 3\n * @param {Number} hash_int\n * @param {Number} bitDepth\n * @returns {encode_int'd neighborHashIntList|Array}\n */\nvar neighbors_int = function(hash_int, bitDepth){\n\n    bitDepth = bitDepth || 52;\n\n    var lonlat = decode_int(hash_int, bitDepth);\n    var lat = lonlat.latitude;\n    var lon = lonlat.longitude;\n    var latErr = lonlat.error.latitude * 2;\n    var lonErr = lonlat.error.longitude * 2;\n\n    var neighbor_lat,\n        neighbor_lon;\n\n    var neighborHashIntList = [\n                               encodeNeighbor_int(1,0),\n                               encodeNeighbor_int(1,1),\n                               encodeNeighbor_int(0,1),\n                               encodeNeighbor_int(-1,1),\n                               encodeNeighbor_int(-1,0),\n                               encodeNeighbor_int(-1,-1),\n                               encodeNeighbor_int(0,-1),\n                               encodeNeighbor_int(1,-1)\n                               ];\n\n    function encodeNeighbor_int(neighborLatDir, neighborLonDir){\n        neighbor_lat = lat + neighborLatDir * latErr;\n        neighbor_lon = lon + neighborLonDir * lonErr;\n        neighbor_lon = ensure_valid_lon(neighbor_lon);\n        neighbor_lat = ensure_valid_lat(neighbor_lat);\n        return encode_int(neighbor_lat, neighbor_lon, bitDepth);\n    }\n\n    return neighborHashIntList;\n};\n\n\n/**\n * Bounding Boxes\n *\n * Return all the hashString between minLat, minLon, maxLat, maxLon in numberOfChars\n * @param {Number} minLat\n * @param {Number} minLon\n * @param {Number} maxLat\n * @param {Number} maxLon\n * @param {Number} numberOfChars\n * @returns {bboxes.hashList|Array}\n */\nvar bboxes = function (minLat, minLon, maxLat, maxLon, numberOfChars) {\n  numberOfChars = numberOfChars || 9;\n\n  var hashSouthWest = encode(minLat, minLon, numberOfChars);\n  var hashNorthEast = encode(maxLat, maxLon, numberOfChars);\n\n  var latLon = decode(hashSouthWest);\n\n  var perLat = latLon.error.latitude * 2;\n  var perLon = latLon.error.longitude * 2;\n\n  var boxSouthWest = decode_bbox(hashSouthWest);\n  var boxNorthEast = decode_bbox(hashNorthEast);\n\n  var latStep = Math.round((boxNorthEast[0] - boxSouthWest[0]) / perLat);\n  var lonStep = Math.round((boxNorthEast[1] - boxSouthWest[1]) / perLon);\n\n  var hashList = [];\n\n  for (var lat = 0; lat <= latStep; lat++) {\n    for (var lon = 0; lon <= lonStep; lon++) {\n      hashList.push(neighbor(hashSouthWest, [lat, lon]));\n    }\n  }\n\n  return hashList;\n};\n\n/**\n * Bounding Boxes Integer\n *\n * Return all the hash integers between minLat, minLon, maxLat, maxLon in bitDepth\n * @param {Number} minLat\n * @param {Number} minLon\n * @param {Number} maxLat\n * @param {Number} maxLon\n * @param {Number} bitDepth\n * @returns {bboxes_int.hashList|Array}\n */\nvar bboxes_int = function(minLat, minLon, maxLat, maxLon, bitDepth){\n    bitDepth = bitDepth || 52;\n\n    var hashSouthWest = encode_int(minLat, minLon, bitDepth);\n    var hashNorthEast = encode_int(maxLat, maxLon, bitDepth);\n\n    var latlon = decode_int(hashSouthWest, bitDepth);\n\n    var perLat = latlon.error.latitude * 2;\n    var perLon = latlon.error.longitude * 2;\n\n    var boxSouthWest = decode_bbox_int(hashSouthWest, bitDepth);\n    var boxNorthEast = decode_bbox_int(hashNorthEast, bitDepth);\n\n    var latStep = Math.round((boxNorthEast[0] - boxSouthWest[0])/perLat);\n    var lonStep = Math.round((boxNorthEast[1] - boxSouthWest[1])/perLon);\n\n    var hashList = [];\n\n    for(var lat = 0; lat <= latStep; lat++){\n        for(var lon = 0; lon <= lonStep; lon++){\n            hashList.push(neighbor_int(hashSouthWest,[lat, lon], bitDepth));\n        }\n    }\n\n  return hashList;\n};\n\nfunction ensure_valid_lon(lon) {\n  if (lon > MAX_LON)\n    return MIN_LON + lon % MAX_LON;\n  if (lon < MIN_LON)\n    return MAX_LON + lon % MAX_LON;\n  return lon;\n};\n\nfunction ensure_valid_lat(lat) {\n  if (lat > MAX_LAT)\n    return MAX_LAT;\n  if (lat < MIN_LAT)\n    return MIN_LAT;\n  return lat;\n};\n\nvar geohash = {\n  'ENCODE_AUTO': ENCODE_AUTO,\n  'encode': encode,\n  'encode_uint64': encode_int, // keeping for backwards compatibility, will deprecate\n  'encode_int': encode_int,\n  'decode': decode,\n  'decode_int': decode_int,\n  'decode_uint64': decode_int, // keeping for backwards compatibility, will deprecate\n  'decode_bbox': decode_bbox,\n  'decode_bbox_uint64': decode_bbox_int, // keeping for backwards compatibility, will deprecate\n  'decode_bbox_int': decode_bbox_int,\n  'neighbor': neighbor,\n  'neighbor_int': neighbor_int,\n  'neighbors': neighbors,\n  'neighbors_int': neighbors_int,\n  'bboxes': bboxes,\n  'bboxes_int': bboxes_int\n};\n\nmodule.exports = geohash;\n","const { encode } = require('ngeohash');\n\nexport function geohashEncode(latitude: number, longitude: number, numberOfChars: number): string {\n  return encode(latitude, longitude, numberOfChars);\n}\n","import { promptMessage } from '../interface/prompt/index';\n\nexport const md5 = require('md5');\nexport const { sha512 } = require('js-sha512');\n\nexport function compareThings(a: any, b: any): boolean {\n  function anyToString(any: any): string {\n    return JSON.stringify({ e: any });\n  }\n  const ax = anyToString(a);\n  const bx = anyToString(b);\n  const length: number = 32;\n  const axLength: number = ax.length;\n  const bxLength: number = bx.length;\n  if (axLength === bxLength) {\n    if (axLength > length || bxLength > length) {\n      const hash_a: string = md5(ax);\n      const hash_b: string = md5(bx);\n\n      let equal: boolean = true;\n      for (let i = 0; i < 8; i++) {\n        const a_i: string = hash_a.charAt(i);\n        const b_i: string = hash_b.charAt(i);\n        if (a_i === b_i) {\n          continue;\n        } else {\n          equal = false;\n          break;\n        }\n      }\n      return equal;\n    } else {\n      if (ax === bx) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  } else {\n    return false;\n  }\n}\n\nexport function generateIdentifier(): string {\n  const chars = [\n    [48, 10], // 0-9: 48 - 57\n    [97, 26], // a-z: 97 - 122\n    [65, 26] // A-Z: 65 - 90\n  ];\n\n  let randomNumber1 = Math.floor(Math.random() * 0x10000000);\n  let randomNumber2 = Math.floor(Math.random() * 0x10000000);\n\n  const result = new Uint8Array(17);\n  result[0] = 95;\n  for (let i = 16; i > 0; i--) {\n    const n = randomNumber2 % 3;\n    const range = chars[n];\n    const code = range[0] + (randomNumber1 % range[1]);\n    result[i] = code;\n    randomNumber1 >>>= 1;\n    randomNumber2 >>>= 1;\n  }\n\n  return String.fromCharCode.apply(null, result);\n}\n\nexport function getNoCacheParameter(interval: number): string {\n  const time = new Date().getTime();\n  const number = (time / interval) | 0;\n  const string = number.toString(16);\n  return string;\n}\n\nexport function downloadBlobFile(blob: Blob, fileName: string, timeout: number = 32 * 1000): string {\n  const blobURL = URL.createObjectURL(blob);\n  const downloadLink = document.createElement('a');\n  downloadLink.href = blobURL;\n  downloadLink.download = fileName;\n  document.body.appendChild(downloadLink);\n  downloadLink.click();\n  downloadLink.remove();\n  setTimeout(() => {\n    URL.revokeObjectURL(blobURL);\n  }, timeout);\n  return blobURL;\n}\n\nexport function releaseFile(content: string, type: string = 'application/json', fileName: string): void {\n  const blob = new Blob([content], { type: type });\n  const fileObj = new File([blob], fileName, { type: type });\n  if (navigator.canShare && navigator.canShare({ files: [fileObj] })) {\n    navigator\n      .share({\n        files: [fileObj]\n      })\n      .catch((error) => {\n        promptMessage('download', '下載資料', {\n          text: '下載',\n          action: function () {\n            downloadBlobFile(blob, fileName);\n          }\n        });\n      });\n  } else {\n    downloadBlobFile(blob, fileName);\n  }\n}\n\nexport function isRunningStandalone(): boolean {\n  return window.matchMedia('(display-mode: standalone)').matches;\n}\n\nexport function supportTouch(): boolean {\n  if ('ontouchstart' in window || navigator.maxTouchPoints) {\n    // Touch events are supported\n    return true;\n  } else {\n    // Touch events are not supported\n    return false;\n  }\n}\n\nexport function booleanToString(x: boolean): 'true' | 'false' | 'unsupported' {\n  if (typeof x === 'boolean') {\n    if (x) {\n      return 'true';\n    } else {\n      return 'false';\n    }\n  }\n  return 'unsupported';\n}\n\nexport function hasOwnProperty(x: any, property: string): boolean {\n  if (x === null || x === undefined || typeof x !== 'object' || Array.isArray(x)) {\n    return false;\n  }\n  return Object.prototype.hasOwnProperty.call(x, property);\n}\n\nexport function isValidURL(string: string): boolean {\n  try {\n    new URL(string);\n    return true; // If no error is thrown, it's a valid URL\n  } catch (_) {\n    return false; // Invalid URL\n  }\n}\n\nexport function nearestPowerOf2(x: number): number {\n  return 1 << (31 - Math.clz32(x));\n}\n","export function calculateStandardDeviation(arr: Array<number>): number {\n  // Step 1: Calculate the mean\n  const mean = arr.reduce((acc, val) => acc + val, 0) / arr.length;\n  // Step 2: Calculate the squared difference between each element and the mean\n  const squaredDifferences = arr.map((val) => Math.pow(val - mean, 2));\n  // Step 3: Find the mean of those squared differences\n  const meanOfSquaredDifferences = squaredDifferences.reduce((acc, val) => acc + val, 0) / arr.length;\n  // Step 4: Take the square root of that mean\n  const standardDeviation = Math.sqrt(meanOfSquaredDifferences);\n  return standardDeviation;\n}\n\nexport function standardizeArray(array: Array<number>): Array<number> {\n  // Calculate the mean of the array\n  const mean = array.reduce((acc, val) => acc + val, 0) / array.length;\n\n  // Calculate the standard deviation\n  const stdDev = calculateStandardDeviation(array);\n\n  // Standardize the array\n  return array.map((val) => (val - mean) / stdDev);\n}\n\n// Function to calculate Pearson correlation coefficient\nexport function pearsonCorrelation(x: Array<number>, y: Array<number>): number {\n  const n = x.length;\n  if (n !== y.length) {\n    throw new Error('Arrays must have the same length');\n  }\n\n  let sumX = 0,\n    sumY = 0,\n    sumXY = 0,\n    sumXSquared = 0,\n    sumYSquared = 0;\n\n  for (let i = 0; i < n; i++) {\n    sumX += x[i];\n    sumY += y[i];\n    sumXY += x[i] * y[i];\n    sumXSquared += x[i] ** 2;\n    sumYSquared += y[i] ** 2;\n  }\n\n  const numerator = n * sumXY - sumX * sumY;\n  const denominator = Math.sqrt((n * sumXSquared - sumX ** 2) * (n * sumYSquared - sumY ** 2));\n\n  if (denominator === 0) {\n    return 0; // Correlation is undefined in this case\n  }\n\n  return numerator / denominator;\n}\n\nexport function mergeStandardDeviation(targetAverage: number, targetSTDEV: number, targetDataLength: number, sourceAverage: number, sourceSTDEV: number, sourceDataLength: number): number {\n  const mergedDataLength = targetDataLength + sourceDataLength;\n\n  const mergedAverage = (targetDataLength * targetAverage + sourceDataLength * sourceAverage) / mergedDataLength;\n\n  const mergedVariance = (targetDataLength * (Math.pow(targetSTDEV, 2) + Math.pow(targetAverage, 2)) + sourceDataLength * (Math.pow(sourceSTDEV, 2) + Math.pow(sourceAverage, 2))) / mergedDataLength - Math.pow(mergedAverage, 2);\n\n  const mergedSTDEV = Math.sqrt(mergedVariance);\n  return mergedSTDEV;\n}\n\nexport function mergePearsonCorrelation(targetXAverage: number, targetYAverage: number, targetXSTDEV: number, targetYSTDEV: number, targetDataLength: number, targetCorrelation: number, sourceXAverage: number, sourceYAverage: number, sourceXSTDEV: number, sourceYSTDEV: number, sourceDataLength: number, sourceCorrelation: number): number {\n  const mergedDataLength = targetDataLength + sourceDataLength;\n\n  const mergedXAverage = (targetDataLength * targetXAverage + sourceDataLength * sourceXAverage) / mergedDataLength;\n  const mergedYAverage = (targetDataLength * targetYAverage + sourceDataLength * sourceYAverage) / mergedDataLength;\n\n  const mergedXSTDEV = mergeStandardDeviation(targetXAverage, targetXSTDEV, targetDataLength, sourceXAverage, sourceXSTDEV, sourceDataLength);\n  const mergedYSTDEV = mergeStandardDeviation(targetYAverage, targetYSTDEV, targetDataLength, sourceYAverage, sourceYSTDEV, sourceDataLength);\n\n  const mergedCorrelation = (targetDataLength * (targetXSTDEV * targetYSTDEV * targetCorrelation + targetXAverage * targetYAverage) + sourceDataLength * (sourceXSTDEV * sourceYSTDEV * sourceCorrelation + sourceXAverage * sourceYAverage) - mergedDataLength * mergedXAverage * mergedYAverage) / (mergedDataLength * mergedXSTDEV * mergedYSTDEV);\n  return mergedCorrelation;\n}\n\n/**\n * get the unit vecotr towards the same direction\n * @param vector [a1, a2, a3, ...]\n * @returns [b1, b2, b3, ...]\n */\n\nexport function normalizeVector(vector: Array<number>): Array<number> {\n  const length = Math.hypot(vector);\n  const componentQuantity = vector.length;\n  const newVector = new Float32Array(componentQuantity);\n  if (length > 0) {\n    const scale = 1 / length;\n    for (let i = componentQuantity; i > 0; i--) {\n      newVector[i] = vector[i] * scale;\n    }\n    return Array.from(newVector);\n  } else {\n    return vector;\n  }\n}\n\nexport function smoothArray(array: Array<number>): Array<number> {\n  const arrayLength = array.length;\n  const result = [];\n  for (let i = 1; i < arrayLength; i += 3) {\n    const currentItem = array[i];\n    const previousItem = array[i - 1] || currentItem;\n    const nextItem = array[i + 1] || currentItem;\n    result.push((previousItem + currentItem + nextItem) / 3);\n  }\n  return result;\n}\n\nexport function softmaxArray(array: Array<number>): Array<number> {\n  const arrayLength = array.length;\n\n  // Return an empty array if the input is empty\n  if (arrayLength === 0) {\n    return [];\n  }\n\n  // Find the global maximum\n  let max = -Infinity;\n  for (let i = arrayLength - 1; i >= 0; i--) {\n    const item = array[i];\n    if (item > max) {\n      max = item;\n    }\n  }\n\n  // Exponentiate each element (for numerical stability, subtract the max value)\n  // Sum all the exponentiated values\n  const expArray = new Float32Array(arrayLength);\n  let sumExp = 0;\n  for (let j = arrayLength - 1; j >= 0; j--) {\n    const exp = Math.exp(array[j] - max);\n    expArray[j] = exp;\n    sumExp += exp;\n  }\n\n  // Normalize each value\n  const normalizedArray = new Float32Array(arrayLength);\n  for (let k = arrayLength - 1; k >= 0; k--) {\n    const normalizedValue = expArray[k] / sumExp;\n    normalizedArray[k] = normalizedValue;\n  }\n  return Array.from(normalizedArray);\n}\n\nexport function sigmoidArray(array: Array<number>): Array<number> {\n  const arrayLength = array.length;\n  const normalizedArray = new Float32Array(arrayLength);\n  for (let i = arrayLength - 1; i >= 0; i--) {\n    normalizedArray[i] = 1 / (1 + Math.exp(-1 * array[i]));\n  }\n  return Array.from(normalizedArray);\n}\n\nexport function calculateAverage(array: Array<number>): number {\n  if (array.length === 0) {\n    return 0;\n  } else {\n    const sum = array.reduce((acc, curr) => acc + curr, 0);\n    return sum / array.length;\n  }\n}\n\nexport function findGlobalExtrema(array: Array<number>): [minimum: number, maximum: number] {\n  const arrayLength = array.length;\n  if (arrayLength === 0) {\n    return [0, 0];\n  }\n\n  let min = Infinity;\n  let max = -Infinity;\n\n  for (let i = arrayLength - 1; i >= 0; i--) {\n    const item = array[i];\n    if (item > max) {\n      max = item;\n    }\n    if (item < min) {\n      min = item;\n    }\n  }\n  return [min, max];\n}\n","import { geohashEncode } from '../../../tools/geohash';\nimport { hasOwnProperty } from '../../../tools/index';\nimport { normalizeVector } from '../../../tools/math';\nimport { Location, SimplifiedLocation, SimplifiedLocationItem } from './index';\n\nself.onmessage = function (e) {\n  const result = processWorkerTask(e.data);\n  self.postMessage(result); // Send the result back to the main thread\n};\n\nfunction processWorkerTask(Location: Location): SimplifiedLocation {\n  const locationsByRoute = {};\n  for (const item of Location) {\n    const thisRouteID = item.routeId;\n    const thisRouteKey = `r_${thisRouteID}`;\n    if (!hasOwnProperty(locationsByRoute, thisRouteKey)) {\n      locationsByRoute[thisRouteKey] = [];\n    }\n    locationsByRoute[thisRouteKey].push(item);\n  }\n  for (const key in locationsByRoute) {\n    locationsByRoute[key].sort(function (a, b) {\n      return a.seqNo - b.seqNo;\n    });\n  }\n  const result: SimplifiedLocation = {};\n  for (const item of Location) {\n    const thisRouteID = item.routeId;\n    const thisRouteKey = `r_${thisRouteID}`;\n    const thisItemLongitude = parseFloat(item.longitude);\n    const thisItemLatitude = parseFloat(item.latitude);\n\n    let vector = [0, 0];\n    const locationsOnThisRoute = locationsByRoute[thisRouteKey];\n    const locationsOnThisRouteLength = locationsOnThisRoute.length;\n    let nextLocation = null;\n    for (let i = 0; i < locationsOnThisRouteLength; i++) {\n      if (locationsOnThisRoute[i].Id === item.Id) {\n        let nextIndex = 0;\n        if (i < locationsOnThisRouteLength - 1) {\n          nextIndex = i + 1;\n        }\n        nextLocation = locationsOnThisRoute[nextIndex];\n      }\n    }\n    if (nextLocation) {\n      const x = parseFloat(nextLocation.longitude) - thisItemLongitude;\n      const y = parseFloat(nextLocation.latitude) - thisItemLatitude;\n      vector = normalizeVector([x, y]);\n    }\n\n    const key = `l_${item.stopLocationId}`;\n    if (!hasOwnProperty(result, key)) {\n      const simplifiedItem = {} as SimplifiedLocationItem;\n      simplifiedItem.n = item.nameZh;\n      simplifiedItem.lo = thisItemLongitude;\n      simplifiedItem.la = thisItemLatitude;\n      simplifiedItem.g = geohashEncode(thisItemLatitude, thisItemLongitude, 6);\n      simplifiedItem.r = [item.routeId];\n      simplifiedItem.s = [item.Id];\n      simplifiedItem.v = [vector];\n      simplifiedItem.a = [item.address];\n      simplifiedItem.id = item.stopLocationId;\n      result[key] = simplifiedItem;\n    } else {\n      if (result[key].r.indexOf(item.routeId) < 0) {\n        result[key].r.push(item.routeId);\n      }\n      if (result[key].s.indexOf(item.Id) < 0) {\n        result[key].s.push(item.Id);\n        result[key].v.push(vector);\n      }\n      result[key].a.push(item.address);\n    }\n  }\n  return result;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [35], () => (__webpack_require__(7367)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.amdO = {};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + \"8cad4fb385dcdf4d3466\" + \".js\";\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t367: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkbus\"] = self[\"webpackChunkbus\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["root","factory","exports","module","define","amd","self","deferred","next","BASE32_CODES","BASE32_CODES_DICT","i","charAt","ENCODE_AUTO","MIN_LAT","MAX_LAT","MIN_LON","MAX_LON","SIGFIG_HASH_LENGTH","encode","latitude","longitude","numberOfChars","Error","decSigFigsLat","split","length","decSigFigsLong","numberOfSigFigs","Math","max","undefined","mid","chars","bits","bitsTotal","hash_value","maxLat","minLat","maxLon","minLon","code","push","join","encode_int","bitDepth","combinedBits","decode_bbox","hash_string","isLon","hashValue","l","toLowerCase","bit","decode_bbox_int","hashInt","lonBit","step","get_bit","position","pow","decode","hashString","bbox","lat","lon","error","decode_int","hash_int","neighbor","direction","lonLat","neighborLat","neighborLon","ensure_valid_lon","ensure_valid_lat","neighbor_int","lonlat","neighbor_lat","neighbor_lon","geohash","hashstringLength","latErr","lonErr","encodeNeighbor","neighborLatDir","neighborLonDir","encodeNeighbor_int","hashSouthWest","hashNorthEast","latLon","perLat","perLon","boxSouthWest","boxNorthEast","latStep","round","lonStep","hashList","latlon","require","geohashEncode","sha512","hasOwnProperty","x","property","_typeof","Array","isArray","Object","prototype","call","normalizeVector","vector","hypot","componentQuantity","newVector","Float32Array","scale","from","onmessage","e","result","Location","_step","locationsByRoute","_iterator","_createForOfIteratorHelper","s","n","done","item","value","thisRouteKey","routeId","err","f","key","sort","a","b","seqNo","_step2","_iterator2","thisItemLongitude","parseFloat","thisItemLatitude","locationsOnThisRoute","locationsOnThisRouteLength","nextLocation","Id","nextIndex","stopLocationId","r","indexOf","v","address","simplifiedItem","nameZh","lo","la","g","id","processWorkerTask","data","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","__webpack_exports__","O","amdO","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","d","definition","o","defineProperty","enumerable","get","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","this","Function","window","obj","prop","p","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","pop","then"],"ignoreList":[],"sourceRoot":""}