"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[4207],{2063(t,e,n){n.d(e,{K:()=>u});var r=n(467),a=n(3153),i=n(6788);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return s.apply(this,arguments)}function s(){return(s=(0,r.A)(function*(t){var e,n=[],r=o([[0,4],[1,4]].map(function(t){return{url:(0,a.y)(t[0],t[1]),e:t}}));try{for(r.s();!(e=r.n()).done;){var l=e.value,u=yield(0,i.Fd)(l.url,t,`getEstimateTime_${l.e[0]}`,"json");n=n.concat(u.BusInfo),(0,i.ZL)(t,u.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return n})).apply(this,arguments)}},3153(t,e,n){n.d(e,{Y:()=>o,y:()=>i});var r=n(8024),a=n(3459);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=["blobbus","ntpcbus"],l=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],u=(0,a.Js)("proxy");return n?`http://erichsia7.github.io/bus-alternative-static-apis/${o[t]}/Get${l[e]}.gz?_=${(0,r.FU)(i)}`:u?`https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${l[e]}.gz&_=${(0,r.FU)(i)}`:`https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${l[e]}.gz?_=${(0,r.FU)(i)}`}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return`https://erichsia7.github.io/material-symbols-list/search-index.gz?_=${(0,r.FU)(t)}`}},4225(t,e,n){n.d(e,{F:()=>f});var r=n(467),a=n(3453),i=n(7183),o=n(4311);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t){var e=[["快取","cache"],["設定","settings"],["分析","analytics"],["分析","analytics"],["分析","analytics"],["分析","analytics"],["分析","analytics"],["個人化行程","personalSchedule"],["最近檢視","recentViews"],["通知","notification"],["通知","notification"],["資料夾","folders"],["資料夾","folders"],["資料夾","folders"]][t]||["其他","others"],n=(0,a.A)(e,2);return{name:n[0],key:n[1]}}function f(){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(){for(var t=0,e={},n=(0,o.le)(),r=0;r<n;r++){var a,u=0,f=l(yield(0,o.Su)(r));try{for(f.s();!(a=f.n()).done;){var c=a.value,y=yield(0,o.Ct)(r,c),d=String(y).length+c.length;t+=d,u+=d}}catch(t){f.e(t)}finally{f.f()}var m=s(r),p=m.key;e.hasOwnProperty(p)||(e[p]={category:m,size:0}),e[m.key].size+=u}var v=(0,i.tH)(t),h={};for(var g in e){var b=e[g].category,w=e[g].size;h[g]={category:b,size:(0,i.tH)(w)}}return{totalSize:v,categorizedSizes:h}})).apply(this,arguments)}},8011(t,e,n){n.d(e,{g:()=>v});var r=n(467),a=n(4311),i=n(3153),o=n(6788);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var s={simplified:{available:!1,data:{}},merged:{available:!1,data:{}},indexed:{available:!1,data:{}}};function f(t){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(t){var e=new Worker(new URL(n.p+n.u(2063),n.b));return yield new Promise(function(n,r){e.onmessage=function(t){n(t.data),e.terminate()},e.onerror=function(t){r(t.message),e.terminate()},e.postMessage(t)})})).apply(this,arguments)}function y(t){return d.apply(this,arguments)}function d(){return(d=(0,r.A)(function*(t){var e=new Worker(new URL(n.p+n.u(7301),n.b));return yield new Promise(function(n,r){e.onmessage=function(t){n(t.data),e.terminate()},e.onerror=function(t){r(t.message),e.terminate()},e.postMessage(t)})})).apply(this,arguments)}function m(t){return p.apply(this,arguments)}function p(){return(p=(0,r.A)(function*(t){var e=new Worker(new URL(n.p+n.u(8619),n.b));return yield new Promise(function(n,r){e.onmessage=function(t){n(t.data),e.terminate()},e.onerror=function(t){r(t.message),e.terminate()},e.postMessage(t)})})).apply(this,arguments)}function v(t,e){return h.apply(this,arguments)}function h(){return h=(0,r.A)(function*(t,e){function n(){return u.apply(this,arguments)}function u(){return u=(0,r.A)(function*(){var e,n=[],r=l([[0,11],[1,11]].map(function(t){return{url:(0,i.y)(t[0],t[1]),e:t}}));try{for(r.s();!(e=r.n()).done;){var a=e.value,u=yield(0,o.Fd)(a.url,t,`getLocation_${a.e[0]}`,"json");n=n.concat(u.BusInfo),(0,o.ZL)(t,u.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return n}),u.apply(this,arguments)}var c=["simplified","merged","indexed"][e],d=`bus_${c}_location_cache`,p=yield(0,a.Ct)(0,`${d}_timestamp`);if(null===p){var h;switch(e){case 0:var g=yield n();h=yield f(g);break;case 1:var b=yield v(t,0);h=yield y(b);break;case 2:var w=yield v(t,1);h=yield m(w)}return yield(0,a.mL)(0,`${d}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,d,JSON.stringify(h)),s[c].available||(s[c].available=!0,s[c].data=h),h}if((new Date).getTime()-parseInt(p)>2592e6){var S;switch(e){case 0:var A=yield n();S=yield f(A);break;case 1:var _=yield v(t,0);S=yield y(_);break;case 2:var I=yield v(t,1);S=yield m(I)}return yield(0,a.mL)(0,`${d}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,d,JSON.stringify(S)),s[c].available||(s[c].available=!0,s[c].data=S),S}if(!s[c].available){var $=yield(0,a.Ct)(0,d);s[c].available=!0,s[c].data=JSON.parse($)}return(0,o.Mf)(t,"getLocation_0",0,!0),(0,o.Mf)(t,"getLocation_1",0,!0),(0,o.ZL)(t,-1),s[c].data}),h.apply(this,arguments)}},9218(t,e,n){n.d(e,{l:()=>s});var r=n(467),a=n(4311),i=n(3153),o=n(6788),l=!1,u=[];function s(t){return f.apply(this,arguments)}function f(){return f=(0,r.A)(function*(t){function e(){return n.apply(this,arguments)}function n(){return(n=(0,r.A)(function*(){var e=(0,i.Y)();return yield(0,o.Fd)(e,t,"getMaterialSymbolsSearchIndex","json")})).apply(this,arguments)}var s="bus_material_symbols_search_index_cache",f=yield(0,a.Ct)(0,`${s}_timestamp`);if(null===f){var c=yield e();return yield(0,a.mL)(0,`${s}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,s,JSON.stringify(c)),l||(l=!0,u=c),c}if((new Date).getTime()-parseInt(f)>6048e5){var y=yield e();return yield(0,a.mL)(0,`${s}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,s,JSON.stringify(y)),l||(l=!0,u=y),y}if(!l){var d=yield(0,a.Ct)(0,s);l=!0,u=JSON.parse(d)}return(0,o.Mf)(t,"getMaterialSymbolsSearchIndex",0,!0),u}),f.apply(this,arguments)}},9734(t,e,n){n.d(e,{j:()=>y});var r=n(467),a=n(4311),i=n(3153),o=n(6788);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var s={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function f(t){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(t){var e=new Worker(new URL(n.p+n.u(5960),n.b));return yield new Promise(function(n,r){e.onmessage=function(t){n(t.data),e.terminate()},e.onerror=function(t){r(t.message),e.terminate()},e.postMessage(t)})})).apply(this,arguments)}function y(t){return d.apply(this,arguments)}function d(){return d=(0,r.A)(function*(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){return u.apply(this,arguments)}function u(){return u=(0,r.A)(function*(){var e,n=[],r=l([[0,2],[1,2]].map(function(t){return{url:(0,i.y)(t[0],t[1]),e:t}}));try{for(r.s();!(e=r.n()).done;){var a=e.value,u=yield(0,o.Fd)(a.url,t,`getCarInfo_${a.e[0]}`,"json");n=n.concat(u.BusInfo),(0,o.ZL)(t,u.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return n}),u.apply(this,arguments)}var c=e?"simplified":"raw",y=`bus_${c}_car_info_cache`,d=yield(0,a.Ct)(0,`${y}_timestamp`);if(null===d){var m,p=yield n();return m=e?yield f(p):p,yield(0,a.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,y,JSON.stringify(m)),s[c].available||(s[c].available=!0,s[c].data=m),m}if((new Date).getTime()-parseInt(d)>2592e6){var v,h=yield n();return v=e?yield f(h):h,yield(0,a.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,a.mL)(0,y,JSON.stringify(v)),v}if(!s[c].available){var g=yield(0,a.Ct)(0,y);s[c].available=!0,s[c].data=JSON.parse(g)}return(0,o.Mf)(t,"getCarInfo_0",0,!0),(0,o.Mf)(t,"getCarInfo_1",0,!0),(0,o.ZL)(t,-1),s[c].data}),d.apply(this,arguments)}}}]);
//# sourceMappingURL=47d21a1d760b3192ed16.js.map