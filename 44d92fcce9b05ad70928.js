"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,n,a){a.d(n,{default:()=>U});var t=a(6483),i=a(8925),r=a(5767),o=a(9566),d=a(3422),s=a(5314),c=a(3459),l=a(3251),u=a(1238),p=a(1531),f=a(4884),h=a(9499),b=a(6052),v=a(4294),m=a(8379),g=a(540),y=a(6082),w=a(6091),C=a(904),k=a(1351),L=a(3030),S=a(2174),_=a(8380),x=a(5693),E=a(7891),F=a(8279),T=a(7908),A=a(5286),D=a(4690),M=a(3041),P=a(752),Y=a(5009),q=a(6104),N=a(6166),R=a(2994),z=a(9469),B=a(8179),$=(a(4800),a(5259),a(6764),a(2547),a(8933),a(6971),a(7336),a(6561),a(6110),a(9080),a(1818),a(9590),a(1844),a(2239),a(6597),a(9991),a(3777),a(2696),a(5461),a(2421),a(3058),a(1102),a(7868),a(6388),a(3127),a(1743),a(1306),a(9731),a(245),a(4071),a(5135),a(8969),a(1003),a(4472),a(4620),a(9714),a(2681),a(124),a(3381),a(9351),a(1077),a(7037),a(9205),a(3534),a(6018),a(5392),a(1308),a(7225),a(5297),a(7499),a(4953),a(7114),a(9598),a(626),a(5504),a(6780),a(969),a(7943),a(4721),a(4263),a(3963),a(1542),a(6153),a(112),a(5374),a(5666),a(8558),a(1452),a(2676),a(1195),a(5068),a(1469),a(4935),a(321),a(6907),a(3257),a(7537),a(2503),a(1511),a(4305),a(8983),a(5995),a(5228),a(1078),a(1603),a(3749),a(7723),a(7287),a(7217),a(3425),a(6171),a(8073),a(928),a(7113),a(6340),a(6384),a(3382),a(3011),a(1484),!1),H=!1;window.bus={initialize:function(){!1===$&&($=!0,(0,C.h)(),(0,c.d)().then(function(){(0,w.b)(),(0,g.b)(),(0,l.a)().then(function(e){if("ok"===e){(0,D.b)(),(0,L.b)(),(0,Y.d)(),window.addEventListener("resize",function(){(0,Y.d)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,Y.d)()}),(0,w.a)(),(0,o.c)().then(function(){(0,g.a)()}),(0,Y.b)();var n=(0,B.c)(".xb .yb .zb #search_material_symbols_input");n.addEventListener("paste",function(){(0,v.c)(n.value)}),n.addEventListener("cut",function(){(0,v.c)(n.value)}),n.addEventListener("selectionchange",function(){(0,v.c)(n.value)}),document.addEventListener("selectionchange",function(){(0,v.c)(n.value)}),n.addEventListener("keyup",function(){(0,v.c)(n.value)}),(0,z.b)(),(0,C.b)(function(){(0,d.i)(),(0,d.g)().then(function(){(0,d.d)()}),document.addEventListener("click",function(){(0,p.a)(),(0,u.a)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,C.i)(),(0,C.b)())}).catch(function(){(0,C.i)(),(0,C.b)()})}))},secondlyInitialize:function(){H||(H=!0,(0,y.b)(),(0,i.b)(),(0,t.c)(),(0,s.a)(),(0,r.b)().then(function(){(0,r.d)().then(function(){(0,r.e)()})}))},route:{closeRoute:D.a,closeRouteDetails:A.e},location:{closeLocation:L.a,closeLocationDetails:k.a},folder:{closeSaveToFolder:M.a,closeFolderManager:m.a,closeIconSelector:v.a,openFolderCreator:b.c,closeFolderCreator:b.a,createFormulatedFolder:b.b},search:{openSearch:Y.c,closeSearch:Y.a,switchSearchTypeFilter:Y.e},storage:{closeStorage:R.a},dataUsage:{closeDataUsage:h.a},personalSchedule:{closePersonalScheduleManager:E.a,openPersonalScheduleCreator:_.c,closePersonalScheduleCreator:_.a,createFormulatedPersonalSchedule:_.b,switchPersonalScheduleCreatorDay:_.d,openPersonalScheduleEditor:x.b,closePersonalScheduleEditor:x.a,switchPersonalScheduleEditorDay:x.d,saveEditedPersonalSchedule:x.c},settings:{openSettings:q.d,closeSettings:q.a,closeSettingsOptions:N.a},bus:{closeBus:f.b},notification:{closeNotificationScheduleManager:S.a,openRegisterNotification:T.b,closeRegisterNotification:T.a,saveFormulatedRegisterNotification:T.c,closeScheduleNotification:P.a},qrcode:{closeQRCode:F.a}};const U=window.bus},4884(e,n,a){a.d(n,{a:()=>w,b:()=>k,c:()=>C});var t=a(467),i=a(6160),r=a(5314),o=a(3459),d=a(8179),s=a(8024),c=a(904),l=a(4537),u=[],p=!1,f=!1;function h(){var e=(0,d.a)();e.classList.add("bs");var n=(0,d.a)();n.classList.add("cs"),n.appendChild((0,l.a)());var a=(0,d.a)();return a.classList.add("ds"),e.appendChild(n),e.appendChild(a),e}function b(e,n,a){function t(e,t,i){function r(e,n){var a=(0,d.e)(e,".cs");(0,l.c)(a,n.icon)}function o(e,n){(0,d.e)(e,".ds").innerText=n.value}function c(e,n){e.setAttribute("animation",n)}function u(e,n){e.setAttribute("skeleton-screen",n)}null==i?(r(e,t),o(e,t),u(e,n),c(e,a)):((0,s.b)(i,t)||r(e,t),(0,s.b)(i,t)||o(e,t),n!==p&&u(e,n),a!==f&&c(e,a))}var i=e.length,r=Array.from((0,d.d)(w,".bs")),o=r.length;if(i!==o){var c=o-i;if(c<0){for(var b=new DocumentFragment,v=0;v>c;v--){var m=h();b.appendChild(m),r.push(m)}w.append(b)}else if(c>0)for(var g=o-1,y=o-c-1;g>y;g--)r[g].remove(),r.splice(g,1)}for(var C=0;C<i;C++){var k=r[C],L=e[C];u[C]?t(k,L,u[C]):t(k,L,null)}u=e,f=a,p=n}var v=(0,d.c)(".qr"),m=((0,d.e)(v,".rr"),(0,d.e)(v,".vr")),g=(0,d.e)(m,".wr"),y=(0,d.e)(g,'.xr[group="properties"]'),w=(0,d.e)(y,".as");(0,d.e)(g,'.xr[group="location"]');function C(e){(0,c.d)("Bus"),(0,r.e)("bus",e),v.setAttribute("displayed","true"),function(e){L.apply(this,arguments)}(e),(0,c.a)()}function k(){v.setAttribute("displayed","false"),(0,c.c)()}function L(){return(L=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),n=[],a=0;a<5;a++)n.push({key:a,icon:"",value:""});b(n,!0,e)}();var n=(0,o.b)("playing_animation"),a=(0,s.c)();b((yield(0,i.a)(e,a)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,a){a.d(n,{a:()=>b,b:()=>f,c:()=>h});var t=a(9566),i=a(8179),r=a(4294),o=a(904),d=a(9119),s=(0,i.c)(".kd"),c=(0,i.e)(s,".qd"),l=(0,i.e)(c,".rd"),u=(0,i.e)(l,'.sd[group="folder-name"] .td input'),p=(0,i.e)(l,'.sd[group="folder-icon"] .td .ud input');function f(){var e=u.value,n=p.value;(0,t.a)(e,n).then(function(e){e?(b(),(0,d.a)("folder","已建立資料夾")):(0,d.a)("error","無法建立資料夾")})}function h(){(0,o.d)("FolderCreator"),s.setAttribute("displayed","true"),(0,o.a)()}function b(){s.setAttribute("displayed","false"),(0,o.c)()}(0,i.e)(l,'.kd .qd .rd .sd[group="folder-icon"] .td .ud .wd').onclick=function(){(0,r.b)("creator")}},8379(e,n,a){a.d(n,{a:()=>b,b:()=>h});var t=a(467),i=a(9566),r=a(8179),o=a(9333),d=a(4537),s=a(904),c=(0,r.c)(".es"),l=(0,r.e)(c,".js"),u=(0,r.e)(l,".ks");function p(e){var n=(0,r.a)();n.classList.add("ls"),n.onclick=function(){(0,o.b)(e.id)};var a=(0,r.a)();a.classList.add("ms"),a.appendChild((0,d.b)(e.icon));var t=(0,r.a)();t.classList.add("ns"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("os"),i.innerText=String(e.contentLength);var s=(0,r.a)();return s.classList.add("ps"),s.appendChild((0,d.b)("arrow_forward_ios")),n.appendChild(a),n.appendChild(t),n.appendChild(i),n.appendChild(s),n}function f(){return(f=(0,t.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var n=new DocumentFragment;for(var a of e){var t=p(a);n.appendChild(t)}u.append(n)})).apply(this,arguments)}function h(){(0,s.d)("FolderManager"),c.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function b(){(0,s.f)("FolderManager"),c.setAttribute("displayed","false")}},9333(e,n,a){a.d(n,{a:()=>L,b:()=>k});var t=a(467),i=a(9566),r=a(8179),o=a(4294),d=a(4537),s=a(904),c=a(9119),l=(0,r.c)(".jd"),u=(0,r.e)(l,".qs"),p=(0,r.e)(u,".rs"),f=(0,r.e)(l,".ld"),h=(0,r.e)(f,".md"),b=(0,r.e)(h,'.nd[group="folder-name"] .od input'),v=(0,r.e)(h,'.nd[group="folder-icon"] .od .pd input'),m=(0,r.e)(h,'.nd[group="folder-icon"] .od .pd .vd'),g=(0,r.e)(h,'.nd[group="folder-content"] .od');function y(e,n){var a=(0,r.a)();a.classList.add("ws"),a.setAttribute("type",n.type);var t="",o="",s="";switch(n.type){case"stop":s="location_on",t=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,o=n.name;break;case"route":s="route",t=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,o=n.name;break;case"location":s="location_on",t="地點",o=n.name;break;case"bus":t="",o=n.name;break;case"empty":s="lightbulb",t="提示",o="沒有內容";break;default:s="",t="null",o="null"}var l=(0,r.a)();l.classList.add("xs"),l.appendChild((0,d.b)(s));var u=(0,r.a)();u.classList.add("ys"),u.innerText=t;var p=(0,r.a)();p.classList.add("zs"),p.innerText=o;var f=(0,r.a)();f.classList.add("_s");var h=(0,r.a)();h.classList.add("at"),h.appendChild((0,d.b)("keyboard_arrow_down")),h.onclick=function(){S(a,e.id,n.type,n.id,"up")};var b=(0,r.a)();b.classList.add("bt"),b.appendChild((0,d.b)("keyboard_arrow_down")),b.onclick=function(){S(a,e.id,n.type,n.id,"down")};var v=(0,r.a)();v.classList.add("ct"),v.appendChild((0,d.b)("delete")),v.onclick=function(){!function(e,n,a,t){(0,i.k)(n,a,t).then(function(n){if(n)switch(e.remove(),a){case"stop":(0,c.a)("delete","已移除站牌");break;case"route":(0,c.a)("delete","已移除路線");break;case"location":(0,c.a)("delete","已移除地點")}else(0,c.a)("error","無法移除")})}(a,e.id,n.type,n.id)};var m=(0,r.a)();m.classList.add("dt");var g=(0,r.a)();return g.classList.add("dt"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(m),f.appendChild(g),a.appendChild(l),a.appendChild(u),a.appendChild(p),a.appendChild(f),a}function w(e,n){b.value=e.name,v.value=e.icon,p.onclick=function(){var n,a,t;n=e.id,a=b.value,t=v.value,(0,i.q)(n,a,t).then(function(e){e?(L(),(0,c.a)("check_circle","已儲存變更")):(0,c.a)("error","無法儲存")})},g.innerHTML="";var a=new DocumentFragment;for(var t of n){var r=y(e,t);a.appendChild(r)}g.append(a)}function C(){return(C=(0,t.a)(function*(e){w((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function k(e){(0,s.d)("FolderEditor"),l.setAttribute("displayed","true"),function(e){C.apply(this,arguments)}(e),(0,s.a)()}function L(){l.setAttribute("displayed","false"),(0,s.c)()}function S(e,n,a,t,r){(0,i.p)(n,a,t,r).then(function(n){if(n)switch(r){case"up":var a=e.previousElementSibling;a&&e.parentNode.insertBefore(e,a),(0,c.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,c.a)("arrow_circle_down","已往下移")}else(0,c.a)("error","無法移動")})}m.onclick=function(){(0,o.b)("editor")}},9499(e,n,a){a.d(n,{a:()=>w,b:()=>y});var t=a(467),i=a(8925),r=a(7183),o=a(8179),d=a(5579),s=a(904),c=(0,o.c)(".lt"),l=(0,o.e)(c,".pt"),u=(0,o.e)(l,".qt"),p=(0,o.e)(l,".rt"),f=(0,o.e)(p,'.st[name="total-data-usage"] .ut'),h=(0,o.e)(p,'.st[name="max-data-usage-per-minute"] .ut'),b=(0,o.e)(p,'.st[name="min-data-usage-per-minute"] .ut'),v=(0,o.e)(p,'.st[name="start-time"] .ut'),m=(0,o.e)(p,'.st[name="end-time"] .ut');function g(){return(g=(0,t.a)(function*(){var e=(0,s.e)("window"),n=e.width,a=Math.min(5/18*n,.33*e.height),t=yield(0,i.c)(n,a,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),b.innerText=(0,r.a)(t.stats.min),v.innerText=(0,d.c)(t.period.start,"YYYY-MM-DD"),m.innerText=(0,d.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function y(){(0,s.d)("DataUsage"),c.setAttribute("displayed","true"),function(){g.apply(this,arguments)}(),(0,s.a)()}function w(){c.setAttribute("displayed","false"),(0,s.c)()}}}]);
//# sourceMappingURL=44d92fcce9b05ad70928.js.map