"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[7680],{13153(e,t,n){n.d(t,{a:()=>r,b:()=>s});var i=n(98024),a=n(43459);function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,s=["blobbus","ntpcbus"],u=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],o=(0,a.b)("proxy");return n?`http://erichsia7.github.io/bus-alternative-static-apis/${s[e]}/Get${u[t]}.gz?_=${(0,i.d)(r)}`:o?`https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/${s[e]}/Get${u[t]}.gz&_=${(0,i.d)(r)}`:`https://tcgbusfs.blob.core.windows.net/${s[e]}/Get${u[t]}.gz?_=${(0,i.d)(r)}`}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return`https://erichsia7.github.io/material-symbols-list/search-index.gz?_=${(0,i.d)(e)}`}},20313(e,t,n){n.d(t,{a:()=>l});var i=n(10467),a=(n(23792),n(44114),n(60739),n(23288),n(33110),n(79432),n(58940),n(47764),n(58335),n(62953),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return f=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t=[];for(var n of[[0,9],[1,9]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getProvider_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u++)t.push(a.BusInfo[u]);(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var l="bus_provider_cache",f=yield(0,a.d)(0,`${l}_timestamp`);if(null===f){var p=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(p)),u||(u=!0,o=p),p}if((new Date).getTime()-parseInt(f)>5184e6){var d=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(d)),d}if(!u){var y=yield(0,a.d)(0,l);u=!0,o=JSON.parse(y)}return(0,s.f)(e,"getProvider_0",0,!0),(0,s.f)(e,"getProvider_1",0,!0),(0,s.g)(e,-1),o}),f.apply(this,arguments)}},26802(e,t,n){n.d(t,{a:()=>s});var i=n(10467),a=(n(23792),n(44114),n(47764),n(62953),n(13153)),r=n(56788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.a)(function*(e){var t=[];for(var n of[[0,0],[1,0]]){for(var i=(0,a.a)(n[0],n[1]),s=yield(0,r.c)(i,e,`getBusData_${n[0]}`,"json"),u=0,o=s.BusInfo.length;u<o;u++)t.push(s.BusInfo[u]);(0,r.g)(e,s.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},29218(e,t,n){n.d(t,{a:()=>l});var i=n(10467),a=(n(60739),n(23288),n(33110),n(79432),n(58940),n(58335),n(14311)),r=n(13153),s=n(56788),u=!1,o=[];function l(e){return f.apply(this,arguments)}function f(){return f=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return(n=(0,i.a)(function*(){var t=(0,r.b)();return yield(0,s.c)(t,e,"getMaterialSymbolsSearchIndex","json")})).apply(this,arguments)}var l="bus_material_symbols_search_index_v2_cache",f=yield(0,a.d)(0,`${l}_timestamp`);if(null===f){var p=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(p)),u||(u=!0,o=p),p}if((new Date).getTime()-parseInt(f)>6048e5){var d=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(d)),u||(u=!0,o=d),d}if(!u){var y=yield(0,a.d)(0,l);u=!0,o=JSON.parse(y)}return(0,s.f)(e,"getMaterialSymbolsSearchIndex",0,!0),o}),f.apply(this,arguments)}},37810(e,t,n){n.d(t,{a:()=>s});var i=n(10467),a=(n(23792),n(44114),n(47764),n(62953),n(13153)),r=n(56788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.a)(function*(e){var t=[];for(var n of[[0,1],[1,1]]){for(var i=(0,a.a)(n[0],n[1]),s=yield(0,r.c)(i,e,`getBusEvent_${n[0]}`,"json"),u=0,o=s.BusInfo.length;u<o;u++)t.push(s.BusInfo[u]);(0,r.g)(e,s.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},40424(e,t,n){n.d(t,{a:()=>p});var i=n(10467),a=(n(23792),n(44114),n(34782),n(60739),n(23288),n(33110),n(79432),n(26099),n(58940),n(3362),n(47764),n(58335),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return(f=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(3539),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t=[];for(var n of[[0,11],[1,11]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getStop_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u+=64)Array.prototype.push.apply(t,a.BusInfo.slice(u,u+64));(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var f="bus_stop_cache",p=yield(0,a.d)(0,`${f}_timestamp`);if(null===p){var d=yield t(),y=yield l(d);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(y)),u||(u=!0,o=y),y}if((new Date).getTime()-parseInt(p)>3888e6){var g=yield t(),c=yield l(g);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(c)),c}if(!u){var m=yield(0,a.d)(0,f);u=!0,o=JSON.parse(m)}return(0,s.f)(e,"getStop_0",0,!0),(0,s.f)(e,"getStop_1",0,!0),(0,s.g)(e,-1),o}),d.apply(this,arguments)}},62063(e,t,n){n.d(t,{a:()=>s});var i=n(10467),a=(n(23792),n(44114),n(47764),n(62953),n(13153)),r=n(56788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.a)(function*(e){var t=[];for(var n of[[0,4],[1,4]]){for(var i=(0,a.a)(n[0],n[1]),s=yield(0,r.c)(i,e,`getEstimateTime_${n[0]}`,"json"),u=0,o=s.BusInfo.length;u<o;u++)t.push(s.BusInfo[u]);(0,r.g)(e,s.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},68011(e,t,n){n.d(t,{a:()=>g});var i=n(10467),a=(n(23792),n(44114),n(34782),n(60739),n(23288),n(33110),n(79432),n(26099),n(58940),n(3362),n(47764),n(58335),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(14311)),r=n(13153),s=n(56788),u={simplified:{available:!1,data:{}},merged:{available:!1,data:{}},indexed:{available:!1,data:{}}};function o(e){return l.apply(this,arguments)}function l(){return(l=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(7367),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(3327),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function d(e){return y.apply(this,arguments)}function y(){return(y=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(6565),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function g(e,t){return c.apply(this,arguments)}function c(){return c=(0,i.a)(function*(e,t){function n(){return l.apply(this,arguments)}function l(){return l=(0,i.a)(function*(){var t=[];for(var n of[[0,11],[1,11]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getLocation_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u+=64)Array.prototype.push.apply(t,a.BusInfo.slice(u,u+64));(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),l.apply(this,arguments)}var p=["simplified","merged","indexed"][t],y=`bus_${p}_location_cache`,c=yield(0,a.d)(0,`${y}_timestamp`);if(null===c){var m;switch(t){case 0:var v=yield n();m=yield o(v);break;case 1:var h=yield g(e,0);m=yield f(h);break;case 2:var _=yield g(e,1);m=yield d(_)}return yield(0,a.g)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,y,JSON.stringify(m)),u[p].available||(u[p].available=!0,u[p].data=m),m}if((new Date).getTime()-parseInt(c)>2592e6){var b;switch(t){case 0:var w=yield n();b=yield o(w);break;case 1:var T=yield g(e,0);b=yield f(T);break;case 2:var $=yield g(e,1);b=yield d($)}return yield(0,a.g)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,y,JSON.stringify(b)),u[p].available||(u[p].available=!0,u[p].data=b),b}if(!u[p].available){var I=yield(0,a.d)(0,y);u[p].available=!0,u[p].data=JSON.parse(I)}return(0,s.f)(e,"getLocation_0",0,!0),(0,s.f)(e,"getLocation_1",0,!0),(0,s.g)(e,-1),u[p].data}),c.apply(this,arguments)}},68201(e,t,n){n.d(t,{a:()=>l});var i=n(10467),a=(n(23792),n(44114),n(60739),n(23288),n(33110),n(79432),n(58940),n(47764),n(58335),n(62953),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return f=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t=[];for(var n of[[0,12],[1,12]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getSemiTimeTable_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u++)t.push(a.BusInfo[u]);(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var l="bus_semi_timetable_cache",f=yield(0,a.d)(0,`${l}_timestamp`);if(null===f){var p=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(p)),u||(u=!0,o=p),p}if((new Date).getTime()-parseInt(f)>12096e5){var d=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(d)),d}if(!u){var y=yield(0,a.d)(0,l);u=!0,o=JSON.parse(y)}return(0,s.f)(e,"getSemiTimeTable_0",0,!0),(0,s.f)(e,"getSemiTimeTable_1",0,!0),(0,s.g)(e,-1),o}),f.apply(this,arguments)}},74293(e,t,n){n.d(t,{a:()=>p});var i=n(10467),a=(n(23792),n(44114),n(60739),n(23288),n(33110),n(79432),n(26099),n(58940),n(3362),n(47764),n(58335),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return(f=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(9562),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t=[];for(var n of[[0,10],[1,10]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getRoute_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u++)t.push(a.BusInfo[u]);(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}if(!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))return yield t();var f="bus_route_cache",p=yield(0,a.d)(0,`${f}_timestamp`);if(null===p){var d=yield t(),y=yield l(d);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(y)),u||(u=!0,o=y),y}if((new Date).getTime()-parseInt(p)>864e5){var g=yield t(),c=yield l(g);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(c)),u||(u=!0,o=c),c}if(!u){var m=yield(0,a.d)(0,f);u=!0,o=JSON.parse(m)}return(0,s.f)(e,"getRoute_0",0,!0),(0,s.f)(e,"getRoute_1",0,!0),(0,s.g)(e,-1),o}),d.apply(this,arguments)}},81932(e,t,n){n.d(t,{a:()=>y});var i=n(10467),a=(n(23792),n(60739),n(23288),n(33110),n(79432),n(26099),n(58940),n(3362),n(47764),n(58335),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return(f=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(3408),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(9611),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return g=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t="";for(var n of[[0,15],[1,15]]){var i=(0,r.a)(n[0],n[1]);t+=(yield(0,s.c)(i,e,`getSegmentBuffers_${n[0]}`,"xml")),(0,s.g)(e,-1)}return t}),n.apply(this,arguments)}var f="bus_segment_buffers_cache",d=yield(0,a.d)(0,`${f}_timestamp`);if(null===d){var y=yield t(),g=yield l(y),c=yield p(g);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(c)),u||(u=!0,o=c),c}if((new Date).getTime()-parseInt(d)>2592e6){var m=yield t(),v=yield l(m),h=yield p(v);return yield(0,a.g)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,f,JSON.stringify(h)),h}if(!u){var _=yield(0,a.d)(0,f);u=!0,o=JSON.parse(_)}return(0,s.f)(e,"getSegmentBuffers_0",0,!0),(0,s.f)(e,"getSegmentBuffers_1",0,!0),(0,s.g)(e,-1),o}),g.apply(this,arguments)}},98671(e,t,n){n.d(t,{a:()=>l});var i=n(10467),a=(n(23792),n(44114),n(60739),n(23288),n(33110),n(79432),n(58940),n(47764),n(58335),n(62953),n(14311)),r=n(13153),s=n(56788),u=!1,o={};function l(e){return f.apply(this,arguments)}function f(){return f=(0,i.a)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.a)(function*(){var t=[];for(var n of[[0,14],[1,14]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getTimeTable_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u++)t.push(a.BusInfo[u]);(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var l="bus_timetable_cache",f=yield(0,a.d)(0,`${l}_timestamp`);if(null===f){var p=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(p)),u||(u=!0,o=p),p}if((new Date).getTime()-parseInt(f)>12096e5){var d=yield t();return yield(0,a.g)(0,`${l}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,l,JSON.stringify(d)),d}if(!u){var y=yield(0,a.d)(0,l);u=!0,o=JSON.parse(y)}return(0,s.f)(e,"getTimeTable_0",0,!0),(0,s.f)(e,"getTimeTable_1",0,!0),(0,s.g)(e,-1),o}),f.apply(this,arguments)}},99734(e,t,n){n.d(t,{a:()=>f});var i=n(10467),a=(n(23792),n(44114),n(60739),n(23288),n(33110),n(79432),n(26099),n(58940),n(3362),n(47764),n(58335),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(14311)),r=n(13153),s=n(56788),u={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function o(e){return l.apply(this,arguments)}function l(){return(l=(0,i.a)(function*(e){var t=new Worker(new URL(n.p+n.u(3199),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=(0,i.a)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){return l.apply(this,arguments)}function l(){return l=(0,i.a)(function*(){var t=[];for(var n of[[0,2],[1,2]]){for(var i=(0,r.a)(n[0],n[1]),a=yield(0,s.c)(i,e,`getCarInfo_${n[0]}`,"json"),u=0,o=a.BusInfo.length;u<o;u++)t.push(a.BusInfo[u]);(0,s.g)(e,a.EssentialInfo.UpdateTime)}return t}),l.apply(this,arguments)}var f=t?"simplified":"raw",p=`bus_${f}_car_info_cache`,d=yield(0,a.d)(0,`${p}_timestamp`);if(null===d){var y,g=yield n();return y=t?yield o(g):g,yield(0,a.g)(0,`${p}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,p,JSON.stringify(y)),u[f].available||(u[f].available=!0,u[f].data=y),y}if((new Date).getTime()-parseInt(d)>2592e6){var c,m=yield n();return c=t?yield o(m):m,yield(0,a.g)(0,`${p}_timestamp`,(new Date).getTime()),yield(0,a.g)(0,p,JSON.stringify(c)),c}if(!u[f].available){var v=yield(0,a.d)(0,p);u[f].available=!0,u[f].data=JSON.parse(v)}return(0,s.f)(e,"getCarInfo_0",0,!0),(0,s.f)(e,"getCarInfo_1",0,!0),(0,s.g)(e,-1),u[f].data}),p.apply(this,arguments)}}}]);
//# sourceMappingURL=79dc4540fbe1896cd2b3.js.map