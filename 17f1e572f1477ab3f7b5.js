"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[638],{904(e,a,t){t.d(a,{a:()=>I,b:()=>P,c:()=>F,d:()=>U,e:()=>R,f:()=>j,g:()=>N,h:()=>Q,i:()=>H});var n=t(8179),i=t(8024),r=t(4884),c=t(9499),s=t(6052),o=t(9333),d=t(8379),u=t(6082),l=t(4294),b=t(1351),f=t(3030),h=t(2174),p=t(8380),v=t(5693),m=t(7891),k=t(8279),g=t(7908),y=t(5286),w=t(4690),L=t(3041),S=t(752),C=t(5009),T=t(6104),E=t(6166),M=t(2994),x=(0,n.c)(".g"),D=(0,n.c)(".l"),_=(new Date).getTime(),A=["Home"];function F(e){var a=A.length;A[a-1]!==e&&A.push(e)}function R(e){var a=A.length;a>1&&A[a-1]===e&&A.pop()}function P(){var e=A.length;if(e>1)switch(A[e-2]){case"Home":(0,u.c)("rtl");break;case"FolderCreator":(0,s.b)();break;case"FolderEditor":(0,o.a)();break;case"IconSelector":(0,l.b)();break;case"FolderManager":(0,d.b)();break;case"Location":(0,f.b)();break;case"LocationDetails":(0,b.b)();break;case"Route":(0,w.b)();break;case"RouteDetails":(0,y.f)();break;case"SaveToFolder":(0,L.b)();break;case"Search":(0,C.b)();break;case"Settings":(0,T.c)();break;case"SettingsOptions":(0,E.b)();break;case"DataUsage":(0,c.b)();break;case"PersonalScheduleManager":(0,m.b)();break;case"PersonalScheduleCreator":(0,p.c)();break;case"PersonalScheduleEditor":(0,v.b)();break;case"Bus":(0,r.c)("rtl");break;case"RegisterNotification":(0,g.a)();break;case"ScheduleNotification":(0,S.b)();break;case"NotificationScheduleManager":(0,h.b)();break;case"QRCode":(0,k.b)();break;case"Storage":(0,M.b)()}}function H(){var e=A.length;if(e>1)switch(A[e-2]){case"Home":(0,u.d)("ltr");break;case"FolderCreator":(0,s.d)();break;case"FolderEditor":(0,o.c)();break;case"IconSelector":(0,l.e)();break;case"FolderManager":(0,d.d)();break;case"Location":(0,f.e)();break;case"LocationDetails":(0,b.e)();break;case"Route":(0,w.e)();break;case"RouteDetails":(0,y.h)();break;case"SaveToFolder":(0,L.d)();break;case"Search":(0,C.f)();break;case"Settings":(0,T.h)();break;case"SettingsOptions":(0,E.d)();break;case"DataUsage":(0,c.d)();break;case"PersonalScheduleManager":(0,m.e)();break;case"PersonalScheduleCreator":(0,p.e)();break;case"PersonalScheduleEditor":(0,v.e)();break;case"Bus":(0,r.e)("ltr");break;case"RegisterNotification":(0,g.c)();break;case"ScheduleNotification":(0,S.d)();break;case"NotificationScheduleManager":(0,h.d)();break;case"QRCode":(0,k.d)();break;case"Storage":(0,M.d)()}}function N(){var e=0;(0,i.f)()&&(e=-1*(window.outerHeight-window.innerHeight)/2),(0,n.c)(".g svg.h").style.setProperty("--i",`${e}px`)}function I(e){function a(){x.classList.add("j"),x.addEventListener("animationend",function(){x.setAttribute("displayed","false"),x.classList.remove("j"),"function"==typeof e&&e()},{once:!0})}var t=(new Date).getTime();t-_<100?setTimeout(a,Math.max(1,t-_)):a()}function Q(){D.setAttribute("displayed","true")}function U(e){var a=0,t=0,n=window.innerWidth,i=window.innerHeight;switch(e){case"window":a=n,t=i;break;case"head":a=n,t=55;break;case"head-one-button":a=n-55,t=55;break;case"head-two-button":a=n-110,t=55;break;case"route-details-canvas":a=n-20-20,t=1680;break;case"route-bus-arrival-time-chart":a=n-45-15-20,t=75;break;case"location-bus-arrival-time-chart":a=n-30-20,t=75;break;default:a=0,t=0}return{width:a,height:t}}function j(){window.scrollTo({top:0,behavior:"instant"})}},4294(e,a,t){t.d(a,{a:()=>A,b:()=>D,c:()=>E,d:()=>_,e:()=>x});var n,i=t(467),r=t(9218),c=t(6788),s=t(972),o=t(3459),d=t(8179),u=t(8024),l=t(4781),b=t(4537),f=t(904),h=(0,d.c)(".xb"),p=(0,d.e)(h,".yb"),v=(0,d.e)(p,"#search_material_symbols_input"),m=(0,d.e)(h,".ac"),k=(0,d.e)(m,".bc"),g=[],y=[],w=!1,L=!1;function S(){var e=(0,d.a)();return e.classList.add("cc"),e.appendChild((0,b.a)()),e}function C(e,a,t,i){function r(e,r,c){function s(e,a){(0,b.c)(e,a)}function o(e,a,t){e.onclick=function(){!function(e,a){a.value=e,A()}(a,t)}}function d(e,a){e.setAttribute("skeleton-screen",(0,u.a)(a))}function l(e,a){e.setAttribute("animation",(0,u.a)(a))}null==c?(s(e,r),o(e,r,a),d(e,t),l(e,i)):(c!==r?(s(e,r),o(e,r,a)):n!==a&&o(e,r,a),L!==t&&d(e,t),w!==i&&l(e,i))}var c=e.length,s=Array.from((0,d.d)(k,".cc")),o=s.length;if(c!==o){var l=o-c;if(l<0){for(var f=new DocumentFragment,h=0;h>l;h--){var p=S();f.appendChild(p),s.push(p)}k.append(f)}else if(l>0)for(var v=o-1,m=o-l-1;v>m;v--)s[v].remove(),s.splice(v,1)}for(var g=0;g<c;g++){var C=y[g],T=e[g],E=s[g];r(E,T,C||null)}y=e.slice(),n=a,L=t,w=i}function T(){return(T=(0,i.a)(function*(e){var a=(0,o.b)("playing_animation"),t=(0,u.c)();v.value="",function(e){for(var a=(0,o.b)("playing_animation"),t=(0,f.d)("window"),n=Math.floor(t.width/50)*(Math.floor(t.height/50)+3),i=[],r=0;r<n;r++)i.push("");C(i,e,!0,a)}(e);var n=yield(0,r.a)(t);for(var i in g=[],n.symbols)g.push(i);C(g,e,!1,a),(0,s.a)(n),(0,c.a)(t)})).apply(this,arguments)}function E(){v.addEventListener("paste",function(){M()}),v.addEventListener("cut",function(){M()}),v.addEventListener("selectionchange",function(){M()}),document.addEventListener("selectionchange",function(){M()}),v.addEventListener("keyup",function(){M()})}function M(){var e=v.value;if(!(0,l.a)(e)){for(var a=(0,s.b)(e),t=a.length-1;t>=0;t--){var i=a[t].item,r=g.indexOf(i);if(g[t]&&!(r<0)){var c=[g[r],g[t]];g[t]=c[0],g[r]=c[1]}}C(g,n,!1,w)}}function x(e){var a="ltr"===e?"qd":"rd";h.addEventListener("animationend",function(){h.classList.remove(a)},{once:!0}),h.classList.add(a),h.setAttribute("displayed","true")}function D(e){var a="ltr"===e?"sd":"td";h.addEventListener("animationend",function(){h.setAttribute("displayed","false"),h.classList.remove(a)},{once:!0}),h.classList.add(a)}function _(e){(0,f.c)("IconSelector"),x("rtl"),function(e){T.apply(this,arguments)}(e),(0,f.b)()}function A(){D("ltr"),(0,f.i)(),(0,f.e)("IconSelector")}},4537(e,a,t){t.d(a,{a:()=>r,b:()=>i,c:()=>c});var n=t(8179);function i(e){var a=document.createElement("span");return a.classList.add("r"),a.innerText=e,a}function r(){var e=document.createElement("span");return e.classList.add("r"),e}function c(e,a){(0,n.e)(e,"span.r").innerText=a}},4953(){},5259(){},5297(){},6091(e,a,t){t.d(a,{a:()=>N,b:()=>A});var n=t(467),i=t(5767),r=t(5314),c=t(3459),s=t(8179),o=t(8024),d=t(4884),u=t(4537),l=t(904),b=t(3030),f=t(4690),h=(0,s.c)(".s"),p=(0,s.e)(h,".ia"),v=(0,s.e)(p,".ja"),m=(0,s.e)(v,".oa"),k={},g=!1,y=!1,w=15e3,L=5e3,S=!0,C=!1,T=0,E=0,M="",x=!1;function D(){var e=(0,s.a)();e.classList.add("wa");var a=(0,s.a)();a.classList.add("ya");var t=(0,s.a)();t.classList.add("za"),t.appendChild((0,u.a)());var n=(0,s.a)();n.classList.add("_a");var i=(0,s.a)();i.classList.add("ab"),a.appendChild(t),a.appendChild(n),a.appendChild(i);var r=(0,s.a)();return r.classList.add("bb"),e.appendChild(a),e.appendChild(r),e}function _(e,a,t){function n(e,n,i){function r(e,a){var t=(0,s.e)(e,".ya"),n=(0,s.e)(t,".za"),i="";switch(a.type){case"route":i="route";break;case"location":i="location_on";break;case"bus":i="directions_bus";break;case"empty":i="lightbulb"}(0,u.c)(n,i)}function c(e,a){var t=(0,s.e)(e,".ya"),n=(0,s.e)(t,"._a"),i="";switch(a.type){case"route":i="路線";break;case"location":i="地點";break;case"bus":i="公車";break;case"empty":i="提示"}n.innerText=i}function l(e,a){var t=(0,s.e)(e,".ya");(0,s.e)(t,".ab").innerText=a.time.relative}function h(e,a){(0,s.e)(e,".bb").innerText=a.name}function p(e,a){switch(a.type){case"route":e.onclick=function(){(0,f.d)(a.id,a.pid)};break;case"location":e.onclick=function(){(0,b.d)(a.hash)};break;case"bus":e.onclick=function(){(0,d.d)(a.id)};break;case"empty":e.onclick=null}}function v(e,a){e.setAttribute("animation",(0,o.a)(a))}function m(e,a){e.setAttribute("skeleton-screen",(0,o.a)(a))}if(null==i)r(e,n),c(e,n),l(e,n),h(e,n),p(e,n),v(e,t),m(e,a);else if(n.type!==i.type)r(e,n),c(e,n),l(e,n),h(e,n),p(e,n),v(e,t),m(e,a);else{switch(n.type){case"location":(0,o.b)(i.name,n.name)||h(e,n),i.time!==n.time&&l(e,n),(0,o.b)(i.hash,n.hash)||p(e,n);break;case"route":i.name!==n.name&&h(e,n),i.time!==n.time&&l(e,n),i.id===n.id&&(0,o.b)(i.pid,n.pid)||p(e,n);break;case"bus":i.name!==n.name&&h(e,n),i.time!==n.time&&l(e,n),i.id!==n.id&&p(e,n);break;case"empty":i.time!==n.time&&l(e,n)}g!==t&&v(e,t),y!==a&&m(e,a)}}var i=e.itemQuantity,r=Array.from((0,s.d)(m,".wa")),c=r.length;if(i!==c){var l=c-i;if(l<0){for(var h=new DocumentFragment,p=0;p>l;p--){var v=D();h.appendChild(v),r.push(v)}m.append(h)}else if(l>0)for(var w=c-1,L=c-l-1;w>L;w--)r[w].remove(),r.splice(w,1)}for(var S=0;S<i;S++){var C=r[S],T=e.items[S];if((0,o.e)(k,"items"))if(k.items[S])n(C,T,k.items[S]);else n(C,T,null);else n(C,T,null)}k=e,g=t,y=a}function A(){for(var e=(0,c.b)("playing_animation"),a=(0,l.d)("window"),t=Math.floor(a.height/70/3)+2,n=[],i=0;i<t;i++)n.push({type:"route",id:0,pid:[],time:{absolute:0,relative:""},name:""});_({items:n,itemQuantity:n.length,dataUpdateTime:0},!0,e)}function F(){return R.apply(this,arguments)}function R(){return(R=(0,n.a)(function*(){var e=(0,c.b)("playing_animation"),a=(0,c.b)("refresh_interval");S=a.dynamic,w=a.baseInterval,M=(0,o.c)();var t=yield(0,r.c)(M);_(t,!1,e);var n=0;S&&(n=yield(0,i.c)()),T=(new Date).getTime(),E=S?Math.max(T+L,t.dataUpdateTime+w/n):T+w,Math.max(L,E-T)})).apply(this,arguments)}function P(){return H.apply(this,arguments)}function H(){return(H=(0,n.a)(function*(){F().then(function(){C?setTimeout(function(){P()},Math.max(L,E-(new Date).getTime())):x=!1}).catch(function(e){C?setTimeout(function(){P()},1e4):x=!1})})).apply(this,arguments)}function N(){C||(C=!0,x?F():(x=!0,P()))}},6561(){},6764(){},7114(){},7336(){},7499(){},9657(){}}]);
//# sourceMappingURL=17f1e572f1477ab3f7b5.js.map