"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[3937],{4537(e,n,t){t.d(n,{YC:()=>o,Zf:()=>a,oC:()=>i,yD:()=>d});var r=t(8179);function a(e){return`<span class="ub">${e}</span>`}function o(e){var n=document.createElement("span");return n.classList.add("ub"),n.innerText=e,n}function i(){var e=document.createElement("span");return e.classList.add("ub"),e}function d(e,n){(0,r.aI)(e,"span.ub").innerText=n}},7891(e,n,t){t.d(n,{Z:()=>h,z:()=>y});var r=t(5352),a=t(8179),o=t(4537),i=t(904),d=t(5693);function c(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){d=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(d)throw o}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t,r,a,o,i){try{var d=e[o](i),c=d.value}catch(e){return void t(e)}d.done?n(c):Promise.resolve(c).then(r,a)}var s=(0,a.bv)(".wk"),f=(0,a.aI)(s,".al"),p=(0,a.aI)(f,".bl");function v(e){var n=document.createElement("div");n.classList.add("cl"),n.onclick=function(){(0,d.bF)(e.id)};var t=document.createElement("div");t.classList.add("dl"),t.appendChild(document.createTextNode(e.name)),n.appendChild(t);var r=document.createElement("div");r.classList.add("el");var a=document.createElement("span");return a.appendChild((0,o.YC)("arrow_forward_ios")),r.appendChild(a),n.appendChild(r),{element:n,id:""}}function m(){var e;return e=function*(){p.innerHTML="";var e,n=yield(0,r.ty)(),t=new DocumentFragment,a=c(n);try{for(a.s();!(e=a.n()).done;){var o=v(e.value);t.appendChild(o.element)}}catch(e){a.e(e)}finally{a.f()}p.append(t)},m=function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){u(o,r,a,i,d,"next",e)}function d(e){u(o,r,a,i,d,"throw",e)}i(void 0)})},m.apply(this,arguments)}function y(){(0,i.WR)("PersonalScheduleManager"),s.setAttribute("displayed","true"),function(){m.apply(this,arguments)}()}function h(){(0,i.kr)("PersonalScheduleManager"),s.setAttribute("displayed","false")}},8379(e,n,t){t.d(n,{g:()=>y,m:()=>h});var r=t(9566),a=t(8179),o=t(9333),i=t(4537),d=t(904);function c(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){d=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(d)throw o}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t,r,a,o,i){try{var d=e[o](i),c=d.value}catch(e){return void t(e)}d.done?n(c):Promise.resolve(c).then(r,a)}var s=(0,a.bv)(".oc"),f=(0,a.aI)(s,".tc"),p=(0,a.aI)(f,".uc");function v(e){var n=document.createElement("div");n.classList.add("vc"),n.onclick=function(){(0,o.uy)(e.id)};var t=document.createElement("div");t.classList.add("wc"),t.appendChild((0,i.YC)(e.icon));var r=document.createElement("div");r.classList.add("xc"),r.appendChild(document.createTextNode(e.name));var a=document.createElement("div");a.classList.add("yc"),a.appendChild(document.createTextNode(String(e.contentLength)));var d=document.createElement("div");return d.classList.add("cd"),d.appendChild((0,i.YC)("arrow_forward_ios")),n.appendChild(t),n.appendChild(r),n.appendChild(a),n.appendChild(d),{element:n,id:""}}function m(){var e;return e=function*(){var e=yield(0,r.Xi)();p.innerHTML="";var n,t=new DocumentFragment,a=c(e);try{for(a.s();!(n=a.n()).done;){var o=v(n.value);t.appendChild(o.element)}}catch(e){a.e(e)}finally{a.f()}p.append(t)},m=function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){u(o,r,a,i,d,"next",e)}function d(e){u(o,r,a,i,d,"throw",e)}i(void 0)})},m.apply(this,arguments)}function y(){(0,d.WR)("FolderManager"),s.setAttribute("displayed","true"),function(){m.apply(this,arguments)}()}function h(){(0,d.kr)("FolderManager"),s.setAttribute("displayed","false")}},9119(e,n,t){t.d(n,{a:()=>u});var r=t(3459),a=t(8179),o=t(8024),i=t(4537);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function c(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){d=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(d)throw o}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t){var l=(0,a.e0)(".tm");if(null!==l){var u,s=c(l);try{for(s.s();!(u=s.n()).done;){u.value.remove()}}catch(e){s.e(e)}finally{s.f()}}var f=(0,r.Js)("playing_animation"),p=document.createElement("div");p.classList.add("tm"),p.setAttribute("animation",(0,o.xZ)(f));var v=document.createElement("div");v.classList.add("um"),v.appendChild((0,i.YC)(e)),p.appendChild(v);var m=document.createElement("div");if(m.classList.add("vm"),m.innerText=n,p.appendChild(m),"object"===d(t)&&null!=t&&"function"==typeof(null==t?void 0:t.action)){var y=document.createElement("div");y.classList.add("wm"),y.innerText=t.text,y.addEventListener("click",function(){t.action()},{once:!0}),p.appendChild(y)}p.addEventListener("animationend",function(e){null!=e&&e.target&&e.target.remove()},{once:!0}),document.body.appendChild(p)}},9333(e,n,t){t.d(n,{I6:()=>I,uy:()=>S});var r=t(9566),a=t(8179),o=t(8024),i=t(6189),d=t(4537),c=t(904),l=t(9119);function u(e,n,t,r,a,o,i){try{var d=e[o](i),c=d.value}catch(e){return void t(e)}d.done?n(c):Promise.resolve(c).then(r,a)}function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return f(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){d=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(d)throw o}}}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var p=(0,a.bv)(".dd"),v=(0,a.aI)(p,".ed"),m=(0,a.aI)(v,".fd"),y=(0,a.aI)(p,".hd"),h=(0,a.aI)(y,".id"),b=(0,a.aI)(h,'.jd[group="folder-name"] .nd input'),C=(0,a.aI)(h,'.jd[group="folder-icon"] .nd .pd input'),g=(0,a.aI)(h,'.jd[group="folder-icon"] .nd .pd .qd'),w=(0,a.aI)(h,'.jd[group="folder-content"] .nd');function E(e,n){var t=(0,o.zx)(),i=document.createElement("div");i.id=t,i.classList.add("rd"),i.setAttribute("type",n.type);var c="",u="",s="";switch(n.type){case"stop":s="location_on",c=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,u=n.name;break;case"route":s="route",c=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,u=n.name;break;case"location":s="location_on",c="地點",u=n.name;break;case"bus":c="",u=n.name;break;case"empty":s="lightbulb",c="提示",u="沒有內容";break;default:s="",c="null",u="null"}var f=document.createElement("div");f.classList.add("sd"),f.appendChild((0,d.YC)(s));var v=document.createElement("div");v.classList.add("td"),v.appendChild(document.createTextNode(c));var m=document.createElement("div");m.classList.add("vd"),m.appendChild(document.createTextNode(u));var y=document.createElement("div");y.classList.add("wd");var h=document.createElement("div");h.classList.add("xd"),h.appendChild((0,d.YC)("keyboard_arrow_down")),h.onclick=function(){k(t,e.id,n.type,n.id,"up")};var b=document.createElement("div");b.classList.add("yd"),b.appendChild((0,d.YC)("keyboard_arrow_down")),b.onclick=function(){k(t,e.id,n.type,n.id,"down")};var C=document.createElement("div");C.classList.add("zd"),C.appendChild((0,d.YC)("delete")),C.onclick=function(){!function(e,n,t,o){var i=(0,a.aI)(p,`.hd .id .jd[group="folder-content"] .nd .rd#${e}`);(0,r.NC)(n,t,o).then(function(e){if(e)switch(i.remove(),t){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(t,e.id,n.type,n.id)};var g=document.createElement("div");g.classList.add("_d");var w=document.createElement("div");return w.classList.add("_d"),y.appendChild(h),y.appendChild(b),y.appendChild(C),y.appendChild(g),y.appendChild(w),i.appendChild(f),i.appendChild(v),i.appendChild(m),i.appendChild(y),{element:i,id:t}}function A(e,n){b.value=e.name,C.value=e.icon,m.onclick=function(){var n,t,a;n=e.id,t=b.value,a=C.value,(0,r.g$)(n,t,a).then(function(e){e?(I(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},w.innerHTML="";var t,a=new DocumentFragment,o=s(n);try{for(o.s();!(t=o.n()).done;){var i=t.value,d=E(e,i);a.appendChild(d.element)}}catch(e){o.e(e)}finally{o.f()}w.append(a)}function L(){var e;return e=function*(e){A((0,r.L2)(e),yield(0,r.eD)(e))},L=function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){u(o,r,a,i,d,"next",e)}function d(e){u(o,r,a,i,d,"throw",e)}i(void 0)})},L.apply(this,arguments)}function S(e){(0,c.WR)("FolderEditor"),p.setAttribute("displayed","true"),function(e){L.apply(this,arguments)}(e),(0,c.Z_)()}function I(){p.setAttribute("displayed","false"),(0,c.l$)()}function k(e,n,t,o,i){var d=(0,a.aI)(p,`.hd .id .jd[group="folder-content"] .nd .rd#${e}`);(0,r.bq)(n,t,o,i).then(function(e){if(e)switch(i){case"up":var n=d.previousElementSibling;n&&d.parentNode.insertBefore(d,n),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var t=d.nextElementSibling;t&&d.parentNode.insertBefore(t,d),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}g.onclick=function(){(0,i.r7)("editor")}}}]);
//# sourceMappingURL=2d5b65ba30568f06f93f.js.map