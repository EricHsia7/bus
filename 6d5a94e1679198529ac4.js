!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bus",[],t):"object"==typeof exports?exports.bus=t():e.bus=t()}(self,()=>(()=>{"use strict";var e,t={2648:(e,t,r)=>{r.d(t,{$:()=>u});var n=r(7968);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=r(157);function u(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,l=[[[-1,0],[0,-1]],[[0,-1],[1,0]],[[1,0],[0,1]],[[0,1],[-1,0]]],c=[[[-1,0],[-1,-1],[0,-1]],[[0,-1],[1,-1],[1,0]],[[1,0],[1,1],[0,1]],[[0,1],[-1,1],[-1,0]]],f=function(e,t){for(var r=i.create(e,{errorCorrectionLevel:t}),n=r.modules.size,o=[],a=0;a<n;a++){for(var u=[],s=0;s<n;s++){var l=r.modules.get(s,a);u.push(l)}o.push(u)}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L"),d=f.length,h=[],v=0;v<d;v++)for(var p=0;p<d;p++)if(1===f[v][p]){for(var g=new Uint8Array(4),m=0;m<4;m++){var b,y=1,S=o(l[m]);try{for(S.s();!(b=S.n()).done;){var w,M=b.value;1===(null===(w=f[v+M[1]])||void 0===w?void 0:w[p+M[0]])&&(y*=0)}}catch(e){S.e(e)}finally{S.f()}g[m]=y}h=h.concat((0,n.mX)((p+a)*s,(v+a)*s,1*s,1*s,{tl:g[0]*t*s,tr:g[1]*t*s,br:g[2]*t*s,bl:g[3]*t*s},!1))}else{for(var $=new Uint8Array(4),k=0;k<4;k++){var A,D=1,j=o(c[k]);try{for(j.s();!(A=j.n()).done;){var x,I=A.value;null!==(x=f[v+I[1]])&&void 0!==x&&x[p+I[0]]||(D*=0)}}catch(e){j.e(e)}finally{j.f()}$[k]=D}$.some(function(e){return 0!==e})&&(h=h.concat((0,n.mX)((p+a)*s,(v+a)*s,1*s,1*s,{tl:$[0]*r*s,tr:$[1]*r*s,br:$[2]*r*s,bl:$[3]*r*s},!0)))}return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${(d+2*a)*s} ${(d+2*a)*s}" shape-rendering="geometricPrecision"><path d="${h.join(" ")}" fill="${u}" stroke="${u}" stroke-width="0.1" stroke-linejoin="round" fill-rule="nonzero" /></svg>`}},3648:(e,t,r)=>{function n(e){return document.querySelector(e)}function o(e){return document.querySelectorAll(e)}function a(e,t){return e.querySelector(t)}function i(e,t){return e.querySelectorAll(t)}function u(e,t){for(var r=[],n=e.nextElementSibling;n;)n.classList.contains(t)&&r.push(n),n=n.nextElementSibling;return r}r.d(t,{aI:()=>a,bv:()=>n,e0:()=>o,jg:()=>i,ji:()=>u})},4750:(e,t,r)=>{r.d(t,{h:()=>f});var n=r(8024);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u,s={};if("undefined"!=typeof SharedWorker){var l=new SharedWorker(new URL(r.p+r.u(82),r.b));(u=l.port).start()}else{var c=new Worker(new URL(r.p+r.u(701),r.b));u=c}function f(e){return d.apply(this,arguments)}function d(){var e;return e=function*(e){var t=(0,n.zx)();return yield new Promise(function(r,n){s[t]=r,u.onerror=function(e){n(e.message)},u.postMessage([e,t])})},d=function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)})},d.apply(this,arguments)}u.onmessage=function(e){var t=a(e.data,2),r=t[0],n=t[1];s[n]&&(s[n](r),delete s[n])},u.onerror=function(e){}},4781:(e,t,r)=>{function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[];if("string"==typeof e)for(var n=e.length,o=0;o<n;o++){var a=e.charCodeAt(o);(r.indexOf(a)<0||!t)&&r.push(a)}return r}function o(e){return!!/[\u3100-\u312Fˇˋˊ˙]/gm.test(e)}r.d(t,{B5:()=>n,iO:()=>o})},5579:(e,t,r)=>{function n(){var e=new Date,t=e.getDay(),r=e.getDate()-t,n=new Date;return n.setDate(r),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function o(e,t,r,n){var o=new Date;return o.setDate(1),o.setMonth(0),o.setHours(r),o.setMinutes(n),o.setSeconds(0),o.setMilliseconds(0),o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()),o.setDate(e.getDate()),o.setDate(o.getDate()+t),o}function a(e){var t=e.match(/[0-9\.]*/gm);if(t){var r=parseInt(t[0]),n=parseInt(t[2]),o=parseInt(t[4]),a=parseInt(t[6]),i=parseInt(t[8]),u=parseInt(t[10]),s=new Date;return s.setDate(1),s.setMonth(0),s.setFullYear(r),s.setMonth(n-1),s.setDate(o),s.setHours(a),s.setMinutes(i),s.setSeconds(u),s.getTime()}return 0}function i(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss").replaceAll(/Y{4,4}/g,e.getFullYear()).replaceAll(/M{2,2}/g,String(e.getMonth()+1).padStart(2,"0")).replaceAll(/D{2,2}/g,String(e.getDate()).padStart(2,"0")).replaceAll(/h{2,2}/g,String(e.getHours()).padStart(2,"0")).replaceAll(/m{2,2}/g,String(e.getMinutes()).padStart(2,"0")).replaceAll(/s{2,2}/g,String(e.getSeconds()).padStart(2,"0"))}function u(e){var t=e.getTime(),r=Math.floor(((new Date).getTime()-t)/1e3),n=Math.floor(r/31536e3);return n>=1?`${n}年前`:(n=Math.floor(r/2592e3))>=1?`${n}個月前`:(n=Math.floor(r/86400))>=1?`${n}天前`:(n=Math.floor(r/3600))>=1?`${n}小時前`:(n=Math.floor(r/60))>=1?`${n}分鐘前`:r>0?`${r}秒前`:"現在"}function s(e,t){var r=0|e;switch(t){case 0:return`${r}秒`;case 1:return[String((r-r%60)/60),String(r%60)].map(function(e){return e.padStart(2,"0")}).join(":");case 2:return`${r/60|0}分`;case 3:if(r>=3600)return`${parseFloat((r/3600).toFixed(1))}時`;if(60<=r&&r<3600)return`${r/60|0}分`;if(r<60)return`${r}秒`;break;default:return"--"}}function l(e){return[{name:"日",day:0,code:"d_0"},{name:"一",day:1,code:"d_1"},{name:"二",day:2,code:"d_2"},{name:"三",day:3,code:"d_3"},{name:"四",day:4,code:"d_4"},{name:"五",day:5,code:"d_5"},{name:"六",day:6,code:"d_6"}][e]}function c(e){return l(parseInt(e)-1)}function f(e){return`${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}`}function d(e,t,r){var n=new Date;return n.setDate(1),n.setMonth(0),n.setFullYear(e),n.setMonth(t-1),n.setDate(r),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}r.d(t,{$T:()=>i,HN:()=>u,P$:()=>n,S1:()=>o,Zn:()=>a,fU:()=>s,kd:()=>l,mr:()=>c,pn:()=>f,uP:()=>d})},6141:(e,t,r)=>{r.d(t,{t:()=>o});var n={light:{},dark:{}};function o(e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(n[t].hasOwnProperty(e))return n[t][e];var r=getComputedStyle(document.documentElement).getPropertyValue(e);return n[t][e]=r,r}},7307:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(2754);function o(e){return new n._k({issuer:"Bus",label:"Bus",algorithm:"SHA256",digits:8,period:10,secret:e}).generate()}},9469:(e,t,r)=>{r.d(t,{_:()=>i,i:()=>u});var n=r(8134),o=r(3030),a=r(4690);function i(){var e=new URL(location.href).searchParams.get("permalink");if(null!==e){var t=String(e);if(/^[0-1]\@(.*)(\~.*){0,1}/.test(t)){var r=t.split(/[\@\~]/);switch(parseInt(r[0])){case 0:(0,n.Rk)(parseInt(r[1],16)).then(function(e){!1!==e?(0,a.SR)(e.id,e.pid):(0,n.k9)(r[2]).then(function(e){e.length>0&&(0,a.SR)(e[0].id,e[0].pid)})});break;case 1:(0,o.so)(r[1])}}}}function u(e,t){var r=new URL("https://erichsia7.github.io/bus/");switch(e){case 0:r.searchParams.set("permalink",`0@${parseInt(t.id).toString(16)}~${t.name}`);break;case 1:r.searchParams.set("permalink",`1@${t.hash}`)}return decodeURIComponent(r.toString())}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,o,a]=e[c],u=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every(e=>n.O[e](r[s]))?r.splice(s--,1):(u=!1,a<i&&(i=a));if(u){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.u=e=>({82:"b669b0f88231b043e8af",104:"020c1cb834acb4fbb2ae",106:"1302a30564c9bd7fe4c3",132:"23a08255cc9391496336",148:"8c9f2c7968e9e8d15972",211:"07b0c5f37d7aa16addb0",332:"a9e28f9d3f9e42279aab",551:"c5767b5efb37bdc8ea86",592:"07b0c5f37d7aa16addb0",619:"5a85717da9143fe0e376",648:"af019a1188b205843b6a",701:"b669b0f88231b043e8af",892:"34fca0e1a17963f0f177",932:"c5767b5efb37bdc8ea86",960:"0f9e984fefdef687d44f"}[e]+".js"),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="./",(()=>{n.b=document.baseURI||self.location.href;var e={498:0,710:0,996:0,238:0,424:0,183:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,u,s]=r,l=0;if(i.some(t=>0!==e[t])){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(s)var c=s(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self.webpackChunkbus=self.webpackChunkbus||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[790,433,754,447,343,799,821,327,372,133,576,150,335,710,996,784,642,794,238,627,704,541,424,183,895,687],()=>n(4356));return o=(o=n.O(o)).default})());
//# sourceMappingURL=6d5a94e1679198529ac4.js.map