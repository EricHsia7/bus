"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,a,t){t.d(a,{default:()=>I});var n,i,r=t(467),o=t(6483),s=t(8925),d=t(5767),c=t(9566),l=t(3422),u=t(5314),p=t(3459),f=t(3251),h=t(1238),b=t(1531),v=t(4884),y=t(9499),g=t(6052),m=t(4294),C=t(8379),w=t(540),k=t(6082),L=t(6091),S=t(904),F=t(1351),x=t(3030),_=t(2174),T=t(8380),A=t(5693),D=t(7891),E=t(8279),M=t(7908),P=t(5286),Y=t(4690),N=t(3041),q=t(752),R=t(5009),B=t(6104),j=t(6166),z=t(2994),U=t(9469),$=(t(4800),t(5259),t(6764),t(2547),t(8933),t(6971),t(7336),t(6561),t(6110),t(9080),t(1818),t(9590),t(1844),t(2239),t(6597),t(9991),t(3777),t(2696),t(5461),t(2421),t(3058),t(1102),t(7868),t(6388),t(3127),t(1743),t(1306),t(9731),t(245),t(4071),t(5135),t(8969),t(1003),t(4472),t(4620),t(9714),t(2681),t(124),t(3381),t(9351),t(1077),t(7037),t(9205),t(3534),t(6018),t(5392),t(1308),t(7225),t(5297),t(7499),t(4953),t(7114),t(9657),t(9598),t(626),t(5504),t(6780),t(969),t(7943),t(4721),t(4263),t(3963),t(1542),t(6153),t(112),t(5374),t(5666),t(8558),t(1452),t(2676),t(1195),t(5068),t(1469),t(4935),t(321),t(6907),t(3257),t(7537),t(2503),t(1511),t(4305),t(8983),t(5995),t(5228),t(1078),t(1603),t(3749),t(7723),t(7287),t(7217),t(3425),t(6171),t(8073),t(928),t(7113),t(6340),t(6384),t(3382),t(3011),t(1484),!1),H=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!$){$=!0,(0,S.g)(),yield(0,p.d)(),yield(0,c.c)(),(0,L.b)(),(0,w.b)();var e=yield(0,f.a)();"ok"===e?((0,U.b)(),(0,L.a)(),(0,w.a)(),(0,Y.c)(),(0,x.c)(),(0,R.c)(),(0,m.c)(),(0,R.e)(),window.addEventListener("resize",function(){(0,R.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,R.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,b.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.h)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(n=(0,r.a)(function*(){H||(H=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,k.b)(),yield(0,o.c)(),yield(0,d.b)(),yield(0,u.a)(),yield(0,s.b)(),yield(0,d.d)(),yield(0,d.e)())}),function(){return n.apply(this,arguments)}),route:{closeRoute:Y.a,closeRouteDetails:P.e},location:{closeLocation:x.a,closeLocationDetails:F.a},folder:{closeSaveToFolder:N.a,closeFolderManager:C.a,closeIconSelector:m.a,openFolderCreator:g.d,closeFolderCreator:g.a,createFormulatedFolder:g.b},search:{openSearch:R.d,closeSearch:R.a,switchSearchTypeFilter:R.g},storage:{closeStorage:z.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:B.e,closeSettings:B.a,closeSettingsOptions:j.a},bus:{closeBus:v.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:M.c,closeRegisterNotification:M.a,saveFormulatedRegisterNotification:M.d,closeScheduleNotification:q.a},qrcode:{closeQRCode:E.a}};const I=window.bus},4884(e,a,t){t.d(a,{a:()=>C,b:()=>S,c:()=>k,d:()=>L,e:()=>w});var n=t(467),i=t(6160),r=t(5314),o=t(3459),s=t(8179),d=t(8024),c=t(904),l=t(4537),u=[],p=!1,f=!1;function h(){var e=(0,s.a)();e.classList.add("or");var a=(0,s.a)();a.classList.add("pr"),a.appendChild((0,l.a)());var t=(0,s.a)();return t.classList.add("qr"),e.appendChild(a),e.appendChild(t),e}function b(e,a,t){function n(e,n,i){function r(e,a){var t=(0,s.e)(e,".pr");(0,l.c)(t,a.icon)}function o(e,a){(0,s.e)(e,".qr").innerText=a.value}function c(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(r(e,n),o(e,n),u(e,a),c(e,t)):((0,d.b)(i,n)||r(e,n),(0,d.b)(i,n)||o(e,n),a!==p&&u(e,a),t!==f&&c(e,t))}var i=e.length,r=Array.from((0,s.d)(C,".or")),o=r.length;if(i!==o){var c=o-i;if(c<0){for(var b=new DocumentFragment,v=0;v>c;v--){var y=h();b.appendChild(y),r.push(y)}C.append(b)}else if(c>0)for(var g=o-1,m=o-c-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var w=0;w<i;w++){var k=r[w],L=e[w];u[w]?n(k,L,u[w]):n(k,L,null)}u=e,f=t,p=a}var v=(0,s.c)(".cr"),y=((0,s.e)(v,".dr"),(0,s.e)(v,".hr")),g=(0,s.e)(y,".ir"),m=(0,s.e)(g,'.jr[group="properties"]'),C=(0,s.e)(m,".nr");(0,s.e)(g,'.jr[group="location"]');function w(){v.setAttribute("displayed","true")}function k(){v.setAttribute("displayed","false")}function L(e){(0,c.c)("Bus"),(0,r.e)("bus",e),w(),function(e){F.apply(this,arguments)}(e),(0,c.b)()}function S(){k(),(0,c.i)(),(0,c.e)("Bus")}function F(){return(F=(0,n.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),a=[],t=0;t<5;t++)a.push({key:t,icon:"",value:""});b(a,!0,e)}();var a=(0,o.b)("playing_animation"),t=(0,d.c)();b((yield(0,i.a)(e,t)).properties,!1,a)})).apply(this,arguments)}},6052(e,a,t){t.d(a,{a:()=>y,b:()=>f,c:()=>b,d:()=>v,e:()=>h});var n=t(9566),i=t(8179),r=t(4294),o=t(904),s=t(9119),d=(0,i.c)(".ys"),c=(0,i.e)(d,".ct"),l=(0,i.e)(c,".dt"),u=(0,i.e)(l,'.et[group="folder-name"] .it input'),p=(0,i.e)(l,'.et[group="folder-icon"] .it .jt input');function f(){var e=u.value,a=p.value;(0,n.a)(e,a).then(function(e){e?(y(),(0,s.a)("folder","已建立資料夾")):(0,s.a)("error","無法建立資料夾")})}function h(){d.setAttribute("displayed","true")}function b(){d.setAttribute("displayed","false")}function v(){(0,o.c)("FolderCreator"),h(),(0,o.b)()}function y(){b(),(0,o.i)(),(0,o.e)("FolderCreator")}(0,i.e)(l,'.ys .ct .dt .et[group="folder-icon"] .it .jt .kt').onclick=function(){(0,r.d)(p)}},8379(e,a,t){t.d(a,{a:()=>y,b:()=>b,c:()=>v,d:()=>h});var n=t(467),i=t(9566),r=t(8179),o=t(9333),s=t(4537),d=t(904),c=(0,r.c)(".rr"),l=(0,r.e)(c,".wr"),u=(0,r.e)(l,".xr");function p(e){var a=(0,r.a)();a.classList.add("yr"),a.onclick=function(){(0,o.b)(e.id)};var t=(0,r.a)();t.classList.add("zr"),t.appendChild((0,s.b)(e.icon));var n=(0,r.a)();n.classList.add("_r"),n.innerText=e.name;var i=(0,r.a)();i.classList.add("as"),i.innerText=String(e.contentLength);var d=(0,r.a)();return d.classList.add("bs"),d.appendChild((0,s.b)("arrow_forward_ios")),a.appendChild(t),a.appendChild(n),a.appendChild(i),a.appendChild(d),a}function f(){return(f=(0,n.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var a=new DocumentFragment;for(var t of e){var n=p(t);a.appendChild(n)}u.append(a)})).apply(this,arguments)}function h(){c.setAttribute("displayed","true")}function b(){c.setAttribute("displayed","false")}function v(){(0,d.c)("FolderManager"),h(),function(){f.apply(this,arguments)}(),(0,d.b)()}function y(){b(),(0,d.i)(),(0,d.e)("FolderManager")}},9333(e,a,t){t.d(a,{a:()=>L,b:()=>S,c:()=>k});var n=t(467),i=t(9566),r=t(8179),o=t(4294),s=t(4537),d=t(904),c=t(9119),l=(0,r.c)(".cs"),u=(0,r.e)(l,".ds"),p=(0,r.e)(u,".es"),f=(0,r.e)(l,".gs"),h=(0,r.e)(f,".hs"),b=(0,r.e)(h,'.is[group="folder-name"] .ms input'),v=(0,r.e)(h,'.is[group="folder-icon"] .ms .ns input'),y=(0,r.e)(h,'.is[group="folder-icon"] .ms .ns .os'),g=(0,r.e)(h,'.is[group="folder-content"] .ms');function m(e,a){var t=(0,r.a)();t.classList.add("ps"),t.setAttribute("type",a.type);var n="",o="",d="";switch(a.type){case"stop":d="location_on",n=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,o=a.name;break;case"route":d="route",n=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,o=a.name;break;case"location":d="location_on",n="地點",o=a.name;break;case"bus":n="",o=a.name;break;case"empty":d="lightbulb",n="提示",o="沒有內容";break;default:d="",n="null",o="null"}var l=(0,r.a)();l.classList.add("qs"),l.appendChild((0,s.b)(d));var u=(0,r.a)();u.classList.add("rs"),u.innerText=n;var p=(0,r.a)();p.classList.add("ss"),p.innerText=o;var f=(0,r.a)();f.classList.add("ts");var h=(0,r.a)();h.classList.add("us"),h.appendChild((0,s.b)("keyboard_arrow_down")),h.onclick=function(){F(t,e.id,a.type,a.id,"up")};var b=(0,r.a)();b.classList.add("vs"),b.appendChild((0,s.b)("keyboard_arrow_down")),b.onclick=function(){F(t,e.id,a.type,a.id,"down")};var v=(0,r.a)();v.classList.add("ws"),v.appendChild((0,s.b)("delete")),v.onclick=function(){!function(e,a,t,n){(0,i.k)(a,t,n).then(function(a){if(a)switch(e.remove(),t){case"stop":(0,c.a)("delete","已移除站牌");break;case"route":(0,c.a)("delete","已移除路線");break;case"location":(0,c.a)("delete","已移除地點")}else(0,c.a)("error","無法移除")})}(t,e.id,a.type,a.id)};var y=(0,r.a)();y.classList.add("xs");var g=(0,r.a)();return g.classList.add("xs"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(y),f.appendChild(g),t.appendChild(l),t.appendChild(u),t.appendChild(p),t.appendChild(f),t}function C(e,a){b.value=e.name,v.value=e.icon,p.onclick=function(){var a,t,n;a=e.id,t=b.value,n=v.value,(0,i.q)(a,t,n).then(function(e){e?(L(),(0,d.i)(),(0,d.e)("FolderEditor"),(0,c.a)("check_circle","已儲存變更")):(0,c.a)("error","無法儲存")})},g.innerHTML="";var t=new DocumentFragment;for(var n of a){var r=m(e,n);t.appendChild(r)}g.append(t)}function w(){return(w=(0,n.a)(function*(e){C((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function k(){l.setAttribute("displayed","true")}function L(){l.setAttribute("displayed","false")}function S(e){(0,d.c)("FolderEditor"),k(),function(e){w.apply(this,arguments)}(e),(0,d.b)()}function F(e,a,t,n,r){(0,i.p)(a,t,n,r).then(function(a){if(a)switch(r){case"up":var t=e.previousElementSibling;t&&e.parentNode.insertBefore(e,t),(0,c.a)("arrow_circle_up","已往上移");break;case"down":var n=e.nextElementSibling;n&&e.parentNode.insertBefore(n,e),(0,c.a)("arrow_circle_down","已往下移")}else(0,c.a)("error","無法移動")})}y.onclick=function(){(0,o.d)(v)}},9499(e,a,t){t.d(a,{a:()=>k,b:()=>C,c:()=>w,d:()=>m});var n=t(467),i=t(8925),r=t(7183),o=t(8179),s=t(5579),d=t(904),c=(0,o.c)(".lt"),l=(0,o.e)(c,".pt"),u=(0,o.e)(l,".qt"),p=(0,o.e)(l,".rt"),f=(0,o.e)(p,'.st[name="total-data-usage"] .ut'),h=(0,o.e)(p,'.st[name="max-data-usage-per-minute"] .ut'),b=(0,o.e)(p,'.st[name="min-data-usage-per-minute"] .ut'),v=(0,o.e)(p,'.st[name="start-time"] .ut'),y=(0,o.e)(p,'.st[name="end-time"] .ut');function g(){return(g=(0,n.a)(function*(){var e=(0,d.d)("window"),a=e.width,t=Math.min(5/18*a,.33*e.height),n=yield(0,i.c)(a,t,20);f.innerText=(0,r.a)(n.stats.sum),h.innerText=(0,r.a)(n.stats.max),b.innerText=(0,r.a)(n.stats.min),v.innerText=(0,s.c)(n.period.start,"YYYY-MM-DD"),y.innerText=(0,s.c)(n.period.end,"YYYY-MM-DD"),u.innerHTML=n.chart})).apply(this,arguments)}function m(){c.setAttribute("displayed","true")}function C(){c.setAttribute("displayed","false")}function w(){(0,d.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,d.b)()}function k(){C(),(0,d.i)(),(0,d.e)("DataUsage")}}}]);
//# sourceMappingURL=c2340b4efabfb758cda2.js.map