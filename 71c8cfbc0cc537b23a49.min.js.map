{"version":3,"file":"71c8cfbc0cc537b23a49.min.js","mappings":"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","sources":["webpack://bus/./node_modules/charenc/charenc.js","webpack://bus/./node_modules/crypt/crypt.js","webpack://bus/./node_modules/is-buffer/index.js","webpack://bus/./node_modules/leaflet-tilelayer-mbtiles-ts/dist/MBTiles.js","webpack://bus/./node_modules/leaflet-tilelayer-mbtiles-ts/dist/MBTilesReader.js","webpack://bus/./node_modules/leaflet-tilelayer-mbtiles-ts/dist/index.js","webpack://bus/./node_modules/leaflet-tilelayer-mbtiles-ts/dist/utils.js","webpack://bus/./node_modules/lodash/_DataView.js","webpack://bus/./node_modules/lodash/_Hash.js","webpack://bus/./node_modules/lodash/_ListCache.js","webpack://bus/./node_modules/lodash/_Map.js","webpack://bus/./node_modules/lodash/_MapCache.js","webpack://bus/./node_modules/lodash/_Promise.js","webpack://bus/./node_modules/lodash/_Set.js","webpack://bus/./node_modules/lodash/_Stack.js","webpack://bus/./node_modules/lodash/_Symbol.js","webpack://bus/./node_modules/lodash/_Uint8Array.js","webpack://bus/./node_modules/lodash/_WeakMap.js","webpack://bus/./node_modules/lodash/_arrayEach.js","webpack://bus/./node_modules/lodash/_arrayFilter.js","webpack://bus/./node_modules/lodash/_arrayLikeKeys.js","webpack://bus/./node_modules/lodash/_arrayPush.js"],"sourcesContent":["var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MBTilesEvents = void 0;\nvar L = require(\"leaflet\");\nvar MBTilesReader_1 = require(\"./MBTilesReader\");\nvar utils_1 = require(\"./utils\");\nvar MBTilesEvents;\n(function (MBTilesEvents) {\n    MBTilesEvents[\"LOADED\"] = \"databaseloaded\";\n    MBTilesEvents[\"ERROR\"] = \"databaseerror\";\n})(MBTilesEvents = exports.MBTilesEvents || (exports.MBTilesEvents = {}));\n/**\n * Builds the MBTiles tileLayer\n * @class\n * @extends {L.TileLayer}\n */\nvar MBTiles = /** @class */ (function (_super) {\n    __extends(MBTiles, _super);\n    function MBTiles(urlOrData, options) {\n        var _this = _super.call(this, typeof urlOrData === 'string' ? urlOrData : '', options) || this;\n        _this._mbTilesReader = null;\n        _this._imageFormat = 'image/png';\n        _this._globalEvents = null;\n        _this._loadMBTiles(urlOrData);\n        _this._toggleEvents(true);\n        return _this;\n    }\n    MBTiles.prototype.createTile = function (coords, done) {\n        var tile = document.createElement('img');\n        if (this.options.crossOrigin) {\n            tile.crossOrigin = '';\n        }\n        /*\n         * Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\n         * http://www.w3.org/TR/WCAG20-TECHS/H67\n         */\n        tile.alt = '';\n        /*\n         * Set role=\"presentation\" to force screen readers to ignore this\n         * https://www.w3.org/TR/wai-aria/roles#textalternativecomputation\n         */\n        tile.setAttribute('role', 'presentation');\n        // In TileLayer.MBTiles, the getTileUrl() method can only be called when\n        // the database has already been loaded.\n        if (this._mbTilesReader && this._mbTilesReader.isLoaded) {\n            L.DomEvent.on(tile, 'load', L.Util.bind(this._tileOnLoad, this, done, tile));\n            L.DomEvent.on(tile, 'error', L.Util.bind(this._tileOnError, this, done, tile));\n            tile.src = this.getTileUrl(coords);\n        }\n        else {\n            this.on(MBTilesEvents.LOADED, function () {\n                L.DomEvent.on(tile, 'load', L.Util.bind(this._tileOnLoad, this, done, tile));\n                L.DomEvent.on(tile, 'error', L.Util.bind(this._tileOnError, this, done, tile));\n                tile.src = this.getTileUrl(coords);\n            }.bind(this));\n        }\n        return tile;\n    };\n    MBTiles.prototype.getTileUrl = function (coords) {\n        if (this._mbTilesReader) {\n            var data = this._mbTilesReader.getTile(coords.x, this._globalTileRange.max.y - coords.y, coords.z);\n            if (data) {\n                return window.URL.createObjectURL(new Blob([data], { type: this._imageFormat }));\n            }\n        }\n        return L.Util.emptyImageUrl;\n    };\n    MBTiles.prototype._loadMBTiles = function (urlOrData) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, _a, buffer, err_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(typeof urlOrData === 'string')) return [3 /*break*/, 9];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 7, , 8]);\n                        if (!L.Browser.android) return [3 /*break*/, 3];\n                        return [4 /*yield*/, utils_1.default.fetchLocal(urlOrData)];\n                    case 2:\n                        _a = _b.sent();\n                        return [3 /*break*/, 5];\n                    case 3: return [4 /*yield*/, fetch(urlOrData)];\n                    case 4:\n                        _a = _b.sent();\n                        _b.label = 5;\n                    case 5:\n                        response = _a;\n                        return [4 /*yield*/, response.arrayBuffer()];\n                    case 6:\n                        buffer = _b.sent();\n                        this._openMBTile(buffer);\n                        return [3 /*break*/, 8];\n                    case 7:\n                        err_1 = _b.sent();\n                        this.fire(MBTilesEvents.ERROR, { error: err_1 });\n                        return [3 /*break*/, 8];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        if (urlOrData instanceof ArrayBuffer) {\n                            this._openMBTile(urlOrData);\n                        }\n                        else {\n                            this.fire(MBTilesEvents.ERROR);\n                        }\n                        _b.label = 10;\n                    case 10: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MBTiles.prototype._openMBTile = function (buffer) {\n        try {\n            this._mbTilesReader = new MBTilesReader_1.default(buffer);\n            var attribution = this._mbTilesReader.attribution;\n            if (attribution) {\n                this.options.attribution = attribution;\n            }\n            var minZoom = this._mbTilesReader.minZoom;\n            if (minZoom) {\n                this.options.minZoom = minZoom;\n            }\n            var maxZoom = this._mbTilesReader.maxZoom;\n            if (maxZoom) {\n                this.options.maxZoom = maxZoom;\n            }\n            var format = this._mbTilesReader.format;\n            if (format) {\n                this._imageFormat = \"image/\".concat(format);\n            }\n            this.fire(MBTilesEvents.LOADED);\n        }\n        catch (err) {\n            this.fire(MBTilesEvents.ERROR, { error: err });\n        }\n    };\n    MBTiles.prototype._toggleEvents = function (bind) {\n        var _this = this;\n        if (bind === void 0) { bind = true; }\n        if (this._globalEvents === null) {\n            this._globalEvents = {\n                tileunload: function (event) {\n                    _this._revokeTile(event);\n                },\n                remove: function () {\n                    _this._shutdown();\n                },\n            };\n        }\n        for (var e in this._globalEvents) {\n            if (Object.prototype.hasOwnProperty.call(this._globalEvents, e)) {\n                this[bind ? 'on' : 'off'](e, this._globalEvents[e]);\n            }\n        }\n    };\n    MBTiles.prototype._revokeTile = function (event) {\n        if (event.tile && event.tile.src != L.Util.emptyImageUrl) {\n            URL.revokeObjectURL(event.tile.src);\n        }\n    };\n    MBTiles.prototype._shutdown = function () {\n        if (this._mbTilesReader && this._mbTilesReader.isLoaded) {\n            this._mbTilesReader.close();\n            this._toggleEvents(false);\n            this._mbTilesReader = null;\n        }\n        else {\n            this.on(MBTilesEvents.LOADED, this._shutdown);\n        }\n    };\n    return MBTiles;\n}(L.TileLayer));\nexports.default = MBTiles;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SQL = require(\"sql.js\");\nvar MBTilesReader = /** @class */ (function () {\n    function MBTilesReader(buffer) {\n        this.initialized = false;\n        var uInt8Array = new Uint8Array(buffer);\n        try {\n            this.db = new SQL.Database(uInt8Array);\n            this.metadataStmt = this.db.prepare('SELECT value FROM metadata WHERE name = :key');\n            this.tilesStmt = this.db.prepare('SELECT tile_data FROM tiles WHERE tile_column = :x AND tile_row = :y AND zoom_level = :z');\n            this.initialized = true;\n        }\n        catch (e) {\n            throw new Error(e);\n        }\n    }\n    Object.defineProperty(MBTilesReader.prototype, \"isLoaded\", {\n        get: function () {\n            return this.initialized;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MBTilesReader.prototype.getTile = function (x, y, z) {\n        var data = this.tilesStmt.getAsObject({\n            ':x': x,\n            ':y': y,\n            ':z': z,\n        });\n        return data && data.tile_data ? data.tile_data : null;\n    };\n    MBTilesReader.prototype.getMetadata = function (key) {\n        return this.metadataStmt.getAsObject({\n            ':key': key,\n        });\n    };\n    Object.defineProperty(MBTilesReader.prototype, \"attribution\", {\n        get: function () {\n            var value = this.getMetadata('attribution').value;\n            return value ? value.toString() : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"description\", {\n        get: function () {\n            var value = this.getMetadata('description').value;\n            return value ? value.toString() : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"center\", {\n        get: function () {\n            var value = this.getMetadata('center').value;\n            return value ? value.toString().split(',') : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"format\", {\n        get: function () {\n            var value = this.getMetadata('format').value;\n            return value ? value.toString() : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"bounds\", {\n        get: function () {\n            var value = this.getMetadata('bounds').value;\n            return value ? value.toString().split(',') : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"minZoom\", {\n        get: function () {\n            var value = this.getMetadata('minZoom').value;\n            return value ? Number(value) : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"maxZoom\", {\n        get: function () {\n            var value = this.getMetadata('maxZoom').value;\n            return value ? Number(value) : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBTilesReader.prototype, \"name\", {\n        get: function () {\n            var value = this.getMetadata('name').value;\n            return value ? value.toString() : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MBTilesReader.prototype.close = function () {\n        if (this.initialized) {\n            // this.metadataStmt.free();\n            // this.tilesStmt.free();\n            this.db.close();\n        }\n    };\n    return MBTilesReader;\n}());\nexports.default = MBTilesReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MBTilesEvents = exports.mbTiles = exports.MBTiles = void 0;\nvar MBTiles_1 = require(\"./MBTiles\");\n/**\n * A factory for L.TileLayer.MBTiles\n * @param {string | ArrayBuffer} urlOrData\n * @param {L.TileLayerOptions} opts\n * @returns {MBTiles}\n */\nvar _mbTiles = function (urlOrData, opts) {\n    return Reflect.construct(MBTiles_1.default, [urlOrData, opts]);\n};\nL.TileLayer.MBTiles = MBTiles_1.default;\nL.tileLayer.mbTiles = _mbTiles;\nexports.MBTiles = MBTiles_1.default;\nexports.mbTiles = _mbTiles;\nexports.MBTilesEvents = MBTiles_1.MBTilesEvents;\nexports.default = { MBTiles: exports.MBTiles, mbTiles: exports.mbTiles, MBTilesEvents: exports.MBTilesEvents };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils = /** @class */ (function () {\n    function Utils() {\n    }\n    Utils.fetchLocal = function (url) {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = 'arraybuffer';\n            xhr.onload = function () {\n                resolve(new Response(xhr.response, { status: xhr.status }));\n            };\n            xhr.onerror = function () {\n                reject(new Error('Local request failed'));\n            };\n            xhr.open('GET', url);\n            xhr.send(null);\n        });\n    };\n    return Utils;\n}());\nexports.default = Utils;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n"],"names":["charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","module","exports","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","isBuffer","obj","readFloatLE","slice","isSlowBuffer","_isBuffer","extendStatics","__extends","this","d","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","__","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","defineProperty","MBTilesEvents","L","MBTilesReader_1","utils_1","MBTiles","_super","urlOrData","options","_this","_mbTilesReader","_imageFormat","_globalEvents","_loadMBTiles","_toggleEvents","createTile","coords","tile","document","createElement","crossOrigin","alt","setAttribute","isLoaded","DomEvent","on","Util","bind","_tileOnLoad","_tileOnError","src","getTileUrl","LOADED","data","getTile","x","_globalTileRange","max","z","window","URL","createObjectURL","Blob","type","emptyImageUrl","_a","buffer","err_1","_b","Browser","android","default","fetchLocal","fetch","arrayBuffer","_openMBTile","fire","ERROR","error","ArrayBuffer","attribution","minZoom","maxZoom","format","concat","err","tileunload","event","_revokeTile","remove","_shutdown","revokeObjectURL","close","TileLayer","SQL","MBTilesReader","initialized","uInt8Array","Uint8Array","db","Database","metadataStmt","prepare","tilesStmt","Error","get","enumerable","configurable","getAsObject","tile_data","getMetadata","key","split","MBTiles_1","_mbTiles","opts","Reflect","construct","tileLayer","mbTiles","Utils","url","xhr","XMLHttpRequest","responseType","onload","Response","response","status","onerror","open","send","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","index","clear","entry","set","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Set","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","__data__","size","WeakMap","array","iteratee","predicate","resIndex","baseTimes","isArguments","isArray","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","values","offset"],"sourceRoot":""}