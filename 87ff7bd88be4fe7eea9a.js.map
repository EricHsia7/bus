{"version":3,"file":"87ff7bd88be4fe7eea9a.js","mappings":"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","sources":["webpack://bus/./src/interface/folder-icon-selector/index.ts","webpack://bus/./src/interface/bus/properties.ts","webpack://bus/./src/interface/bus/index.ts","webpack://bus/./src/index.ts","webpack://bus/./src/interface/folder-manager/index.ts","webpack://bus/./src/interface/data-usage/index.ts","webpack://bus/./src/interface/folder-editor/index.ts","webpack://bus/./src/interface/folder-creator/index.ts"],"sourcesContent":["import { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { deleteDataReceivingProgress } from '../../data/apis/loader';\nimport { prepareForMaterialSymbolsSearch, searchForMaterialSymbols } from '../../data/search/searchMaterialSymbols';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { containPhoneticSymbols } from '../../tools/text';\nimport { dataDownloadCompleted } from '../home/index';\nimport { getIconElement } from '../icons/index';\nimport { pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\ntype Target = 'editor' | 'creator' | '';\n\nlet currentTarget: Target = '';\n\nconst folderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst folderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst folderIconSelectorField = documentQuerySelector('.css_folder_icon_selector_field');\n\nfunction generateElementOfSymbol(symbol: string): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_folder_icon_selector_symbol');\n  element.onclick = function () {\n    selectFolderIcon(symbol, currentTarget);\n  };\n  element.appendChild(getIconElement(symbol));\n  return element;\n}\n\nasync function initializeFolderIconSelectorField() {\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  materialSymbolsElement.innerHTML = '';\n  const requestID = generateIdentifier();\n  const materialSymbols = await getMaterialSymbolsSearchIndex(requestID);\n  deleteDataReceivingProgress(requestID);\n  const fragment = new DocumentFragment();\n  const dictionary = materialSymbols.dictionary.split(',');\n  for (const symbolKey in materialSymbols.symbols) {\n    const symbolNameComponents = symbolKey.split('_');\n    for (let i = symbolNameComponents.length - 1; i >= 0; i--) {\n      symbolNameComponents.splice(i, 1, dictionary[parseInt(symbolNameComponents[i])]);\n    }\n    const symbol = symbolNameComponents.join('_');\n    const symbolElement = generateElementOfSymbol(symbol, currentTarget);\n    fragment.appendChild(symbolElement);\n  }\n  materialSymbolsElement.append(fragment);\n}\n\nexport function updateMaterialSymbolsSearchResult(query: string): void {\n  const materialSymbolsSearchResultsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols_search_results');\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  if (!containPhoneticSymbols(query)) {\n    const searchResults = searchForMaterialSymbols(query);\n    const fragment = new DocumentFragment();\n    for (const result of searchResults) {\n      const symbolElement = generateElementOfSymbol(result.item, currentTarget);\n      fragment.appendChild(symbolElement);\n    }\n    materialSymbolsSearchResultsElement.innerHTML = '';\n    materialSymbolsSearchResultsElement.append(fragment);\n    materialSymbolsSearchResultsElement.setAttribute('displayed', searchResults.length > 0 ? 'true' : 'false');\n    materialSymbolsElement.setAttribute('displayed', searchResults.length > 0 ? 'false' : 'true');\n  }\n}\n\nexport function selectFolderIcon(symbol: string): void {\n  let iconInputElement;\n  switch (currentTarget) {\n    case 'editor':\n      iconInputElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input');\n      break;\n    case 'creator':\n      iconInputElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\n      break;\n    default:\n      break;\n  }\n  iconInputElement.value = symbol;\n  closeFolderIconSelector();\n}\n\nexport function openFolderIconSelector(target: Target): void {\n  pushPageHistory('FolderIconSelector');\n  var openFolderIconSelectorElement;\n  switch (target) {\n    case 'editor':\n      currentTarget = 'editor';\n      openFolderIconSelectorElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\n      break;\n    case 'creator':\n      currentTarget = 'creator';\n      openFolderIconSelectorElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n      break;\n    default:\n      break;\n  }\n  if (dataDownloadCompleted) {\n    folderIconSelectorField.setAttribute('displayed', 'true');\n    initializeFolderIconSelectorField(currentTarget);\n    prepareForMaterialSymbolsSearch();\n  } else {\n    promptMessage('download_for_offline', '資料還在下載中');\n  }\n}\n\nexport function closeFolderIconSelector(): void {\n  revokePageHistory('FolderIconSelector');\n  folderIconSelectorField.setAttribute('displayed', 'false');\n}\n","import { integratedBus } from '../../data/bus/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentCreateDivElement, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { compareThings } from '../../tools/index';\nimport { getBlankIconElement, setIcon } from '../icons/index';\nimport { BusPropertiesGroupBodyElement } from './index';\n\nlet previousProperties = [];\nlet previousSkeletonScreen: boolean = false;\nlet previousAnimation: boolean = false;\n\nfunction generateElementOfBusProperty(): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_bus_property');\n\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_bus_property_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  const valueElement = documentCreateDivElement();\n  valueElement.classList.add('css_bus_property_value');\n\n  element.appendChild(iconElement);\n  element.appendChild(valueElement);\n\n  return element;\n}\n\nexport function setUpBusPropertiesFieldSkeletonScreen() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  let properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: '',\n      value: ''\n    });\n  }\n  updateBusPropertiesField(properties, true, playing_animation);\n}\n\nexport function updateBusPropertiesField(properties: integratedBus['properties'], skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      const thisPropertyIconElement = elementQuerySelector(thisElement, '.css_bus_property_icon');\n      setIcon(thisPropertyIconElement, thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', animation);\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', skeletonScreen);\n    }\n\n    if (previousProperty === null || previousProperty === undefined) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n  const propertyElements = Array.from(elementQuerySelectorAll(BusPropertiesGroupBodyElement, '.css_bus_property'));\n  const currentPropertyElementsLength = propertyElements.length;\n  if (propertyQuantity !== currentPropertyElementsLength) {\n    const difference = currentPropertyElementsLength - propertyQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newPropertyElement = generateElementOfBusProperty(skeletonScreen);\n        fragment.appendChild(newPropertyElement);\n        propertyElements.push(newPropertyElement);\n      }\n      BusPropertiesGroupBodyElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentPropertyElementsLength - 1, q = currentPropertyElementsLength - difference - 1; p > q; p--) {\n        propertyElements[p].remove();\n        propertyElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties[i]) {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { integrateBus } from '../../data/bus/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { setUpBusPropertiesFieldSkeletonScreen, updateBusPropertiesField } from './properties';\n\nexport const BusField = documentQuerySelector('.css_bus_field');\nexport const BusHeadElement = elementQuerySelector(BusField, '.css_bus_head');\nexport const BusBodyElement = elementQuerySelector(BusField, '.css_bus_body');\nexport const BusGroupsElement = elementQuerySelector(BusBodyElement, '.css_bus_groups');\nexport const BusPropertiesGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"properties\"]');\nexport const BusPropertiesGroupBodyElement = elementQuerySelector(BusPropertiesGroupElement, '.css_bus_group_body');\nexport const BusLocationGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"location\"]');\n\nexport function openBus(id: number): void {\n  pushPageHistory('Bus');\n  logRecentView('bus', id);\n  BusField.setAttribute('displayed', 'true');\n  initializeBusPage(id);\n  closePreviousPage();\n}\n\nexport function closeBus(): void {\n  // revokePageHistory('Bus');\n  BusField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nasync function initializeBusPage(id: number) {\n  setUpBusPropertiesFieldSkeletonScreen();\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const integration = await integrateBus(id, requestID);\n  updateBusPropertiesField(integration.properties, false, playing_animation);\n}\n\nfunction updateBusField(integration: object, skeletonScreen: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisItem: object): void {}\n  function updateLocation(thisElement: HTMLElement, thisItem: object): void {}\n}\n","import { recoverBusArrivalTimeDataFromWriteAheadLog } from './data/analytics/bus-arrival-time/index';\r\nimport { discardExpiredDataUsageStats } from './data/analytics/data-usage/index';\r\nimport { discardUpdateRateDataGroups, initializeUpdateRateDataGroups, recoverUpdateRateDataFromWriteAheadLog } from './data/analytics/update-rate/index';\r\nimport { initializeFolderList } from './data/folder/index';\r\nimport { discardExpiredNotificationSchedules, initializeNotificationSchedules, loadNotificationClient } from './data/notification/index';\r\nimport { discardExpiredRecentViews } from './data/recent-views/index';\r\nimport { initializeSettings } from './data/settings/index';\r\nimport { checkAppVersion } from './data/settings/version';\r\nimport { askForCalibratingPermission } from './data/user-orientation/index';\r\nimport { askForPositioningPermission } from './data/user-position/index';\r\nimport { closeBus } from './interface/bus/index';\r\nimport { closeDataUsage } from './interface/data-usage/index';\r\nimport { closeFolderCreator, createFormulatedFolder, openFolderCreator } from './interface/folder-creator/index';\r\nimport { closeFolderIconSelector, updateMaterialSymbolsSearchResult } from './interface/folder-icon-selector/index';\r\nimport { closeFolderManager } from './interface/folder-manager/index';\r\nimport { initializeFolders, setUpFolderFieldSkeletonScreen } from './interface/home/folders/index';\r\nimport { downloadData } from './interface/home/index';\r\nimport { initializeRecentViews, setUpRecentViewsFieldSkeletonScreen } from './interface/home/recent-views/index';\r\nimport { fadeOutSplashScreen, setSplashScreenIconOffsetY, showErrorMessage } from './interface/index';\r\nimport { closeLocationDetails } from './interface/location/details/index';\r\nimport { closeLocation, initializeLocationSliding } from './interface/location/index';\r\nimport { closeNotificationScheduleManager } from './interface/notification-schedule-manager/index';\r\nimport { closePersonalScheduleCreator, createFormulatedPersonalSchedule, openPersonalScheduleCreator, switchPersonalScheduleCreatorDay } from './interface/personal-schedule-creator/index';\r\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor, saveEditedPersonalSchedule, switchPersonalScheduleEditorDay } from './interface/personal-schedule-editor/index';\r\nimport { closePersonalScheduleManager } from './interface/personal-schedule-manager/index';\r\nimport { closeQRCode } from './interface/qrcode/index';\r\nimport { closeRegisterNotification, openRegisterNotification, saveFormulatedRegisterNotification } from './interface/register-notification/index';\r\nimport { closeRouteDetails } from './interface/route/details/index';\r\nimport { closeRoute, initializeRouteSliding } from './interface/route/index';\r\nimport { closeSaveToFolder } from './interface/save-to-folder/index';\r\nimport { closeScheduleNotification } from './interface/schedule-notification/index';\r\nimport { closeSearch, initializeSearchInput, openSearch, resizeSearchInputSVG, switchSearchTypeFilter } from './interface/search/index';\r\nimport { closeSettings, openSettings } from './interface/settings/index';\r\nimport { closeSettingsOptions } from './interface/settings/options';\r\nimport { closeStorage } from './interface/storage/index';\r\nimport { openPermalink } from './tools/permalink';\r\nimport { documentQuerySelector } from './tools/elements';\r\n\r\nimport './interface/theme.css';\r\n\r\nimport './interface/index.css';\r\n\r\nimport './interface/icons/index.css';\r\n\r\nimport './interface/animation.css';\r\n\r\nimport './interface/home/field.css';\r\nimport './interface/home/head.css';\r\nimport './interface/home/body.css';\r\n\r\nimport './interface/home/recent-views/recent-views.css';\r\nimport './interface/home/recent-views/item.css';\r\n\r\nimport './interface/home/folders/folders.css';\r\nimport './interface/home/folders/item.css';\r\n\r\nimport './interface/search/field.css';\r\nimport './interface/search/head.css';\r\nimport './interface/search/body.css';\r\nimport './interface/search/keyboard.css';\r\n\r\nimport './interface/route/field.css';\r\nimport './interface/route/head.css';\r\nimport './interface/route/groups.css';\r\nimport './interface/route/item.css';\r\nimport './interface/route/thread.css';\r\nimport './interface/route/index.css';\r\n\r\nimport './interface/route/details/field.css';\r\nimport './interface/route/details/head.css';\r\nimport './interface/route/details/body.css';\r\nimport './interface/route/details/groups.css';\r\nimport './interface/route/details/actions.css';\r\nimport './interface/route/details/properties.css';\r\nimport './interface/route/details/calendar.css';\r\n\r\nimport './interface/location/field.css';\r\nimport './interface/location/head.css';\r\nimport './interface/location/groups.css';\r\nimport './interface/location/group-details.css';\r\nimport './interface/location/group-items.css';\r\nimport './interface/location/index.css';\r\n\r\nimport './interface/location/details/field.css';\r\nimport './interface/location/details/head.css';\r\nimport './interface/location/details/body.css';\r\nimport './interface/location/details/actions.css';\r\nimport './interface/location/details/index.css';\r\n\r\nimport './interface/bus/field.css';\r\nimport './interface/bus/head.css';\r\nimport './interface/bus/body.css';\r\nimport './interface/bus/groups.css';\r\nimport './interface/bus/properties.css';\r\n\r\nimport './interface/settings/field.css';\r\nimport './interface/settings/head.css';\r\nimport './interface/settings/body.css';\r\nimport './interface/settings/items.css';\r\nimport './interface/settings/index.css';\r\n\r\nimport './interface/save-to-folder/field.css';\r\nimport './interface/save-to-folder/head.css';\r\nimport './interface/save-to-folder/body.css';\r\nimport './interface/save-to-folder/list.css';\r\nimport './interface/save-to-folder/item.css';\r\n\r\nimport './interface/folder-manager/field.css';\r\nimport './interface/folder-manager/head.css';\r\nimport './interface/folder-manager/body.css';\r\nimport './interface/folder-manager/list.css';\r\nimport './interface/folder-manager/item.css';\r\n\r\nimport './interface/folder-editor/field.css';\r\nimport './interface/folder-editor/head.css';\r\nimport './interface/folder-editor/body.css';\r\nimport './interface/folder-editor/groups.css';\r\nimport './interface/folder-editor/folder-name.css';\r\nimport './interface/folder-editor/folder-icon.css';\r\nimport './interface/folder-editor/folder-content.css';\r\n\r\nimport './interface/folder-creator/field.css';\r\nimport './interface/folder-creator/head.css';\r\nimport './interface/folder-creator/body.css';\r\nimport './interface/folder-creator/groups.css';\r\nimport './interface/folder-creator/folder-name.css';\r\nimport './interface/folder-creator/folder-icon.css';\r\n\r\nimport './interface/folder-icon-selector/field.css';\r\nimport './interface/folder-icon-selector/head.css';\r\nimport './interface/folder-icon-selector/body.css';\r\nimport './interface/folder-icon-selector/symbols.css';\r\n\r\nimport './interface/personal-schedule-manager/field.css';\r\nimport './interface/personal-schedule-manager/head.css';\r\nimport './interface/personal-schedule-manager/body.css';\r\nimport './interface/personal-schedule-manager/list.css';\r\nimport './interface/personal-schedule-manager/item.css';\r\n\r\nimport './interface/personal-schedule-creator/field.css';\r\nimport './interface/personal-schedule-creator/head.css';\r\nimport './interface/personal-schedule-creator/body.css';\r\nimport './interface/personal-schedule-creator/groups.css';\r\nimport './interface/personal-schedule-creator/schedule-name.css';\r\nimport './interface/personal-schedule-creator/schedule-start-time.css';\r\nimport './interface/personal-schedule-creator/schedule-end-time.css';\r\nimport './interface/personal-schedule-creator/schedule-days.css';\r\n\r\nimport './interface/personal-schedule-editor/field.css';\r\nimport './interface/personal-schedule-editor/head.css';\r\nimport './interface/personal-schedule-editor/body.css';\r\nimport './interface/personal-schedule-editor/groups.css';\r\nimport './interface/personal-schedule-editor/schedule-name.css';\r\nimport './interface/personal-schedule-editor/schedule-start-time.css';\r\nimport './interface/personal-schedule-editor/schedule-end-time.css';\r\nimport './interface/personal-schedule-editor/schedule-days.css';\r\n\r\nimport './interface/notification-schedule-manager/field.css';\r\nimport './interface/notification-schedule-manager/head.css';\r\nimport './interface/notification-schedule-manager/body.css';\r\nimport './interface/notification-schedule-manager/list.css';\r\nimport './interface/notification-schedule-manager/item.css';\r\n\r\nimport './interface/register-notification/field.css';\r\nimport './interface/register-notification/head.css';\r\nimport './interface/register-notification/body.css';\r\nimport './interface/register-notification/groups.css';\r\nimport './interface/register-notification/provider.css';\r\nimport './interface/register-notification/registration-key.css';\r\n\r\nimport './interface/schedule-notification/field.css';\r\nimport './interface/schedule-notification/head.css';\r\nimport './interface/schedule-notification/body.css';\r\nimport './interface/schedule-notification/list.css';\r\nimport './interface/schedule-notification/item.css';\r\n\r\nimport './interface/data-usage/field.css';\r\nimport './interface/data-usage/head.css';\r\nimport './interface/data-usage/body.css';\r\nimport './interface/data-usage/chart.css';\r\nimport './interface/data-usage/statistics.css';\r\n\r\nimport './interface/storage/field.css';\r\nimport './interface/storage/head.css';\r\nimport './interface/storage/body.css';\r\nimport './interface/storage/statistics.css';\r\nimport './interface/storage/index.css';\r\n\r\nimport './interface/qrcode/field.css';\r\nimport './interface/qrcode/head.css';\r\nimport './interface/qrcode/body.css';\r\nimport './interface/qrcode/qrcode.css';\r\n\r\nimport './interface/prompt/index.css';\r\n\r\nlet busInitialized = false;\r\nlet busSecondlyInitialized = false;\r\n\r\nwindow.bus = {\r\n  initialize: function () {\r\n    if (busInitialized === false) {\r\n      busInitialized = true;\r\n      setSplashScreenIconOffsetY();\r\n      initializeSettings().then(function () {\r\n        setUpRecentViewsFieldSkeletonScreen();\r\n        setUpFolderFieldSkeletonScreen();\r\n        checkAppVersion()\r\n          .then((status) => {\r\n            if (status === 'ok') {\r\n              initializeRouteSliding();\r\n              initializeLocationSliding();\r\n              resizeSearchInputSVG();\r\n              window.addEventListener('resize', () => {\r\n                resizeSearchInputSVG();\r\n              });\r\n              if (screen) {\r\n                if (screen.orientation) {\r\n                  screen.orientation.addEventListener('change', () => {\r\n                    resizeSearchInputSVG();\r\n                  });\r\n                }\r\n              }\r\n              initializeRecentViews();\r\n              initializeFolderList().then(() => {\r\n                initializeFolders();\r\n              });\r\n              initializeSearchInput();\r\n              const searchMaterialSymbolsInputElement = documentQuerySelector('.css_folder_icon_selector_field .css_folder_icon_selector_head .css_folder_icon_selector_search_input #search_material_symbols_input') as HTMLInputElement;\r\n              searchMaterialSymbolsInputElement.addEventListener('paste', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('cut', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              document.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('keyup', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              openPermalink();\r\n              fadeOutSplashScreen(function () {\r\n                loadNotificationClient();\r\n                initializeNotificationSchedules().then(function () {\r\n                  discardExpiredNotificationSchedules();\r\n                });\r\n                document.addEventListener(\r\n                  'click',\r\n                  function () {\r\n                    askForPositioningPermission();\r\n                    askForCalibratingPermission();\r\n                  },\r\n                  { once: true }\r\n                );\r\n              });\r\n            }\r\n            if (status === 'fetchError' || status === 'unknownError') {\r\n              showErrorMessage();\r\n              fadeOutSplashScreen();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            showErrorMessage();\r\n            fadeOutSplashScreen();\r\n          });\r\n      });\r\n    }\r\n  },\r\n  secondlyInitialize: function () {\r\n    if (!busSecondlyInitialized) {\r\n      busSecondlyInitialized = true;\r\n      downloadData();\r\n      discardExpiredDataUsageStats();\r\n      recoverBusArrivalTimeDataFromWriteAheadLog();\r\n      discardExpiredRecentViews();\r\n      discardUpdateRateDataGroups().then(function () {\r\n        initializeUpdateRateDataGroups().then(function () {\r\n          recoverUpdateRateDataFromWriteAheadLog();\r\n        });\r\n      });\r\n    }\r\n  },\r\n  route: {\r\n    closeRoute,\r\n    closeRouteDetails\r\n  },\r\n  location: {\r\n    closeLocation,\r\n    closeLocationDetails\r\n  },\r\n  folder: {\r\n    closeSaveToFolder,\r\n    closeFolderManager,\r\n    closeFolderIconSelector,\r\n    openFolderCreator,\r\n    closeFolderCreator,\r\n    createFormulatedFolder\r\n  },\r\n  search: {\r\n    openSearch,\r\n    closeSearch,\r\n    switchSearchTypeFilter\r\n  },\r\n  storage: {\r\n    closeStorage\r\n  },\r\n  dataUsage: {\r\n    closeDataUsage\r\n  },\r\n  personalSchedule: {\r\n    closePersonalScheduleManager,\r\n    openPersonalScheduleCreator,\r\n    closePersonalScheduleCreator,\r\n    createFormulatedPersonalSchedule,\r\n    switchPersonalScheduleCreatorDay,\r\n    openPersonalScheduleEditor,\r\n    closePersonalScheduleEditor,\r\n    switchPersonalScheduleEditorDay,\r\n    saveEditedPersonalSchedule\r\n  },\r\n  settings: {\r\n    openSettings,\r\n    closeSettings,\r\n    closeSettingsOptions\r\n  },\r\n  bus: {\r\n    closeBus\r\n  },\r\n  notification: {\r\n    closeNotificationScheduleManager,\r\n    openRegisterNotification,\r\n    closeRegisterNotification,\r\n    saveFormulatedRegisterNotification,\r\n    closeScheduleNotification\r\n  },\r\n  qrcode: {\r\n    closeQRCode\r\n  }\r\n};\r\n\r\nexport default window.bus;\r\n","import { FolderWithContentLength, listFoldersWithContentLength } from '../../data/folder/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderEditor } from '../folder-editor/index';\nimport { getIconElement } from '../icons/index';\nimport { pushPageHistory, revokePageHistory } from '../index';\n\nconst FolderManagerField = documentQuerySelector('.css_folder_manager_field');\nconst FolderManagerBodyElement = elementQuerySelector(FolderManagerField, '.css_folder_manager_body');\nconst FolderManagerFolderListElement = elementQuerySelector(FolderManagerBodyElement, '.css_folder_manager_folder_list');\n\nfunction generateElementOfItem(item: FolderWithContentLength): HTMLElement {\n  // Main container\n  const folderItemElement = documentCreateDivElement();\n  folderItemElement.classList.add('css_folder_manager_folder_item');\n  folderItemElement.onclick = () => {\n    openFolderEditor(item.id);\n  };\n\n  // Icon\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_folder_manager_folder_item_icon');\n  iconElement.appendChild(getIconElement(item.icon));\n\n  // Name\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_folder_manager_folder_item_name');\n  nameElement.innerText = item.name;\n\n  // Status\n  const statusElement = documentCreateDivElement();\n  statusElement.classList.add('css_folder_manager_folder_item_status');\n  statusElement.innerText = String(item.contentLength);\n\n  // Arrow\n  const arrowElement = documentCreateDivElement();\n  arrowElement.classList.add('css_folder_manager_folder_item_arrow');\n  arrowElement.appendChild(getIconElement('arrow_forward_ios'));\n\n  // Assemble\n  folderItemElement.appendChild(iconElement);\n  folderItemElement.appendChild(nameElement);\n  folderItemElement.appendChild(statusElement);\n  folderItemElement.appendChild(arrowElement);\n\n  return folderItemElement;\n}\n\nasync function initializeFolderManagerField() {\n  const foldersWithContent = await listFoldersWithContentLength();\n  FolderManagerFolderListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of foldersWithContent) {\n    const newItemElement = generateElementOfItem(item);\n    fragment.appendChild(newItemElement);\n  }\n  FolderManagerFolderListElement.append(fragment);\n}\n\nexport function openFolderManager(): void {\n  pushPageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'true');\n  initializeFolderManagerField();\n  // closePreviousPage();\n}\n\nexport function closeFolderManager(): void {\n  revokePageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'false');\n  // openPreviousPage();\n}\n","import { getDataUsageStats } from '../../data/analytics/data-usage/index';\nimport { convertBytes } from '../../tools/convert';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { dateToString } from '../../tools/time';\nimport { closePreviousPage, openPreviousPage, pushPageHistory, querySize } from '../index';\n\nconst dataUsageField = documentQuerySelector('.css_data_usage_field');\nconst dataUsageBodyElement = elementQuerySelector(dataUsageField, '.css_data_usage_body');\nconst chartElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_chart');\nconst statisticsElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_statistics');\nconst totalDataUsageElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"total-data-usage\"] .css_data_usage_statistics_item_value');\nconst maxDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"max-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst minDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"min-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst startTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"start-time\"] .css_data_usage_statistics_item_value');\nconst endTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"end-time\"] .css_data_usage_statistics_item_value');\n\nasync function initializeDataUsage() {\n  const WindowSize = querySize('window');\n  const graphWidth = WindowSize.width;\n  const graphHeight = Math.min((5 / 18) * graphWidth, WindowSize.height * 0.33);\n  const stats = await getDataUsageStats(graphWidth, graphHeight, 20);\n  totalDataUsageElement.innerText = convertBytes(stats.stats.sum);\n  maxDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.max);\n  minDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.min);\n  startTimeElement.innerText = dateToString(stats.period.start, 'YYYY-MM-DD');\n  endTimeElement.innerText = dateToString(stats.period.end, 'YYYY-MM-DD');\n  chartElement.innerHTML = stats.chart;\n}\n\nexport function openDataUsage(): void {\n  pushPageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'true');\n  initializeDataUsage();\n  closePreviousPage();\n}\n\nexport function closeDataUsage(): void {\n  // revokePageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n","import { Folder, FolderContent, getFolder, listFolderContent, removeFromFolder, updateFolder, updateFolderContentIndex } from '../../data/folder/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { getIconElement } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst FolderEditorHeadElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_head');\nconst LeftButtonElement = elementQuerySelector(FolderEditorHeadElement, '.css_folder_editor_button_left');\nconst FolderEditorBodyElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_body');\nconst FolderEditorGroupsElement = elementQuerySelector(FolderEditorBodyElement, '.css_folder_editor_groups');\nconst NameInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-name\"] .css_folder_editor_group_body input') as HTMLInputElement;\nconst IconInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input') as HTMLInputElement;\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\nconst FolderContentElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('editor');\n};\n\nfunction generateElementOfItem(folder: Folder, item: FolderContent): HTMLElement {\n  // Main container\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_folder_editor_folder_item');\n  itemElement.setAttribute('type', item.type);\n\n  // Icon, context, main text\n  let context = '';\n  let main = '';\n  let icon: MaterialSymbols = '';\n  switch (item.type) {\n    case 'stop':\n      icon = 'location_on';\n      context = `${item.route ? item.route.name : ''} - 往${item.route ? [item.route.endPoints.destination, item.route.endPoints.departure, ''][item.direction ? item.direction : 0] : ''}`;\n      main = item.name;\n      break;\n    case 'route':\n      icon = 'route';\n      context = `${item.endPoints.departure} \\u2194 ${item.endPoints.destination}`;\n      main = item.name;\n      break;\n    case 'location':\n      icon = 'location_on';\n      context = '地點';\n      main = item.name;\n      break;\n    case 'bus':\n      context = '';\n      main = item.name;\n      break;\n    case 'empty':\n      icon = 'lightbulb';\n      context = '提示';\n      main = '沒有內容';\n      break;\n    default:\n      icon = '';\n      context = 'null';\n      main = 'null';\n      break;\n  }\n\n  // Icon element\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_folder_editor_folder_item_icon');\n  iconElement.appendChild(getIconElement(icon));\n\n  // Context element\n  const contextElement = documentCreateDivElement();\n  contextElement.classList.add('css_folder_editor_folder_item_context');\n  contextElement.innerText = context;\n\n  // Main element\n  const mainElement = documentCreateDivElement();\n  mainElement.classList.add('css_folder_editor_folder_item_main');\n  mainElement.innerText = main;\n\n  // Capsule element\n  const capsuleElement = documentCreateDivElement();\n  capsuleElement.classList.add('css_folder_editor_folder_item_capsule');\n\n  // Sort up control\n  const sortUpElement = documentCreateDivElement();\n  sortUpElement.classList.add('css_folder_editor_folder_item_sort_control_up');\n  sortUpElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortUpElement.onclick = () => {\n    moveItemOnFolderEditor(itemElement, folder.id, item.type, item.id, 'up');\n  };\n\n  // Sort down control\n  const sortDownElement = documentCreateDivElement();\n  sortDownElement.classList.add('css_folder_editor_folder_item_sort_control_down');\n  sortDownElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortDownElement.onclick = () => {\n    moveItemOnFolderEditor(itemElement, folder.id, item.type, item.id, 'down');\n  };\n\n  // Delete control\n  const deleteElement = documentCreateDivElement();\n  deleteElement.classList.add('css_folder_editor_folder_item_delete');\n  deleteElement.appendChild(getIconElement('delete'));\n  deleteElement.onclick = () => {\n    removeItemOnFolderEditor(itemElement, folder.id, item.type, item.id);\n  };\n\n  // Capsule separators\n  const separator1Element = documentCreateDivElement();\n  separator1Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n  const separator2Element = documentCreateDivElement();\n  separator2Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(sortUpElement);\n  capsuleElement.appendChild(sortDownElement);\n  capsuleElement.appendChild(deleteElement);\n  capsuleElement.appendChild(separator1Element);\n  capsuleElement.appendChild(separator2Element);\n\n  // Assemble main item\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(contextElement);\n  itemElement.appendChild(mainElement);\n  itemElement.appendChild(capsuleElement);\n\n  return itemElement;\n}\n\nfunction updateFolderEditorField(folder: Folder, content: Array<FolderContent>): void {\n  NameInputElement.value = folder.name;\n  IconInputElement.value = folder.icon;\n\n  LeftButtonElement.onclick = function () {\n    saveEditedFolder(folder.id);\n  };\n\n  FolderContentElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of content) {\n    const thisItemElement = generateElementOfItem(folder, item);\n    fragment.appendChild(thisItemElement);\n  }\n  FolderContentElement.append(fragment);\n}\n\nasync function initializeFolderEditorField(folderID: string) {\n  // TODO: add skeleton screen\n  const folder = getFolder(folderID);\n  const content = await listFolderContent(folderID);\n  updateFolderEditorField(folder, content);\n}\n\nexport function openFolderEditor(folderID: string): void {\n  pushPageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'true');\n  initializeFolderEditorField(folderID);\n  closePreviousPage();\n}\n\nexport function closeFolderEditor(): void {\n  // revokePageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nexport function removeItemOnFolderEditor(itemElement: HTMLElement, folderID: Folder['id'], type: FolderContent['type'], id: number): void {\n  removeFromFolder(folderID, type, id).then((e) => {\n    if (e) {\n      itemElement.remove();\n      switch (type) {\n        case 'stop':\n          promptMessage('delete', '已移除站牌');\n          break;\n        case 'route':\n          promptMessage('delete', '已移除路線');\n          break;\n        case 'location':\n          promptMessage('delete', '已移除地點');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移除');\n    }\n  });\n}\n\nexport function moveItemOnFolderEditor(itemElement: HTMLElement, folderID: Folder['id'], type: FolderContent['type'], id: FolderContent['id'], direction: 'up' | 'down'): void {\n  updateFolderContentIndex(folderID, type, id, direction).then((e) => {\n    if (e) {\n      switch (direction) {\n        case 'up':\n          const previousSibling = itemElement.previousElementSibling;\n          if (previousSibling) {\n            itemElement.parentNode.insertBefore(itemElement, previousSibling);\n          }\n          promptMessage('arrow_circle_up', '已往上移');\n          break;\n        case 'down':\n          const nextSibling = itemElement.nextElementSibling;\n          if (nextSibling) {\n            itemElement.parentNode.insertBefore(nextSibling, itemElement);\n          }\n          promptMessage('arrow_circle_down', '已往下移');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移動');\n    }\n  });\n}\n\nexport function saveEditedFolder(folderID: string): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  updateFolder(folderID, name, icon).then(function (e) {\n    if (e) {\n      closeFolderEditor();\n      promptMessage('check_circle', '已儲存變更');\n    } else {\n      promptMessage('error', '無法儲存');\n    }\n  });\n}\n","import { createFolder } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst FolderCreatorBodyElement = elementQuerySelector(FolderCreatorField, '.css_folder_creator_body');\nconst FolderCreatorGroupsElement = elementQuerySelector(FolderCreatorBodyElement, '.css_folder_creator_groups');\nconst NameInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-name\"] .css_folder_creator_group_body input');\nconst IconInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_field .css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('creator');\n};\n\nexport function createFormulatedFolder(): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  createFolder(name, icon).then((e) => {\n    if (e) {\n      closeFolderCreator();\n      promptMessage('folder', '已建立資料夾');\n    } else {\n      promptMessage('error', '無法建立資料夾');\n    }\n  });\n}\n\nexport function openFolderCreator(): void {\n  pushPageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'true');\n  closePreviousPage();\n}\n\nexport function closeFolderCreator(): void {\n  // revokePageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n"],"names":["currentTarget","folderEditorField","documentQuerySelector","folderCreatorField","folderIconSelectorField","generateElementOfSymbol","symbol","element","documentCreateDivElement","classList","add","onclick","iconInputElement","elementQuerySelector","value","closeFolderIconSelector","selectFolderIcon","appendChild","getIconElement","_initializeFolderIconSelectorField","_asyncToGenerator","materialSymbolsElement","innerHTML","requestID","generateIdentifier","materialSymbols","getMaterialSymbolsSearchIndex","deleteDataReceivingProgress","fragment","DocumentFragment","dictionary","split","symbolKey","symbols","symbolNameComponents","i","length","splice","parseInt","symbolElement","join","append","apply","arguments","updateMaterialSymbolsSearchResult","query","materialSymbolsSearchResultsElement","containPhoneticSymbols","searchResults","searchForMaterialSymbols","result","item","setAttribute","openFolderIconSelector","target","pushPageHistory","dataDownloadCompleted","initializeFolderIconSelectorField","prepareForMaterialSymbolsSearch","promptMessage","revokePageHistory","previousProperties","previousSkeletonScreen","previousAnimation","generateElementOfBusProperty","iconElement","getBlankIconElement","valueElement","updateBusPropertiesField","properties","skeletonScreen","animation","updateProperty","thisElement","thisProperty","previousProperty","updateIcon","thisPropertyIconElement","setIcon","icon","updateValue","innerText","updateAnimation","updateSkeletonScreen","compareThings","propertyQuantity","propertyElements","Array","from","elementQuerySelectorAll","BusPropertiesGroupBodyElement","currentPropertyElementsLength","difference","o","newPropertyElement","push","p","q","remove","thisPropertyElement","BusField","BusBodyElement","BusGroupsElement","BusPropertiesGroupElement","openBus","id","logRecentView","_x","_initializeBusPage","initializeBusPage","closePreviousPage","closeBus","openPreviousPage","playing_animation","getSettingOptionValue","key","setUpBusPropertiesFieldSkeletonScreen","integrateBus","busInitialized","busSecondlyInitialized","window","bus","initialize","setSplashScreenIconOffsetY","initializeSettings","then","setUpRecentViewsFieldSkeletonScreen","setUpFolderFieldSkeletonScreen","checkAppVersion","status","initializeRouteSliding","initializeLocationSliding","resizeSearchInputSVG","addEventListener","screen","orientation","initializeRecentViews","initializeFolderList","initializeFolders","initializeSearchInput","searchMaterialSymbolsInputElement","document","openPermalink","fadeOutSplashScreen","loadNotificationClient","initializeNotificationSchedules","discardExpiredNotificationSchedules","askForPositioningPermission","askForCalibratingPermission","once","showErrorMessage","secondlyInitialize","downloadData","discardExpiredDataUsageStats","recoverBusArrivalTimeDataFromWriteAheadLog","discardExpiredRecentViews","discardUpdateRateDataGroups","initializeUpdateRateDataGroups","recoverUpdateRateDataFromWriteAheadLog","route","closeRoute","closeRouteDetails","location","closeLocation","closeLocationDetails","folder","closeSaveToFolder","closeFolderManager","openFolderCreator","closeFolderCreator","createFormulatedFolder","search","openSearch","closeSearch","switchSearchTypeFilter","storage","closeStorage","dataUsage","closeDataUsage","personalSchedule","closePersonalScheduleManager","openPersonalScheduleCreator","closePersonalScheduleCreator","createFormulatedPersonalSchedule","switchPersonalScheduleCreatorDay","openPersonalScheduleEditor","closePersonalScheduleEditor","switchPersonalScheduleEditorDay","saveEditedPersonalSchedule","settings","openSettings","closeSettings","closeSettingsOptions","notification","closeNotificationScheduleManager","openRegisterNotification","closeRegisterNotification","saveFormulatedRegisterNotification","closeScheduleNotification","qrcode","closeQRCode","FolderManagerField","FolderManagerBodyElement","FolderManagerFolderListElement","generateElementOfItem","folderItemElement","openFolderEditor","nameElement","name","statusElement","String","contentLength","arrowElement","_initializeFolderManagerField","foldersWithContent","listFoldersWithContentLength","newItemElement","openFolderManager","initializeFolderManagerField","dataUsageField","dataUsageBodyElement","chartElement","statisticsElement","totalDataUsageElement","maxDataUsagePerMinuteElement","minDataUsagePerMinuteElement","startTimeElement","endTimeElement","_initializeDataUsage","WindowSize","querySize","graphWidth","width","graphHeight","Math","min","height","stats","getDataUsageStats","convertBytes","sum","max","dateToString","period","start","end","chart","openDataUsage","initializeDataUsage","FolderEditorField","FolderEditorHeadElement","LeftButtonElement","FolderEditorBodyElement","FolderEditorGroupsElement","NameInputElement","IconInputElement","OpenFolderIconSelectorElement","FolderContentElement","itemElement","type","context","main","endPoints","destination","departure","direction","contextElement","mainElement","capsuleElement","sortUpElement","moveItemOnFolderEditor","sortDownElement","deleteElement","folderID","removeFromFolder","e","removeItemOnFolderEditor","separator1Element","separator2Element","updateFolderEditorField","content","updateFolder","closeFolderEditor","thisItemElement","_initializeFolderEditorField","getFolder","listFolderContent","initializeFolderEditorField","updateFolderContentIndex","previousSibling","previousElementSibling","parentNode","insertBefore","nextSibling","nextElementSibling","FolderCreatorField","FolderCreatorBodyElement","FolderCreatorGroupsElement","createFolder"],"ignoreList":[],"sourceRoot":""}