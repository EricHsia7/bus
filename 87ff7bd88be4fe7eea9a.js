"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[196],{6189(e,a,n){n.d(a,{a:()=>C,b:()=>k,c:()=>w});var t=n(10467),i=(n(23792),n(48598),n(54554),n(58940),n(47764),n(62953),n(29218)),r=n(56788),o=n(20972),c=n(38179),d=n(98024),s=n(84781),l=n(16082),u=n(54537),p=n(30904),f=n(59119),h="",b=(0,c.c)(".bc"),v=(0,c.c)("._c"),g=(0,c.c)(".nd");function m(e){var a=(0,c.a)();return a.classList.add("vd"),a.onclick=function(){!function(e){var a;switch(h){case"editor":a=(0,c.e)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc input');break;case"creator":a=(0,c.e)(v,'.ed .fd .gd[group="folder-icon"] .kd .ld input')}a.value=e,C()}(e)},a.appendChild((0,u.b)(e)),a}function y(){return(y=(0,t.a)(function*(){var e=(0,c.e)(g,".sd .td");e.innerHTML="";var a=(0,d.c)(),n=yield(0,i.a)(a);(0,r.a)(a);var t=new DocumentFragment,o=n.dictionary.split(",");for(var s in n.symbols){for(var l=s.split("_"),u=l.length-1;u>=0;u--)l.splice(u,1,o[parseInt(l[u])]);var p=m(l.join("_"));t.appendChild(p)}e.append(t)})).apply(this,arguments)}function w(e){var a=(0,c.e)(g,".sd .ud"),n=(0,c.e)(g,".sd .td");if(!(0,s.a)(e)){var t=(0,o.b)(e),i=new DocumentFragment;for(var r of t){var d=m(r.item);i.appendChild(d)}a.innerHTML="",a.append(i),a.setAttribute("displayed",t.length>0?"true":"false"),n.setAttribute("displayed",t.length>0?"false":"true")}}function k(e){switch((0,p.d)("FolderIconSelector"),e){case"editor":h="editor",(0,c.e)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc .oc');break;case"creator":h="creator",(0,c.e)(v,'.ed .fd .gd[group="folder-icon"] .kd .ld .md')}l.a?(g.setAttribute("displayed","true"),function(){y.apply(this,arguments)}(h),(0,o.a)()):(0,f.a)("download_for_offline","資料還在下載中")}function C(){(0,p.f)("FolderIconSelector"),g.setAttribute("displayed","false")}},14884(e,a,n){n.d(a,{a:()=>w,b:()=>C,c:()=>k});var t=n(10467),i=n(96160),r=n(15314),o=n(43459),c=n(38179),d=n(98024),s=n(30904),l=(n(23418),n(44114),n(54554),n(47764),n(54537)),u=[],p=!1,f=!1;function h(){var e=(0,c.a)();e.classList.add("db");var a=(0,c.a)();a.classList.add("eb"),a.appendChild((0,l.a)());var n=(0,c.a)();return n.classList.add("fb"),e.appendChild(a),e.appendChild(n),e}function b(e,a,n){function t(e,t,i){function r(e,a){var n=(0,c.e)(e,".eb");(0,l.c)(n,a.icon)}function o(e,a){(0,c.e)(e,".fb").innerText=a.value}function s(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(r(e,t),o(e,t),u(e,a),s(e,n)):((0,d.b)(i,t)||r(e,t),(0,d.b)(i,t)||o(e,t),a!==p&&u(e,a),n!==f&&s(e,n))}var i=e.length,r=Array.from((0,c.d)(w,".db")),o=r.length;if(i!==o){var s=o-i;if(s<0){for(var b=new DocumentFragment,v=0;v>s;v--){var g=h();b.appendChild(g),r.push(g)}w.append(b)}else if(s>0)for(var m=o-1,y=o-s-1;m>y;m--)r[m].remove(),r.splice(m,1)}for(var k=0;k<i;k++){var C=r[k],L=e[k];u[k]?t(C,L,u[k]):t(C,L,null)}u=e,f=n,p=a}var v=(0,c.c)(".la"),g=((0,c.e)(v,".na"),(0,c.e)(v,".ua")),m=(0,c.e)(g,".va"),y=(0,c.e)(m,'.wa[group="properties"]'),w=(0,c.e)(y,".ab");(0,c.e)(m,'.wa[group="location"]');function k(e){(0,s.d)("Bus"),(0,r.e)("bus",e),v.setAttribute("displayed","true"),function(e){L.apply(this,arguments)}(e),(0,s.a)()}function C(){v.setAttribute("displayed","false"),(0,s.c)()}function L(){return(L=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),a=[],n=0;n<5;n++)a.push({key:n,icon:"",value:""});b(a,!0,e)}();var a=(0,o.b)("playing_animation"),n=(0,d.c)();b((yield(0,i.a)(e,n)).properties,!1,a)})).apply(this,arguments)}},33441(e,a,n){n.d(a,{default:()=>z});var t=n(96483),i=n(48925),r=n(35767),o=n(89566),c=n(23422),d=n(15314),s=n(43459),l=n(73251),u=n(71238),p=n(1531),f=n(14884),h=n(49499),b=n(66052),v=n(6189),g=n(48379),m=n(30540),y=n(16082),w=n(36091),k=n(30904),C=n(71351),L=n(13030),S=n(62174),_=n(28380),F=n(25693),A=n(97891),E=n(28279),T=n(27908),D=n(45286),M=n(54690),x=n(83041),P=n(90752),Y=n(75009),N=n(76104),R=n(86166),H=n(92994),I=n(69469),q=n(38179),B=(n(54800),n(5259),n(96764),n(32547),n(38933),n(26971),n(7336),n(66561),n(6110),n(99080),n(21818),n(59590),n(81844),n(22239),n(6597),n(29991),n(83777),n(12696),n(85461),n(12421),n(93058),n(21102),n(97868),n(16388),n(83127),n(41743),n(81306),n(59731),n(30245),n(94071),n(35135),n(98969),n(1003),n(54472),n(74620),n(29714),n(72681),n(80124),n(73381),n(89351),n(81077),n(87037),n(79205),n(43534),n(46018),n(15392),n(11308),n(17225),n(99598),n(30626),n(65504),n(16780),n(80969),n(7943),n(84721),n(94263),n(83963),n(41542),n(26153),n(20112),n(75374),n(5666),n(8558),n(1452),n(72676),n(91195),n(75068),n(23850),n(94935),n(80321),n(76907),n(73257),n(57537),n(74884),n(21511),n(64305),n(68983),n(15995),n(25228),n(71078),n(31603),n(83749),n(87723),n(57287),n(39598),n(93425),n(86171),n(78073),n(50928),n(27113),n(56340),n(36384),n(63382),n(45392),n(21484),!1),$=!1;window.bus={initialize:function(){!1===B&&(B=!0,(0,k.h)(),(0,s.d)().then(function(){(0,w.b)(),(0,m.b)(),(0,l.a)().then(function(e){if("ok"===e){(0,M.b)(),(0,L.b)(),(0,Y.d)(),window.addEventListener("resize",function(){(0,Y.d)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,Y.d)()}),(0,w.a)(),(0,o.c)().then(function(){(0,m.a)()}),(0,Y.b)();var a=(0,q.c)(".nd .pd .qd #search_material_symbols_input");a.addEventListener("paste",function(){(0,v.c)(a.value)}),a.addEventListener("cut",function(){(0,v.c)(a.value)}),a.addEventListener("selectionchange",function(){(0,v.c)(a.value)}),document.addEventListener("selectionchange",function(){(0,v.c)(a.value)}),a.addEventListener("keyup",function(){(0,v.c)(a.value)}),(0,I.b)(),(0,k.b)(function(){(0,c.i)(),(0,c.g)().then(function(){(0,c.d)()}),document.addEventListener("click",function(){(0,p.a)(),(0,u.a)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,k.i)(),(0,k.b)())}).catch(function(){(0,k.i)(),(0,k.b)()})}))},secondlyInitialize:function(){$||($=!0,(0,y.b)(),(0,i.b)(),(0,t.c)(),(0,d.a)(),(0,r.b)().then(function(){(0,r.d)().then(function(){(0,r.e)()})}))},route:{closeRoute:M.a,closeRouteDetails:D.e},location:{closeLocation:L.a,closeLocationDetails:C.a},folder:{closeSaveToFolder:x.a,closeFolderManager:g.a,closeFolderIconSelector:v.a,openFolderCreator:b.c,closeFolderCreator:b.a,createFormulatedFolder:b.b},search:{openSearch:Y.c,closeSearch:Y.a,switchSearchTypeFilter:Y.e},storage:{closeStorage:H.a},dataUsage:{closeDataUsage:h.a},personalSchedule:{closePersonalScheduleManager:A.a,openPersonalScheduleCreator:_.c,closePersonalScheduleCreator:_.a,createFormulatedPersonalSchedule:_.b,switchPersonalScheduleCreatorDay:_.d,openPersonalScheduleEditor:F.b,closePersonalScheduleEditor:F.a,switchPersonalScheduleEditorDay:F.d,saveEditedPersonalSchedule:F.c},settings:{openSettings:N.d,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:f.b},notification:{closeNotificationScheduleManager:S.a,openRegisterNotification:T.b,closeRegisterNotification:T.a,saveFormulatedRegisterNotification:T.c,closeScheduleNotification:P.a},qrcode:{closeQRCode:E.a}};const z=window.bus},48379(e,a,n){n.d(a,{a:()=>b,b:()=>h});var t=n(10467),i=(n(23792),n(62010),n(47764),n(62953),n(89566)),r=n(38179),o=n(59333),c=n(54537),d=n(30904),s=(0,r.c)(".mb"),l=(0,r.e)(s,".rb"),u=(0,r.e)(l,".sb");function p(e){var a=(0,r.a)();a.classList.add("tb"),a.onclick=function(){(0,o.b)(e.id)};var n=(0,r.a)();n.classList.add("ub"),n.appendChild((0,c.b)(e.icon));var t=(0,r.a)();t.classList.add("vb"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("wb"),i.innerText=String(e.contentLength);var d=(0,r.a)();return d.classList.add("ac"),d.appendChild((0,c.b)("arrow_forward_ios")),a.appendChild(n),a.appendChild(t),a.appendChild(i),a.appendChild(d),a}function f(){return(f=(0,t.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var a=new DocumentFragment;for(var n of e){var t=p(n);a.appendChild(t)}u.append(a)})).apply(this,arguments)}function h(){(0,d.d)("FolderManager"),s.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function b(){(0,d.f)("FolderManager"),s.setAttribute("displayed","false")}},49499(e,a,n){n.d(a,{a:()=>w,b:()=>y});var t=n(10467),i=n(48925),r=n(67183),o=n(38179),c=n(65579),d=n(30904),s=(0,o.c)(".wd"),l=(0,o.e)(s,"._d"),u=(0,o.e)(l,".ae"),p=(0,o.e)(l,".be"),f=(0,o.e)(p,'.ce[name="total-data-usage"] .ee'),h=(0,o.e)(p,'.ce[name="max-data-usage-per-minute"] .ee'),b=(0,o.e)(p,'.ce[name="min-data-usage-per-minute"] .ee'),v=(0,o.e)(p,'.ce[name="start-time"] .ee'),g=(0,o.e)(p,'.ce[name="end-time"] .ee');function m(){return(m=(0,t.a)(function*(){var e=(0,d.e)("window"),a=e.width,n=Math.min(5/18*a,.33*e.height),t=yield(0,i.c)(a,n,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),b.innerText=(0,r.a)(t.stats.min),v.innerText=(0,c.c)(t.period.start,"YYYY-MM-DD"),g.innerText=(0,c.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function y(){(0,d.d)("DataUsage"),s.setAttribute("displayed","true"),function(){m.apply(this,arguments)}(),(0,d.a)()}function w(){s.setAttribute("displayed","false"),(0,d.c)()}},59333(e,a,n){n.d(a,{a:()=>L,b:()=>C});var t=n(10467),i=(n(23792),n(62010),n(47764),n(62953),n(89566)),r=n(38179),o=n(6189),c=n(54537),d=n(30904),s=n(59119),l=(0,r.c)(".bc"),u=(0,r.e)(l,".cc"),p=(0,r.e)(u,".dc"),f=(0,r.e)(l,".fc"),h=(0,r.e)(f,".gc"),b=(0,r.e)(h,'.hc[group="folder-name"] .lc input'),v=(0,r.e)(h,'.hc[group="folder-icon"] .lc .nc input'),g=(0,r.e)(h,'.hc[group="folder-icon"] .lc .nc .oc'),m=(0,r.e)(h,'.hc[group="folder-content"] .lc');function y(e,a){var n=(0,r.a)();n.classList.add("pc"),n.setAttribute("type",a.type);var t="",o="",d="";switch(a.type){case"stop":d="location_on",t=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,o=a.name;break;case"route":d="route",t=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,o=a.name;break;case"location":d="location_on",t="地點",o=a.name;break;case"bus":t="",o=a.name;break;case"empty":d="lightbulb",t="提示",o="沒有內容";break;default:d="",t="null",o="null"}var l=(0,r.a)();l.classList.add("qc"),l.appendChild((0,c.b)(d));var u=(0,r.a)();u.classList.add("rc"),u.innerText=t;var p=(0,r.a)();p.classList.add("tc"),p.innerText=o;var f=(0,r.a)();f.classList.add("uc");var h=(0,r.a)();h.classList.add("vc"),h.appendChild((0,c.b)("keyboard_arrow_down")),h.onclick=function(){S(n,e.id,a.type,a.id,"up")};var b=(0,r.a)();b.classList.add("wc"),b.appendChild((0,c.b)("keyboard_arrow_down")),b.onclick=function(){S(n,e.id,a.type,a.id,"down")};var v=(0,r.a)();v.classList.add("xc"),v.appendChild((0,c.b)("delete")),v.onclick=function(){!function(e,a,n,t){(0,i.k)(a,n,t).then(function(a){if(a)switch(e.remove(),n){case"stop":(0,s.a)("delete","已移除站牌");break;case"route":(0,s.a)("delete","已移除路線");break;case"location":(0,s.a)("delete","已移除地點")}else(0,s.a)("error","無法移除")})}(n,e.id,a.type,a.id)};var g=(0,r.a)();g.classList.add("yc");var m=(0,r.a)();return m.classList.add("yc"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(g),f.appendChild(m),n.appendChild(l),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function w(e,a){b.value=e.name,v.value=e.icon,p.onclick=function(){var a,n,t;a=e.id,n=b.value,t=v.value,(0,i.q)(a,n,t).then(function(e){e?(L(),(0,s.a)("check_circle","已儲存變更")):(0,s.a)("error","無法儲存")})},m.innerHTML="";var n=new DocumentFragment;for(var t of a){var r=y(e,t);n.appendChild(r)}m.append(n)}function k(){return(k=(0,t.a)(function*(e){w((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function C(e){(0,d.d)("FolderEditor"),l.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,d.a)()}function L(){l.setAttribute("displayed","false"),(0,d.c)()}function S(e,a,n,t,r){(0,i.p)(a,n,t,r).then(function(a){if(a)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,s.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,s.a)("arrow_circle_down","已往下移")}else(0,s.a)("error","無法移動")})}g.onclick=function(){(0,o.b)("editor")}},66052(e,a,n){n.d(a,{a:()=>b,b:()=>f,c:()=>h});var t=n(89566),i=n(38179),r=n(6189),o=n(30904),c=n(59119),d=(0,i.c)("._c"),s=(0,i.e)(d,".ed"),l=(0,i.e)(s,".fd"),u=(0,i.e)(l,'.gd[group="folder-name"] .kd input'),p=(0,i.e)(l,'.gd[group="folder-icon"] .kd .ld input');function f(){var e=u.value,a=p.value;(0,t.a)(e,a).then(function(e){e?(b(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function h(){(0,o.d)("FolderCreator"),d.setAttribute("displayed","true"),(0,o.a)()}function b(){d.setAttribute("displayed","false"),(0,o.c)()}(0,i.e)(l,'._c .ed .fd .gd[group="folder-icon"] .kd .ld .md').onclick=function(){(0,r.b)("creator")}}}]);
//# sourceMappingURL=87ff7bd88be4fe7eea9a.js.map