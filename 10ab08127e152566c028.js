"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[638],{904(e,a,t){t.d(a,{a:()=>I,b:()=>P,c:()=>F,d:()=>U,e:()=>R,f:()=>j,g:()=>N,h:()=>Q,i:()=>H});var n=t(8179),r=t(8024),i=t(4884),c=t(9499),s=t(6052),o=t(9333),l=t(8379),d=t(6082),u=t(4294),b=t(1351),f=t(3030),h=t(2174),p=t(8380),m=t(5693),v=t(7891),k=t(8279),g=t(7908),y=t(5286),w=t(4690),L=t(3041),S=t(752),C=t(5009),T=t(6104),E=t(6166),M=t(2994),x=(0,n.c)(".g"),D=(0,n.c)(".l"),_=(new Date).getTime(),A=["Home"];function F(e){var a=A.length;A[a-1]!==e&&A.push(e)}function R(e){var a=A.length;a>1&&A[a-1]===e&&A.pop()}function P(){var e=A.length;if(e>1)switch(A[e-2]){case"Home":(0,d.c)("rtl");break;case"FolderCreator":(0,s.b)("rtl");break;case"FolderEditor":(0,o.a)("rtl");break;case"IconSelector":(0,u.b)("rtl");break;case"FolderManager":(0,l.b)("rtl");break;case"Location":(0,f.b)("rtl");break;case"LocationDetails":(0,b.b)("rtl");break;case"Route":(0,w.b)("rtl");break;case"RouteDetails":(0,y.f)("rtl");break;case"SaveToFolder":(0,L.b)("rtl");break;case"Search":(0,C.b)("rtl");break;case"Settings":(0,T.c)("rtl");break;case"SettingsOptions":(0,E.b)("rtl");break;case"DataUsage":(0,c.b)("rtl");break;case"PersonalScheduleManager":(0,v.b)("rtl");break;case"PersonalScheduleCreator":(0,p.c)("rtl");break;case"PersonalScheduleEditor":(0,m.b)("rtl");break;case"Bus":(0,i.c)("rtl");break;case"RegisterNotification":(0,g.a)("rtl");break;case"ScheduleNotification":(0,S.b)("rtl");break;case"NotificationScheduleManager":(0,h.b)("rtl");break;case"QRCode":(0,k.b)("rtl");break;case"Storage":(0,M.b)("rtl")}}function H(){var e=A.length;if(e>1)switch(A[e-2]){case"Home":(0,d.d)("ltr");break;case"FolderCreator":(0,s.d)("ltr");break;case"FolderEditor":(0,o.c)("ltr");break;case"IconSelector":(0,u.e)("ltr");break;case"FolderManager":(0,l.d)("ltr");break;case"Location":(0,f.e)("ltr");break;case"LocationDetails":(0,b.e)("ltr");break;case"Route":(0,w.e)("ltr");break;case"RouteDetails":(0,y.h)("ltr");break;case"SaveToFolder":(0,L.d)("ltr");break;case"Search":(0,C.f)("ltr");break;case"Settings":(0,T.h)("ltr");break;case"SettingsOptions":(0,E.d)("ltr");break;case"DataUsage":(0,c.d)("ltr");break;case"PersonalScheduleManager":(0,v.e)("ltr");break;case"PersonalScheduleCreator":(0,p.e)("ltr");break;case"PersonalScheduleEditor":(0,m.e)("ltr");break;case"Bus":(0,i.e)("ltr");break;case"RegisterNotification":(0,g.c)("ltr");break;case"ScheduleNotification":(0,S.d)("ltr");break;case"NotificationScheduleManager":(0,h.d)("ltr");break;case"QRCode":(0,k.d)("ltr");break;case"Storage":(0,M.d)("ltr")}}function N(){var e=0;(0,r.f)()&&(e=-1*(window.outerHeight-window.innerHeight)/2),(0,n.c)(".g svg.h").style.setProperty("--i",`${e}px`)}function I(e){function a(){x.classList.add("j"),x.addEventListener("animationend",function(){x.setAttribute("displayed","false"),x.classList.remove("j"),"function"==typeof e&&e()},{once:!0})}var t=(new Date).getTime();t-_<100?setTimeout(a,Math.max(1,t-_)):a()}function Q(){D.setAttribute("displayed","true")}function U(e){var a=0,t=0,n=window.innerWidth,r=window.innerHeight;switch(e){case"window":a=n,t=r;break;case"head":a=n,t=55;break;case"head-one-button":a=n-55,t=55;break;case"head-two-button":a=n-110,t=55;break;case"route-details-canvas":a=n-20-20,t=1680;break;case"route-bus-arrival-time-chart":a=n-45-15-20,t=75;break;case"location-bus-arrival-time-chart":a=n-30-20,t=75;break;default:a=0,t=0}return{width:a,height:t}}function j(){window.scrollTo({top:0,behavior:"instant"})}},4294(e,a,t){t.d(a,{a:()=>A,b:()=>D,c:()=>E,d:()=>_,e:()=>x});var n,r=t(467),i=t(9218),c=t(6788),s=t(972),o=t(3459),l=t(8179),d=t(8024),u=t(4781),b=t(4537),f=t(904),h=(0,l.c)(".xb"),p=(0,l.e)(h,".yb"),m=(0,l.e)(p,"#search_material_symbols_input"),v=(0,l.e)(h,".ac"),k=(0,l.e)(v,".bc"),g=[],y=[],w=!1,L=!1;function S(){var e=(0,l.a)();return e.classList.add("cc"),e.appendChild((0,b.a)()),e}function C(e,a,t,r){function i(e,i,c){function s(e,a){(0,b.c)(e,a)}function o(e,a,t){e.onclick=function(){!function(e,a){a.value=e,A()}(a,t)}}function l(e,a){e.setAttribute("skeleton-screen",(0,d.a)(a))}function u(e,a){e.setAttribute("animation",(0,d.a)(a))}null==c?(s(e,i),o(e,i,a),l(e,t),u(e,r)):(c!==i?(s(e,i),o(e,i,a)):n!==a&&o(e,i,a),L!==t&&l(e,t),w!==r&&u(e,r))}var c=e.length,s=Array.from((0,l.d)(k,".cc")),o=s.length;if(c!==o){var u=o-c;if(u<0){for(var f=new DocumentFragment,h=0;h>u;h--){var p=S();f.appendChild(p),s.push(p)}k.append(f)}else if(u>0)for(var m=o-1,v=o-u-1;m>v;m--)s[m].remove(),s.splice(m,1)}for(var g=0;g<c;g++){var C=y[g],T=e[g],E=s[g];i(E,T,C||null)}y=e.slice(),n=a,L=t,w=r}function T(){return(T=(0,r.a)(function*(e){var a=(0,o.b)("playing_animation"),t=(0,d.c)();m.value="",function(e){for(var a=(0,o.b)("playing_animation"),t=(0,f.d)("window"),n=Math.floor(t.width/50)*(Math.floor(t.height/50)+3),r=[],i=0;i<n;i++)r.push("");C(r,e,!0,a)}(e);var n=yield(0,i.a)(t);for(var r in g=[],n.symbols)g.push(r);C(g,e,!1,a),(0,s.a)(n),(0,c.a)(t)})).apply(this,arguments)}function E(){m.addEventListener("paste",function(){M()}),m.addEventListener("cut",function(){M()}),m.addEventListener("selectionchange",function(){M()}),document.addEventListener("selectionchange",function(){M()}),m.addEventListener("keyup",function(){M()})}function M(){var e=m.value;if(!(0,u.a)(e)){for(var a=(0,s.b)(e),t=a.length-1;t>=0;t--){var r=a[t].item,i=g.indexOf(r);if(g[t]&&!(i<0)){var c=[g[i],g[t]];g[t]=c[0],g[i]=c[1]}}C(g,n,!1,w)}}function x(e){var a="ltr"===e?"mc":"nc";h.addEventListener("animationend",function(){h.classList.remove(a)},{once:!0}),h.classList.add(a),h.setAttribute("displayed","true")}function D(e){var a="ltr"===e?"oc":"pc";h.addEventListener("animationend",function(){h.setAttribute("displayed","false"),h.classList.remove(a)},{once:!0}),h.classList.add(a)}function _(e){(0,f.c)("IconSelector"),x("rtl"),function(e){T.apply(this,arguments)}(e),(0,f.b)()}function A(){D("ltr"),(0,f.i)(),(0,f.e)("IconSelector")}},4537(e,a,t){t.d(a,{a:()=>i,b:()=>r,c:()=>c});var n=t(8179);function r(e){var a=document.createElement("span");return a.classList.add("r"),a.innerText=e,a}function i(){var e=document.createElement("span");return e.classList.add("r"),e}function c(e,a){(0,n.e)(e,"span.r").innerText=a}},4953(){},5259(){},5297(){},6091(e,a,t){t.d(a,{a:()=>N,b:()=>A});var n=t(467),r=t(5767),i=t(5314),c=t(3459),s=t(8179),o=t(8024),l=t(4884),d=t(4537),u=t(904),b=t(3030),f=t(4690),h=(0,s.c)(".s"),p=(0,s.e)(h,".ia"),m=(0,s.e)(p,".ja"),v=(0,s.e)(m,".oa"),k={},g=!1,y=!1,w=15e3,L=5e3,S=!0,C=!1,T=0,E=0,M="",x=!1;function D(){var e=(0,s.a)();e.classList.add("wa");var a=(0,s.a)();a.classList.add("ya");var t=(0,s.a)();t.classList.add("za"),t.appendChild((0,d.a)());var n=(0,s.a)();n.classList.add("_a");var r=(0,s.a)();r.classList.add("ab"),a.appendChild(t),a.appendChild(n),a.appendChild(r);var i=(0,s.a)();return i.classList.add("bb"),e.appendChild(a),e.appendChild(i),e}function _(e,a,t){function n(e,n,r){function i(e,a){var t=(0,s.e)(e,".ya"),n=(0,s.e)(t,".za"),r="";switch(a.type){case"route":r="route";break;case"location":r="location_on";break;case"bus":r="directions_bus";break;case"empty":r="lightbulb"}(0,d.c)(n,r)}function c(e,a){var t=(0,s.e)(e,".ya"),n=(0,s.e)(t,"._a"),r="";switch(a.type){case"route":r="路線";break;case"location":r="地點";break;case"bus":r="公車";break;case"empty":r="提示"}n.innerText=r}function u(e,a){var t=(0,s.e)(e,".ya");(0,s.e)(t,".ab").innerText=a.time.relative}function h(e,a){(0,s.e)(e,".bb").innerText=a.name}function p(e,a){switch(a.type){case"route":e.onclick=function(){(0,f.d)(a.id,a.pid)};break;case"location":e.onclick=function(){(0,b.d)(a.hash)};break;case"bus":e.onclick=function(){(0,l.d)(a.id)};break;case"empty":e.onclick=null}}function m(e,a){e.setAttribute("animation",(0,o.a)(a))}function v(e,a){e.setAttribute("skeleton-screen",(0,o.a)(a))}if(null==r)i(e,n),c(e,n),u(e,n),h(e,n),p(e,n),m(e,t),v(e,a);else if(n.type!==r.type)i(e,n),c(e,n),u(e,n),h(e,n),p(e,n),m(e,t),v(e,a);else{switch(n.type){case"location":(0,o.b)(r.name,n.name)||h(e,n),r.time!==n.time&&u(e,n),(0,o.b)(r.hash,n.hash)||p(e,n);break;case"route":r.name!==n.name&&h(e,n),r.time!==n.time&&u(e,n),r.id===n.id&&(0,o.b)(r.pid,n.pid)||p(e,n);break;case"bus":r.name!==n.name&&h(e,n),r.time!==n.time&&u(e,n),r.id!==n.id&&p(e,n);break;case"empty":r.time!==n.time&&u(e,n)}g!==t&&m(e,t),y!==a&&v(e,a)}}var r=e.itemQuantity,i=Array.from((0,s.d)(v,".wa")),c=i.length;if(r!==c){var u=c-r;if(u<0){for(var h=new DocumentFragment,p=0;p>u;p--){var m=D();h.appendChild(m),i.push(m)}v.append(h)}else if(u>0)for(var w=c-1,L=c-u-1;w>L;w--)i[w].remove(),i.splice(w,1)}for(var S=0;S<r;S++){var C=i[S],T=e.items[S];if((0,o.e)(k,"items"))if(k.items[S])n(C,T,k.items[S]);else n(C,T,null);else n(C,T,null)}k=e,g=t,y=a}function A(){for(var e=(0,c.b)("playing_animation"),a=(0,u.d)("window"),t=Math.floor(a.height/70/3)+2,n=[],r=0;r<t;r++)n.push({type:"route",id:0,pid:[],time:{absolute:0,relative:""},name:""});_({items:n,itemQuantity:n.length,dataUpdateTime:0},!0,e)}function F(){return R.apply(this,arguments)}function R(){return(R=(0,n.a)(function*(){var e=(0,c.b)("playing_animation"),a=(0,c.b)("refresh_interval");S=a.dynamic,w=a.baseInterval,M=(0,o.c)();var t=yield(0,i.c)(M);_(t,!1,e);var n=0;S&&(n=yield(0,r.c)()),T=(new Date).getTime(),E=S?Math.max(T+L,t.dataUpdateTime+w/n):T+w,Math.max(L,E-T)})).apply(this,arguments)}function P(){return H.apply(this,arguments)}function H(){return(H=(0,n.a)(function*(){F().then(function(){C?setTimeout(function(){P()},Math.max(L,E-(new Date).getTime())):x=!1}).catch(function(e){C?setTimeout(function(){P()},1e4):x=!1})})).apply(this,arguments)}function N(){C||(C=!0,x?F():(x=!0,P()))}},6561(){},6764(){},7114(){},7336(){},7499(){},9657(){}}]);
//# sourceMappingURL=10ab08127e152566c028.js.map