/*! For license information please see 71c8cfbc0cc537b23a49.min.js.LICENSE.txt */
(self.webpackChunkbus=self.webpackChunkbus||[]).push([[886],{2151:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},3939:t=>{var e,r;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var o=t[n]<<16|t[n+1]<<8|t[n+2],i=0;i<4;i++)8*n+6*i<=8*t.length?r.push(e.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<t.length;o=++n%4)0!=o&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(n))>>>6-2*o);return r}},t.exports=r},7206:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},1452:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.MBTilesEvents=void 0;var s,l=r(6303),u=r(6567),c=r(229);!function(t){t.LOADED="databaseloaded",t.ERROR="databaseerror"}(s=e.MBTilesEvents||(e.MBTilesEvents={}));var p=function(t){function e(e,r){var n=t.call(this,"string"==typeof e?e:"",r)||this;return n._mbTilesReader=null,n._imageFormat="image/png",n._globalEvents=null,n._loadMBTiles(e),n._toggleEvents(!0),n}return o(e,t),e.prototype.createTile=function(t,e){var r=document.createElement("img");return this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.setAttribute("role","presentation"),this._mbTilesReader&&this._mbTilesReader.isLoaded?(l.DomEvent.on(r,"load",l.Util.bind(this._tileOnLoad,this,e,r)),l.DomEvent.on(r,"error",l.Util.bind(this._tileOnError,this,e,r)),r.src=this.getTileUrl(t)):this.on(s.LOADED,function(){l.DomEvent.on(r,"load",l.Util.bind(this._tileOnLoad,this,e,r)),l.DomEvent.on(r,"error",l.Util.bind(this._tileOnError,this,e,r)),r.src=this.getTileUrl(t)}.bind(this)),r},e.prototype.getTileUrl=function(t){if(this._mbTilesReader){var e=this._mbTilesReader.getTile(t.x,this._globalTileRange.max.y-t.y,t.z);if(e)return window.URL.createObjectURL(new Blob([e],{type:this._imageFormat}))}return l.Util.emptyImageUrl},e.prototype._loadMBTiles=function(t){return i(this,void 0,void 0,(function(){var e,r,n;return a(this,(function(o){switch(o.label){case 0:if("string"!=typeof t)return[3,9];o.label=1;case 1:return o.trys.push([1,7,,8]),l.Browser.android?[4,c.default.fetchLocal(t)]:[3,3];case 2:return e=o.sent(),[3,5];case 3:return[4,fetch(t)];case 4:e=o.sent(),o.label=5;case 5:return[4,e.arrayBuffer()];case 6:return r=o.sent(),this._openMBTile(r),[3,8];case 7:return n=o.sent(),this.fire(s.ERROR,{error:n}),[3,8];case 8:return[3,10];case 9:t instanceof ArrayBuffer?this._openMBTile(t):this.fire(s.ERROR),o.label=10;case 10:return[2]}}))}))},e.prototype._openMBTile=function(t){try{this._mbTilesReader=new u.default(t);var e=this._mbTilesReader.attribution;e&&(this.options.attribution=e);var r=this._mbTilesReader.minZoom;r&&(this.options.minZoom=r);var n=this._mbTilesReader.maxZoom;n&&(this.options.maxZoom=n);var o=this._mbTilesReader.format;o&&(this._imageFormat="image/".concat(o)),this.fire(s.LOADED)}catch(t){this.fire(s.ERROR,{error:t})}},e.prototype._toggleEvents=function(t){var e=this;for(var r in void 0===t&&(t=!0),null===this._globalEvents&&(this._globalEvents={tileunload:function(t){e._revokeTile(t)},remove:function(){e._shutdown()}}),this._globalEvents)Object.prototype.hasOwnProperty.call(this._globalEvents,r)&&this[t?"on":"off"](r,this._globalEvents[r])},e.prototype._revokeTile=function(t){t.tile&&t.tile.src!=l.Util.emptyImageUrl&&URL.revokeObjectURL(t.tile.src)},e.prototype._shutdown=function(){this._mbTilesReader&&this._mbTilesReader.isLoaded?(this._mbTilesReader.close(),this._toggleEvents(!1),this._mbTilesReader=null):this.on(s.LOADED,this._shutdown)},e}(l.TileLayer);e.default=p},6567:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2330),o=function(){function t(t){this.initialized=!1;var e=new Uint8Array(t);try{this.db=new n.Database(e),this.metadataStmt=this.db.prepare("SELECT value FROM metadata WHERE name = :key"),this.tilesStmt=this.db.prepare("SELECT tile_data FROM tiles WHERE tile_column = :x AND tile_row = :y AND zoom_level = :z"),this.initialized=!0}catch(t){throw new Error(t)}}return Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this.initialized},enumerable:!1,configurable:!0}),t.prototype.getTile=function(t,e,r){var n=this.tilesStmt.getAsObject({":x":t,":y":e,":z":r});return n&&n.tile_data?n.tile_data:null},t.prototype.getMetadata=function(t){return this.metadataStmt.getAsObject({":key":t})},Object.defineProperty(t.prototype,"attribution",{get:function(){var t=this.getMetadata("attribution").value;return t?t.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){var t=this.getMetadata("description").value;return t?t.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){var t=this.getMetadata("center").value;return t?t.toString().split(","):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){var t=this.getMetadata("format").value;return t?t.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this.getMetadata("bounds").value;return t?t.toString().split(","):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minZoom",{get:function(){var t=this.getMetadata("minZoom").value;return t?Number(t):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxZoom",{get:function(){var t=this.getMetadata("maxZoom").value;return t?Number(t):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this.getMetadata("name").value;return t?t.toString():null},enumerable:!1,configurable:!0}),t.prototype.close=function(){this.initialized&&this.db.close()},t}();e.default=o},8284:(t,e,r)=>{"use strict";e.qV=e.Np=e.T2=void 0;var n=r(1452),o=function(t,e){return Reflect.construct(n.default,[t,e])};L.TileLayer.MBTiles=n.default,L.tileLayer.mbTiles=o,e.T2=n.default,e.Np=o,e.qV=n.MBTilesEvents,e.T2,e.Np,e.qV},229:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.fetchLocal=function(t){return new Promise((function(e,r){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=function(){e(new Response(n.response,{status:n.status}))},n.onerror=function(){r(new Error("Local request failed"))},n.open("GET",t),n.send(null)}))},t}();e.default=r},5580:(t,e,r)=>{var n=r(6110)(r(9325),"DataView");t.exports=n},1549:(t,e,r)=>{var n=r(2032),o=r(3862),i=r(6721),a=r(2749),s=r(5749);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,t.exports=l},79:(t,e,r)=>{var n=r(3702),o=r(80),i=r(4739),a=r(8655),s=r(1175);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,t.exports=l},8223:(t,e,r)=>{var n=r(6110)(r(9325),"Map");t.exports=n},3661:(t,e,r)=>{var n=r(3040),o=r(7670),i=r(289),a=r(4509),s=r(2949);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,t.exports=l},2804:(t,e,r)=>{var n=r(6110)(r(9325),"Promise");t.exports=n},6545:(t,e,r)=>{var n=r(6110)(r(9325),"Set");t.exports=n},7217:(t,e,r)=>{var n=r(79),o=r(1420),i=r(938),a=r(3605),s=r(9817),l=r(945);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},1873:(t,e,r)=>{var n=r(9325).Symbol;t.exports=n},7828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},8303:(t,e,r)=>{var n=r(6110)(r(9325),"WeakMap");t.exports=n},3729:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},9770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},695:(t,e,r)=>{var n=r(8096),o=r(2428),i=r(6449),a=r(3656),s=r(361),l=r(7167),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),c=!r&&o(t),p=!r&&!c&&a(t),f=!r&&!c&&!p&&l(t),h=r||c||p||f,d=h?n(t.length,String):[],b=d.length;for(var y in t)!e&&!u.call(t,y)||h&&("length"==y||p&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,b))||d.push(y);return d}},4528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}}}]);
//# sourceMappingURL=71c8cfbc0cc537b23a49.min.js.map