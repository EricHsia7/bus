"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[19],{3441(e,n,t){t.d(n,{default:()=>z});var a=t(6483),d=t(8925),i=t(5767),c=t(9566),r=t(3422),o=t(5314),l=t(3459),s=t(3251),u=t(1238),p=t(1531),f=t(4884),v=t(9499),b=t(6052),h=t(6189),m=t(8379),g=t(540),y=t(6082),w=t(6091),k=t(904),C=t(1351),E=t(3030),L=t(2174),S=t(8380),_=t(5693),F=t(7891),A=t(8279),T=t(7908),D=t(5286),M=t(4690),x=t(3041),P=t(752),Y=t(5009),N=t(6104),R=t(6166),H=t(2994),I=t(9469),q=t(8179),B=(t(4800),t(5259),t(6764),t(2547),t(8933),t(6971),t(7336),t(6561),t(6110),t(9080),t(1818),t(9590),t(1844),t(2239),t(6597),t(9991),t(3777),t(2696),t(5461),t(2421),t(3058),t(1102),t(7868),t(6388),t(3127),t(1743),t(1306),t(9731),t(245),t(4071),t(5135),t(8969),t(1003),t(4472),t(4620),t(9714),t(2681),t(124),t(3381),t(9351),t(1077),t(7037),t(9205),t(3534),t(6018),t(5392),t(1308),t(7225),t(9598),t(626),t(5504),t(6780),t(969),t(7943),t(4721),t(4263),t(3963),t(1542),t(6153),t(112),t(5374),t(5666),t(8558),t(1452),t(2676),t(1195),t(5068),t(1469),t(4935),t(321),t(6907),t(3257),t(7537),t(2503),t(1511),t(4305),t(8983),t(5995),t(5228),t(1078),t(1603),t(3749),t(7723),t(7287),t(7217),t(3425),t(6171),t(8073),t(928),t(7113),t(6340),t(6384),t(3382),t(3011),t(1484),!1),$=!1;window.bus={initialize:function(){!1===B&&(B=!0,(0,k.h)(),(0,l.d)().then(function(){(0,w.b)(),(0,g.b)(),(0,s.a)().then(function(e){if("ok"===e){(0,M.b)(),(0,E.b)(),(0,Y.d)(),window.addEventListener("resize",function(){(0,Y.d)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,Y.d)()}),(0,w.a)(),(0,c.c)().then(function(){(0,g.a)()}),(0,Y.b)();var n=(0,q.b)(".nd .pd .qd #search_material_symbols_input");n.addEventListener("paste",function(){(0,h.c)(n.value)}),n.addEventListener("cut",function(){(0,h.c)(n.value)}),n.addEventListener("selectionchange",function(){(0,h.c)(n.value)}),document.addEventListener("selectionchange",function(){(0,h.c)(n.value)}),n.addEventListener("keyup",function(){(0,h.c)(n.value)}),(0,I.b)(),(0,k.b)(function(){(0,r.i)(),(0,r.g)().then(function(){(0,r.d)()}),document.addEventListener("click",function(){(0,p.a)(),(0,u.a)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,k.i)(),(0,k.b)())}).catch(function(){(0,k.i)(),(0,k.b)()})}))},secondlyInitialize:function(){$||($=!0,(0,y.b)(),(0,d.b)(),(0,a.c)(),(0,o.a)(),(0,i.b)().then(function(){(0,i.d)().then(function(){(0,i.e)()})}))},route:{closeRoute:M.a,closeRouteDetails:D.e},location:{closeLocation:E.a,closeLocationDetails:C.a},folder:{closeSaveToFolder:x.a,closeFolderManager:m.a,closeFolderIconSelector:h.a,openFolderCreator:b.c,closeFolderCreator:b.a,createFormulatedFolder:b.b},search:{openSearch:Y.c,closeSearch:Y.a,switchSearchTypeFilter:Y.e},storage:{closeStorage:H.a},dataUsage:{closeDataUsage:v.a},personalSchedule:{closePersonalScheduleManager:F.a,openPersonalScheduleCreator:S.c,closePersonalScheduleCreator:S.a,createFormulatedPersonalSchedule:S.b,switchPersonalScheduleCreatorDay:S.d,openPersonalScheduleEditor:_.b,closePersonalScheduleEditor:_.a,switchPersonalScheduleEditorDay:_.d,saveEditedPersonalSchedule:_.c},settings:{openSettings:N.d,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:f.b},notification:{closeNotificationScheduleManager:L.a,openRegisterNotification:T.b,closeRegisterNotification:T.a,saveFormulatedRegisterNotification:T.c,closeScheduleNotification:P.a},qrcode:{closeQRCode:A.a}};const z=window.bus},4884(e,n,t){t.d(n,{a:()=>w,b:()=>C,c:()=>k});var a=t(467),d=t(6160),i=t(5314),c=t(3459),r=t(8179),o=t(8024),l=t(904),s=t(4537),u=[],p=!1,f=!1;function v(){var e=document.createElement("div");e.classList.add("db");var n=document.createElement("div");n.classList.add("eb"),n.appendChild((0,s.a)());var t=document.createElement("div");return t.classList.add("fb"),e.appendChild(n),e.appendChild(t),e}function b(e,n,t){function a(e,a,d){function i(e,n){var t=(0,r.d)(e,".eb");(0,s.c)(t,n.icon)}function c(e,n){(0,r.d)(e,".fb").innerText=n.value}function l(e,n){e.setAttribute("animation",n)}function u(e,n){e.setAttribute("skeleton-screen",n)}null==d?(i(e,a),c(e,a),u(e,n),l(e,t)):((0,o.b)(d,a)||i(e,a),(0,o.b)(d,a)||c(e,a),n!==p&&u(e,n),t!==f&&l(e,t))}var d=e.length,i=Array.from((0,r.c)(w,".db")),c=i.length;if(d!==c){var l=c-d;if(l<0){for(var b=new DocumentFragment,h=0;h>l;h--){var m=v();b.appendChild(m),i.push(m)}w.append(b)}else if(l>0)for(var g=c-1,y=c-l-1;g>y;g--)i[g].remove(),i.splice(g,1)}for(var k=0;k<d;k++){var C=i[k],E=e[k];u[k]?a(C,E,u[k]):a(C,E,null)}u=e,f=t,p=n}var h=(0,r.b)(".la"),m=((0,r.d)(h,".na"),(0,r.d)(h,".ua")),g=(0,r.d)(m,".va"),y=(0,r.d)(g,'.wa[group="properties"]'),w=(0,r.d)(y,".ab");(0,r.d)(g,'.wa[group="location"]');function k(e){(0,l.d)("Bus"),(0,i.e)("bus",e),h.setAttribute("displayed","true"),function(e){E.apply(this,arguments)}(e),(0,l.a)()}function C(){h.setAttribute("displayed","false"),(0,l.c)()}function E(){return(E=(0,a.a)(function*(e){!function(){for(var e=(0,c.b)("playing_animation"),n=[],t=0;t<5;t++)n.push({key:t,icon:"",value:""});b(n,!0,e)}();var n=(0,c.b)("playing_animation"),t=(0,o.c)();b((yield(0,d.a)(e,t)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,t){t.d(n,{a:()=>b,b:()=>f,c:()=>v});var a=t(9566),d=t(8179),i=t(6189),c=t(904),r=t(9119),o=(0,d.b)("._c"),l=(0,d.d)(o,".ed"),s=(0,d.d)(l,".fd"),u=(0,d.d)(s,'.gd[group="folder-name"] .kd input'),p=(0,d.d)(s,'.gd[group="folder-icon"] .kd .ld input');function f(){var e=u.value,n=p.value;(0,a.a)(e,n).then(function(e){e?(b(),(0,r.a)("folder","已建立資料夾")):(0,r.a)("error","無法建立資料夾")})}function v(){(0,c.d)("FolderCreator"),o.setAttribute("displayed","true"),(0,c.a)()}function b(){o.setAttribute("displayed","false"),(0,c.c)()}(0,d.d)(s,'._c .ed .fd .gd[group="folder-icon"] .kd .ld .md').onclick=function(){(0,i.b)("creator")}},6189(e,n,t){t.d(n,{a:()=>C,b:()=>k,c:()=>w});var a=t(467),d=t(9218),i=t(6788),c=t(972),r=t(8179),o=t(8024),l=t(4781),s=t(6082),u=t(4537),p=t(904),f=t(9119),v="",b=(0,r.b)(".bc"),h=(0,r.b)("._c"),m=(0,r.b)(".nd");function g(e){var n=document.createElement("div");return n.classList.add("vd"),n.onclick=function(){!function(e){var n;switch(v){case"editor":n=(0,r.d)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc input');break;case"creator":n=(0,r.d)(h,'.ed .fd .gd[group="folder-icon"] .kd .ld input')}n.value=e,C()}(e)},n.appendChild((0,u.b)(e)),n}function y(){return(y=(0,a.a)(function*(){var e=(0,r.d)(m,".sd .td");e.innerHTML="";var n=(0,o.c)(),t=yield(0,d.a)(n);(0,i.a)(n);var a=new DocumentFragment,c=t.dictionary.split(",");for(var l in t.symbols){for(var s=l.split("_"),u=s.length-1;u>=0;u--)s.splice(u,1,c[parseInt(s[u])]);var p=g(s.join("_"));a.appendChild(p)}e.append(a)})).apply(this,arguments)}function w(e){var n=(0,r.d)(m,".sd .ud"),t=(0,r.d)(m,".sd .td");if(!(0,l.a)(e)){var a=(0,c.b)(e),d=new DocumentFragment;for(var i of a){var o=g(i.item);d.appendChild(o)}n.innerHTML="",n.append(d),n.setAttribute("displayed",a.length>0?"true":"false"),t.setAttribute("displayed",a.length>0?"false":"true")}}function k(e){switch((0,p.d)("FolderIconSelector"),e){case"editor":v="editor",(0,r.d)(b,'.fc .gc .hc[group="folder-icon"] .lc .nc .oc');break;case"creator":v="creator",(0,r.d)(h,'.ed .fd .gd[group="folder-icon"] .kd .ld .md')}s.a?(m.setAttribute("displayed","true"),function(){y.apply(this,arguments)}(v),(0,c.a)()):(0,f.a)("download_for_offline","資料還在下載中")}function C(){(0,p.f)("FolderIconSelector"),m.setAttribute("displayed","false")}},8379(e,n,t){t.d(n,{a:()=>b,b:()=>v});var a=t(467),d=t(9566),i=t(8179),c=t(9333),r=t(4537),o=t(904),l=(0,i.b)(".mb"),s=(0,i.d)(l,".rb"),u=(0,i.d)(s,".sb");function p(e){var n=document.createElement("div");n.classList.add("tb"),n.onclick=function(){(0,c.b)(e.id)};var t=document.createElement("div");t.classList.add("ub"),t.appendChild((0,r.b)(e.icon));var a=document.createElement("div");a.classList.add("vb"),a.innerText=e.name;var d=document.createElement("div");d.classList.add("wb"),d.innerText=String(e.contentLength);var i=document.createElement("div");return i.classList.add("ac"),i.appendChild((0,r.b)("arrow_forward_ios")),n.appendChild(t),n.appendChild(a),n.appendChild(d),n.appendChild(i),n}function f(){return(f=(0,a.a)(function*(){var e=yield(0,d.h)();u.innerHTML="";var n=new DocumentFragment;for(var t of e){var a=p(t);n.appendChild(a)}u.append(n)})).apply(this,arguments)}function v(){(0,o.d)("FolderManager"),l.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function b(){(0,o.f)("FolderManager"),l.setAttribute("displayed","false")}},9333(e,n,t){t.d(n,{a:()=>E,b:()=>C});var a=t(467),d=t(9566),i=t(8179),c=t(6189),r=t(4537),o=t(904),l=t(9119),s=(0,i.b)(".bc"),u=(0,i.d)(s,".cc"),p=(0,i.d)(u,".dc"),f=(0,i.d)(s,".fc"),v=(0,i.d)(f,".gc"),b=(0,i.d)(v,'.hc[group="folder-name"] .lc input'),h=(0,i.d)(v,'.hc[group="folder-icon"] .lc .nc input'),m=(0,i.d)(v,'.hc[group="folder-icon"] .lc .nc .oc'),g=(0,i.d)(v,'.hc[group="folder-content"] .lc');function y(e,n){var t=document.createElement("div");t.classList.add("pc"),t.setAttribute("type",n.type);var a="",i="",c="";switch(n.type){case"stop":c="location_on",a=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,i=n.name;break;case"route":c="route",a=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,i=n.name;break;case"location":c="location_on",a="地點",i=n.name;break;case"bus":a="",i=n.name;break;case"empty":c="lightbulb",a="提示",i="沒有內容";break;default:c="",a="null",i="null"}var o=document.createElement("div");o.classList.add("qc"),o.appendChild((0,r.b)(c));var s=document.createElement("div");s.classList.add("rc"),s.innerText=a;var u=document.createElement("div");u.classList.add("tc"),u.innerText=i;var p=document.createElement("div");p.classList.add("uc");var f=document.createElement("div");f.classList.add("vc"),f.appendChild((0,r.b)("keyboard_arrow_down")),f.onclick=function(){L(t,e.id,n.type,n.id,"up")};var v=document.createElement("div");v.classList.add("wc"),v.appendChild((0,r.b)("keyboard_arrow_down")),v.onclick=function(){L(t,e.id,n.type,n.id,"down")};var b=document.createElement("div");b.classList.add("xc"),b.appendChild((0,r.b)("delete")),b.onclick=function(){!function(e,n,t,a){(0,d.k)(n,t,a).then(function(n){if(n)switch(e.remove(),t){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(t,e.id,n.type,n.id)};var h=document.createElement("div");h.classList.add("yc");var m=document.createElement("div");return m.classList.add("yc"),p.appendChild(f),p.appendChild(v),p.appendChild(b),p.appendChild(h),p.appendChild(m),t.appendChild(o),t.appendChild(s),t.appendChild(u),t.appendChild(p),t}function w(e,n){b.value=e.name,h.value=e.icon,p.onclick=function(){var n,t,a;n=e.id,t=b.value,a=h.value,(0,d.q)(n,t,a).then(function(e){e?(E(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},g.innerHTML="";var t=new DocumentFragment;for(var a of n){var i=y(e,a);t.appendChild(i)}g.append(t)}function k(){return(k=(0,a.a)(function*(e){w((0,d.b)(e),yield(0,d.g)(e))})).apply(this,arguments)}function C(e){(0,o.d)("FolderEditor"),s.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,o.a)()}function E(){s.setAttribute("displayed","false"),(0,o.c)()}function L(e,n,t,a,i){(0,d.p)(n,t,a,i).then(function(n){if(n)switch(i){case"up":var t=e.previousElementSibling;t&&e.parentNode.insertBefore(e,t),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var a=e.nextElementSibling;a&&e.parentNode.insertBefore(a,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}m.onclick=function(){(0,c.b)("editor")}},9499(e,n,t){t.d(n,{a:()=>w,b:()=>y});var a=t(467),d=t(8925),i=t(7183),c=t(8179),r=t(5579),o=t(904),l=(0,c.b)(".wd"),s=(0,c.d)(l,"._d"),u=(0,c.d)(s,".ae"),p=(0,c.d)(s,".be"),f=(0,c.d)(p,'.ce[name="total-data-usage"] .ee'),v=(0,c.d)(p,'.ce[name="max-data-usage-per-minute"] .ee'),b=(0,c.d)(p,'.ce[name="min-data-usage-per-minute"] .ee'),h=(0,c.d)(p,'.ce[name="start-time"] .ee'),m=(0,c.d)(p,'.ce[name="end-time"] .ee');function g(){return(g=(0,a.a)(function*(){var e=(0,o.e)("window"),n=e.width,t=Math.min(5/18*n,.33*e.height),a=yield(0,d.c)(n,t,20);f.innerText=(0,i.a)(a.stats.sum),v.innerText=(0,i.a)(a.stats.max),b.innerText=(0,i.a)(a.stats.min),h.innerText=(0,r.c)(a.period.start,"YYYY-MM-DD"),m.innerText=(0,r.c)(a.period.end,"YYYY-MM-DD"),u.innerHTML=a.chart})).apply(this,arguments)}function y(){(0,o.d)("DataUsage"),l.setAttribute("displayed","true"),function(){g.apply(this,arguments)}(),(0,o.a)()}function w(){l.setAttribute("displayed","false"),(0,o.c)()}}}]);
//# sourceMappingURL=9a264cbf73d6d2899fe1.js.map