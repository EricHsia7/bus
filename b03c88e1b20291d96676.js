"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[1775],{2994(e,t,n){n.d(t,{G:()=>g});var a=n(4225),r=n(3459),i=n(8179),o=n(8024),c=n(904);function l(e,t,n,a,r,i,o){try{var c=e[i](o),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}var u=[],d=!1,s=!1,f=(0,i.bv)(".ht"),v=(0,i.aI)(f,".lt"),h=(0,i.aI)(v,".mt");function p(){var e=document.createElement("div");e.classList.add("nt");var t=document.createElement("div");t.classList.add("ot");var n=document.createElement("div");return n.classList.add("pt"),e.appendChild(t),e.appendChild(n),{element:e,id:""}}function m(e,t,n){function a(e,a,r){function c(e,t){(0,i.aI)(e,".pt").innerText=t.size}function l(e,t){(0,i.aI)(e,".ot").innerText=t.category.name}function u(e,t){e.setAttribute("animation",(0,o.xZ)(t))}function f(e,t){e.setAttribute("skeleton-screen",(0,o.xZ)(t))}r?(a.category.key!==r.category.key&&(l(e,a),c(e,a)),a.size!==r.size&&c(e,a),d!==n&&u(e,n),s!==t&&f(e,t)):(c(e,a),l(e,a),u(e,n),f(e,t))}var r=[];for(var c in e.categorizedSizes){var l=e.categorizedSizes[c];r.push(l)}var f=r.length,v=(0,i.jg)(h,".nt").length;if(f!==v){var m=v-f;if(m<0){for(var y=new DocumentFragment,g=0,b=Math.abs(m);g<b;g++){var w=p();y.appendChild(w.element)}h.appendChild(y)}else for(var k=(0,i.jg)(h,".nt"),x=0,A=Math.abs(m);x<A;x++){k[v-1-x].remove()}}for(var C=(0,i.jg)(h,".nt"),I=0;I<f;I++){var S=u[I],M=r[I],E=C[I];a(E,M,S||null)}u=r,s=t,d=n}function y(){var e;return e=function*(){var e=(0,r.Js)("playing_animation");!function(){for(var e=(0,r.Js)("playing_animation"),t=(0,c.gO)("window").height,n=Math.min(7,Math.floor(t/55)+2),a={categorizedSizes:{},totalSize:0},i=0;i<n;i++){var o=`store-${i}`;a.categorizedSizes[o]={category:{name:"",key:o},size:`size-${i}`}}m(a,!0,e)}(),m(yield(0,a.F)(),!1,e)},y=function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){l(i,a,r,o,c,"next",e)}function c(e){l(i,a,r,o,c,"throw",e)}o(void 0)})},y.apply(this,arguments)}function g(){f.setAttribute("displayed","true"),function(){y.apply(this,arguments)}()}},5009(e,t,n){n.d(t,{Bb:()=>oe,rf:()=>ie});var a=n(8134),r=n(8179),i=n(7968),o=n(8024),c=n(6141),l=n(4781),u=n(4884),d=n(6082),s=n(4537),f=n(904),v=n(3030),h=n(9119),p=n(4690);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var g=[],b=(0,r.bv)(".hf"),w=(0,r.aI)(b,".if"),k=(0,r.aI)(b,".tr"),x=(0,r.aI)(w,".jf #search_input"),A=(0,r.aI)(w,".jf canvas"),C=(0,r.aI)(w,".sr"),I=(0,r.aI)(k,".ur"),S=(0,r.aI)(k,".yr"),M=A.getContext("2d"),E=window.devicePixelRatio,T=15*E,L=1.8*E,z=.9*E,j=4*E,_=25*E,$=20*E,D=[["紅","藍","1","2","3"],["綠","棕","4","5","6"],["橘","小","7","8","9"],["鍵盤","幹線","清空","0","刪除"]],O=(0,c.t)("--a"),F=(0,c.t)("--ae"),R=(0,c.t)("--b"),N=0,P=0,U=0,Z=!1,B=0,G=(0,f.gO)("head-two-button"),H=G.width*E,J=G.height*E,W=!1,Y=!1;function q(){var e=ee(),t=e.substring(0,e.length-1);x.value=t,re(),te(-1,-1),(0,f.p9)()}function K(){x.value="",re(),te(-1,-1),(0,f.p9)()}function Q(e){e.preventDefault(),x.focus(),(0,f.p9)()}function V(){!function(){if(!Y){Y=!0;var e,t=new DocumentFragment,n=m(D);try{for(n.s();!(e=n.n()).done;){var a,r=m(e.value);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=document.createElement("button");c.classList.add("zr");var l=(0,o.p1)()?"touchstart":"mousedown";switch(i){case"刪除":c.addEventListener(l,q),c.appendChild((0,s.YC)("backspace"));break;case"清空":c.addEventListener(l,K),c.appendChild(document.createTextNode(i));break;case"鍵盤":c.addEventListener(l,Q),c.appendChild((0,s.YC)("keyboard"));break;default:c.addEventListener(l,function(e){return function(){var t,n;t=e,n=`${ee()}${t}`,x.value=n,re(),te(-1,-1),(0,f.p9)()}}(i)),c.appendChild(document.createTextNode(i))}t.appendChild(c)}}catch(e){r.e(e)}finally{r.f()}}}catch(e){n.e(e)}finally{n.f()}S.append(t)}}(),S.setAttribute("displayed","true"),W=!0,ne(),te(-1,-1)}function X(){return parseInt(C.getAttribute("type"))}function ee(){return String(x.value)}function te(e,t){var n=ee(),a=!1;0===n.length?(n="搜尋路線、地點、公車",a=!0,e=0,t=0):-1===e&&-1===t&&(t=1*(e=n.length)),G=(0,f.gO)("head-two-button"),H=G.width*E,J=G.height*E,O=(0,c.t)("--a"),F=(0,c.t)("--ae"),R=(0,c.t)("--b"),M.font=`400 ${$}px "Noto Sans TC", sans-serif`,M.textAlign="center",M.textBaseline="middle",N=M.measureText(n).width,P=M.measureText(n.substring(0,e)).width,U=M.measureText(n.substring(e,t)).width,B=a?1:Math.max(1,P),M.clearRect(0,0,H,J),e===t?(Z=!0,M.globalAlpha=1,M.fillStyle=a?F:O,M.fillText(n,N/2+(Math.min(B,H-T)-B),J/2),(0,i.wg)(M,Math.min(B,H-T),(J-_)/2,L,_,z,R)):(Z=!1,M.globalAlpha=.27,(0,i.wg)(M,Math.min(B,H-T),(J-_)/2,U,_,j,R),M.globalAlpha=1,M.fillStyle=a?F:O,M.fillText(n,N/2+(Math.min(B,H-T)-B),J/2),M.globalAlpha=.08,(0,i.wg)(M,Math.min(B,H-T),(J-_)/2,U,_,j,R))}function ne(){var e=performance.now(),t=1-Math.pow(Math.sin(Math.PI*e/960),4);Z&&(M.globalAlpha=t,M.clearRect(Math.min(B,H-T)-1,0,L+2,J),(0,i.wg)(M,Math.min(B,H-T),(J-_)/2,L,_,z,R)),W&&window.requestAnimationFrame(ne)}function ae(){var e=document.createElement("div");e.classList.add("vr");var t=document.createElement("div");t.classList.add("xr");var n=document.createElement("div");return n.classList.add("wr"),n.appendChild((0,s.oC)()),e.appendChild(n),e.appendChild(t),{element:e,id:""}}function re(){var e=["route","location_on","directions_bus"];function t(t,n,a){function i(t,n){var a=(0,r.aI)(n,".wr");(0,s.yD)(a,e[t.item.type])}function o(e,t){(0,r.aI)(t,".xr").innerText=e.item.n}function c(e,t){switch(e.item.type){case 0:t.onclick=function(){(0,p.SR)(e.item.id,e.item.pid)};break;case 1:t.onclick=function(){(0,v.so)(e.item.hash)};break;case 2:t.onclick=function(){(0,u.$l)(e.item.id)}}}a?(n.item.type!==a.item.type&&i(n,t),n.item.id!==a.item.id&&(o(n,t),c(n,t))):(i(n,t),o(n,t),c(n,t))}var n=X(),i=ee();if(!(0,l.iO)(i)){var o=(0,a.GU)(i,n,30),c=o.length,d=(0,r.jg)(I,".vr").length;if(c!==d){var f=d-c;if(f<0){for(var h=new DocumentFragment,m=0,y=Math.abs(f);m<y;m++){var b=ae();h.appendChild(b.element)}I.appendChild(h)}else for(var w=(0,r.jg)(I,".vr"),k=0,x=Math.abs(f);k<x;k++){w[d-1-k].remove()}}for(var A=(0,r.jg)(I,".vr"),C=0;C<c;C++){var S=g[C],M=o[C],E=A[C];t(E,M,S||null)}g=o}}function ie(){d.m?((0,f.WR)("Search"),b.setAttribute("displayed","true"),V(),(0,a.dD)()):(0,h.a)("download_for_offline","資料還在下載中")}function oe(){(0,f.kr)("Search"),S.setAttribute("displayed","false"),W=!1,b.setAttribute("displayed","false")}},6166(e,t,n){n.d(t,{yH:()=>p});var a=n(3459),r=n(8179),i=n(904);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var l=(0,r.bv)("._r"),u=(0,r.aI)(l,".is"),d=(0,r.aI)(u,".js"),s=(0,r.aI)(u,".ps"),f=(0,r.aI)(l,".bs"),v=(0,r.aI)(f,".hs");function h(e,t,n){var i=document.createElement("div");i.classList.add("ks");var c=document.createElement("div");c.classList.add("ls"),c.appendChild(document.createTextNode(t.name));var l=document.createElement("div");l.classList.add("ms");var u=document.createElement("input");return u.type="checkbox",u.checked=e.option===n,u.onclick=function(t){!function(e,t,n){var i,c=o((0,r.e0)('._r .is .js .ks .ms input[type="checkbox"]'));try{for(c.s();!(i=c.n()).done;){i.value.checked=!1}}catch(e){c.e(e)}finally{c.f()}var l=e.target;l.checked=!0,(0,a.aN)(t,n)}(t,e.key,n)},l.appendChild(u),i.appendChild(c),i.appendChild(l),{element:i,id:""}}function p(e){(0,i.WR)("SettingsOptions"),l.setAttribute("displayed","true"),function(e){var t=(0,a.PL)(e);v.innerText=t.name,s.innerText=t.description,d.innerHTML="";var n,r=new DocumentFragment,i=0,c=o(t.options);try{for(c.s();!(n=c.n()).done;){var l=h(t,n.value,i);r.appendChild(l.element),i+=1}}catch(e){c.e(e)}finally{c.f()}d.append(r)}(e),(0,i.Z_)()}}}]);
//# sourceMappingURL=b03c88e1b20291d96676.js.map