{"version":3,"file":"317.7cb28cd9e8665a1a5afa.js","mappings":"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","sources":["webpack://bus/./src/data/apis/getSegmentBuffers/index.ts","webpack://bus/./src/data/bus/index.ts","webpack://bus/./src/data/apis/loader.ts","webpack://bus/./src/data/apis/getBusData/index.ts","webpack://bus/./src/data/apis/getBusEvent/index.ts","webpack://bus/./src/data/apis/getLocation/mergeLocationByName-worker.ts"],"sourcesContent":["import { lfGetItem, lfSetItem } from '../../storage/index';\nimport { getAPIURL } from '../getAPIURL/index';\nimport { fetchData, setDataReceivingProgress, setDataUpdateTime } from '../loader';\n\nexport interface BufferZoneItem {\n  Direction: 0 | 1 | 2; // (goBack/GoBack)\n  OriginStopID: number;\n  DestinationStopID: number;\n}\n\nexport type BufferZones = Array<BufferZoneItem>;\n\nexport interface SegmentBufferItem {\n  RouteID: number;\n  BufferZones: BufferZones;\n}\n\nexport type SegmentBuffers = Array<SegmentBufferItem>;\n\nexport type SimplifiedSegmentBufferItem = { [key: string]: Array<BufferZoneItem> };\n\nexport type SimplifiedSegmentBuffer = { [key: string]: SimplifiedSegmentBufferItem };\n\nlet SegmentBuffersAPIVariableCache_available: boolean = false;\nlet SegmentBuffersAPIVariableCache_data: object = {};\n\nasync function extractSegmentBuffers(xml: string): Promise<SegmentBuffers> {\n  const worker = new Worker(new URL('./extractSegmentBuffers-worker.ts', import.meta.url));\n\n  // Wrap worker communication in a promise\n  const result = await new Promise((resolve, reject) => {\n    worker.onmessage = function (e) {\n      resolve(e.data); // Resolve the promise with the worker's result\n      worker.terminate(); // Terminate the worker when done\n    };\n\n    worker.onerror = function (e) {\n      reject(e.message); // Reject the promise on error\n      worker.terminate(); // Terminate the worker if an error occurs\n    };\n\n    worker.postMessage(xml); // Send data to the worker\n  });\n\n  return result;\n}\n\nasync function simplifySegmentBuffers(array: SegmentBuffers): Promise<SimplifiedSegmentBuffer> {\n  const worker = new Worker(new URL('./simplifySegmentBuffers-worker.ts', import.meta.url));\n\n  // Wrap worker communication in a promise\n  const result = await new Promise((resolve, reject) => {\n    worker.onmessage = function (e) {\n      resolve(e.data); // Resolve the promise with the worker's result\n      worker.terminate(); // Terminate the worker when done\n    };\n\n    worker.onerror = function (e) {\n      reject(e.message); // Reject the promise on error\n      worker.terminate(); // Terminate the worker if an error occurs\n    };\n\n    worker.postMessage(array); // Send data to the worker\n  });\n\n  return result;\n}\n\nexport async function getSegmentBuffers(requestID: string): Promise<SimplifiedSegmentBuffer> {\n  async function getData() {\n    const apis = [\n      [0, 15],\n      [1, 15]\n    ].map((e) => ({ url: getAPIURL(e[0], e[1]), e: e }));\n    let result = '';\n    for (const api of apis) {\n      const data = await fetchData(api.url, requestID, `getSegmentBuffers_${api.e[0]}`, 'xml');\n      result += data;\n      setDataUpdateTime(requestID, -1);\n    }\n    return result;\n  }\n\n  const cacheTimeToLive = 60 * 60 * 24 * 30 * 1000;\n  const cacheKey = 'bus_segment_buffers_cache';\n  const cacheTimestamp = await lfGetItem(0, `${cacheKey}_timestamp`);\n  if (cacheTimestamp === null) {\n    const result = await getData();\n    const extractedResult = await extractSegmentBuffers(result);\n    const simplifiedResult = await simplifySegmentBuffers(extractedResult);\n    await lfSetItem(0, `${cacheKey}_timestamp`, new Date().getTime());\n    await lfSetItem(0, cacheKey, JSON.stringify(simplifiedResult));\n    if (!SegmentBuffersAPIVariableCache_available) {\n      SegmentBuffersAPIVariableCache_available = true;\n      SegmentBuffersAPIVariableCache_data = simplifiedResult;\n    }\n    return simplifiedResult;\n  } else {\n    if (new Date().getTime() - parseInt(cacheTimestamp) > cacheTimeToLive) {\n      const result = await getData();\n      const extractedResult = await extractSegmentBuffers(result);\n      const simplifiedResult = await simplifySegmentBuffers(extractedResult);\n      await lfSetItem(0, `${cacheKey}_timestamp`, new Date().getTime());\n      await lfSetItem(0, cacheKey, JSON.stringify(simplifiedResult));\n      return simplifiedResult;\n    } else {\n      if (!SegmentBuffersAPIVariableCache_available) {\n        const cache = await lfGetItem(0, cacheKey);\n        SegmentBuffersAPIVariableCache_available = true;\n        SegmentBuffersAPIVariableCache_data = JSON.parse(cache);\n      }\n      setDataReceivingProgress(requestID, 'getSegmentBuffers_0', 0, true);\n      setDataReceivingProgress(requestID, 'getSegmentBuffers_1', 0, true);\n      setDataUpdateTime(requestID, -1);\n      return SegmentBuffersAPIVariableCache_data;\n    }\n  }\n}\n","import { MaterialSymbols } from '../../interface/icons/material-symbols-type';\nimport { getBusData } from '../apis/getBusData/index';\nimport { getBusEvent } from '../apis/getBusEvent/index';\nimport { CarInfoItem, getCarInfo } from '../apis/getCarInfo/index';\nimport { getLocation, SimplifiedLocation } from '../apis/getLocation/index';\nimport { getStop } from '../apis/getStop/index';\nimport { parseBusStatus, parseCarOnStop, parseCarType } from '../apis/index';\nimport { deleteDataReceivingProgress, deleteDataUpdateTime } from '../apis/loader';\nimport { searchRouteByPathAttributeId } from '../search/index';\n\nexport interface integratedBus {\n  properties: Array<{\n    key: string;\n    icon: MaterialSymbols;\n    value: string;\n  }>;\n  RouteID: number;\n  FullPathAttributeId: Array<number>;\n}\n\nexport async function integrateBus(id: CarInfoItem['BusId'], requestID: string): Promise<integratedBus> {\n  const carKey = `c_${id}`;\n  const CarInfo = await getCarInfo(requestID, true);\n  const BusData = await getBusData(requestID);\n  const BusEvent = await getBusEvent(requestID);\n  const Stop = await getStop(requestID);\n  const Location = (await getLocation(requestID, 0)) as SimplifiedLocation;\n\n  let result: integratedBus = {\n    properties: [],\n    LocationName: ''\n  };\n\n  // Collect data from CarInfo\n  let thisCar = {};\n  if (CarInfo.hasOwnProperty(carKey)) {\n    thisCar = CarInfo[carKey];\n  } else {\n    return result;\n  }\n\n  const thisCarNumber = thisCar.CarNum;\n  result.properties.push({\n    key: 'car_number',\n    icon: 'tag',\n    value: thisCarNumber\n  });\n\n  const thisCarType = thisCar.CarType;\n  const type = parseCarType(thisCarType);\n  result.properties.push({\n    key: 'car_type',\n    icon: 'directions_bus',\n    value: type\n  });\n\n  // Collect data from BusData\n  let thisBusDataItem = {};\n  for (const BusDataItem of BusData) {\n    const thisBusDataItemBusID = BusDataItem.BusID;\n    if (thisBusDataItemBusID === thisCarNumber) {\n      thisBusDataItem = BusDataItem;\n      break;\n    }\n  }\n  const thisBusDataItemPathAttributeId = parseInt(thisBusDataItem.RouteID);\n  // result.PathAttributeId = thisBusDataItemPathAttributeId;\n  const thisBusDataItemBusStatus = thisBusDataItem.BusStatus;\n  const situation = parseBusStatus(thisBusDataItemBusStatus);\n  const thisBusDataItemGoBack = parseInt(thisBusDataItem.GoBack);\n\n  // Collect data from BusEvent\n  let thisBusEventItem = {};\n  for (const BusEventItem of BusEvent) {\n    const thisBusEventItemBusID = BusEventItem.BusID;\n    if (thisBusEventItemBusID === thisCarNumber) {\n      thisBusEventItem = BusEventItem;\n      break;\n    }\n  }\n\n  const thisBusEventItemCarOnStop = thisBusEventItem.CarOnStop;\n  const onStop = parseCarOnStop(thisBusEventItemCarOnStop);\n  result.properties.push({\n    key: 'status',\n    icon: 'vital_signs',\n    value: `${onStop} | ${situation}`\n  });\n  const thisBusEventItemStopID = thisBusEventItem.StopID;\n\n  // Search routes\n  const searchedRoutes = await searchRouteByPathAttributeId(thisBusDataItemPathAttributeId);\n  let searchedRoute = {};\n  if (searchedRoutes.length > 0) {\n    searchedRoute = searchedRoutes[0];\n  } else {\n    return result;\n  }\n  const thisRouteID = searchedRoute.id;\n  const thisRouteFullPathAttributeId = searchedRoute.pid;\n  const thisRouteName = searchedRoute.n;\n  const thisRouteDeparture = searchedRoute.dep;\n  const thisRouteDestination = searchedRoute.des;\n  const thisRouteDirection = [thisRouteDestination, thisRouteDeparture, ''][thisBusDataItemGoBack ? thisBusDataItemGoBack : 0];\n  result.properties.push({\n    key: 'route',\n    icon: 'route',\n    value: `${thisRouteName} - 往${thisRouteDirection}`\n  });\n\n  result.RouteID = thisRouteID;\n  result.FullPathAttributeId = thisRouteFullPathAttributeId;\n\n  // Collect data from Stop\n  const StopKey = `s_${thisBusEventItemStopID}`;\n  let thisStopItem = {};\n  if (Stop.hasOwnProperty(StopKey)) {\n    thisStopItem = Stop[StopKey];\n  } else {\n    return result;\n  }\n  const thisStopItemStopLocationId = thisStopItem.stopLocationId;\n\n  // Collect data drom Location\n  const LocationKey = `l_${thisStopItemStopLocationId}`;\n  const thisLocationItem = Location[LocationKey];\n  const thisLocationItemName = thisLocationItem.n;\n  result.properties.push({\n    key: 'location_name',\n    icon: 'location_on',\n    value: thisLocationItemName\n  });\n\n  deleteDataReceivingProgress(requestID);\n  deleteDataUpdateTime(requestID);\n  return result;\n}\n","import { pakoInflate } from '../../tools/pako-inflate/index';\nimport { timeStampToNumber } from '../../tools/time';\nimport { recordDataUsage } from '../analytics/data-usage/index';\n\ntype FetchTaskRequest = [resolve: Function, reject: Function, requestID: string, tag: string];\n\ninterface FetchTask {\n  processing: boolean;\n  requests: Array<FetchTaskRequest>;\n  failed: boolean;\n  timestamp: number;\n  result: any;\n}\n\ntype FetchTasks = { [url: string]: FetchTask };\n\nconst tasks: FetchTasks = {};\n\nconst TTL = 30000;\nconst FetchError = new Error('FetchError');\n\nexport async function fetchData(url: string, requestID: string, tag: string, fileType: 'json' | 'xml'): Promise<object> {\n  // Check concurrency\n  if (tasks.hasOwnProperty(url)) {\n    if (tasks[url].processing) {\n      return await new Promise((resolve, reject) => {\n        tasks[url].requests.push([resolve, reject, requestID, tag]);\n      });\n    } else if (tasks[url].result !== null && new Date().getTime() <= tasks[url].timestamp) {\n      setDataReceivingProgress(requestID, tag, 0, true);\n      return tasks[url].result;\n    }\n  } else {\n    tasks[url] = {\n      processing: true,\n      requests: [],\n      failed: false,\n      timestamp: -1,\n      result: null\n    };\n  }\n\n  // Fetch data\n  const response = await fetch(url);\n  if (!response.ok) {\n    setDataReceivingProgress(requestID, tag, 0, true);\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  // Read chunks\n  const contentLength = parseInt(String(response.headers.get('content-length')));\n  const reader = response.body.getReader();\n  const chunks = [];\n  let receivedLength = 0;\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    chunks.push(value);\n    receivedLength += value.length;\n    const progress = receivedLength / contentLength;\n    setDataReceivingProgress(requestID, tag, progress, false);\n    if (tasks.hasOwnProperty(url)) {\n      for (const request of tasks[url].requests) {\n        setDataReceivingProgress(request[2], request[3], progress, false);\n      }\n    }\n  }\n\n  // Concatenate all the chunks into a single Uint8Array\n  const uint8Array = new Uint8Array(receivedLength);\n  let position = 0;\n  for (const chunk of chunks) {\n    uint8Array.set(chunk, position);\n    position += chunk.length;\n  }\n\n  // Create a blob from the concatenated Uint8Array\n  const blob = new Blob([uint8Array], { type: 'application/gzip' });\n  const arrayBuffer = await blob.arrayBuffer();\n  const inflatedData = await pakoInflate(arrayBuffer);\n\n  let result;\n  switch (fileType) {\n    case 'json':\n      if (/^<!doctype html>/.test(inflatedData)) {\n        result = await fetchData(url.replace('https://tcgbusfs.blob.core.windows.net/', 'https://erichsia7.github.io/bus-alternative-static-apis/'), requestID, tag, fileType);\n      } else {\n        result = JSON.parse(inflatedData);\n      }\n      break;\n    case 'xml':\n      result = inflatedData;\n      break;\n    default:\n      break;\n  }\n\n  // Record data usage\n  const now = new Date();\n  await recordDataUsage(contentLength, now);\n\n  if (result) {\n    // Resolve promises\n    if (tasks.hasOwnProperty(url)) {\n      const progress = receivedLength / contentLength;\n      let request = tasks[url].requests.shift();\n      while (request) {\n        request[0](result);\n        setDataReceivingProgress(request[2], request[3], progress, false);\n        request = tasks[url].requests.shift();\n      }\n      tasks[url].result = result;\n      tasks[url].timestamp = now.getTime() + TTL;\n      tasks[url].processing = false;\n    }\n    discardExpiredFetchTasks();\n    return result;\n  } else {\n    // Reject promises\n    if (tasks.hasOwnProperty(url)) {\n      let request = tasks[url].requests.shift();\n      while (request) {\n        request[1](FetchError);\n        setDataReceivingProgress(request[2], request[3], 0, true);\n        request = tasks[url].requests.shift();\n      }\n      tasks[url].failed = true;\n    }\n    discardExpiredFetchTasks();\n    throw FetchError;\n  }\n}\n\nfunction discardExpiredFetchTasks(): void {\n  const now = new Date().getTime();\n  for (const url in tasks) {\n    if (tasks.hasOwnProperty(url)) {\n      if (!tasks[url].processing) {\n        if (now > tasks[url].timestamp) {\n          delete tasks[url];\n          continue;\n        }\n      }\n      if (tasks[url].failed) {\n        delete tasks[url];\n        continue;\n      }\n    }\n  }\n}\n\nexport type DataReceivingProgress = {\n  [requestID: string]: {\n    [tag: string]: {\n      expel: boolean;\n      progress: number;\n      total: number;\n    };\n  };\n};\n\nconst dataReceivingProgress: DataReceivingProgress = {};\n\nexport function setDataReceivingProgress(requestID: string, tag: string, progress: number, expel: boolean): void {\n  if (!dataReceivingProgress.hasOwnProperty(requestID)) {\n    dataReceivingProgress[requestID] = {};\n  }\n  if (dataReceivingProgress[requestID].hasOwnProperty(tag)) {\n    if (expel) {\n      dataReceivingProgress[requestID][tag].expel = true;\n    } else {\n      dataReceivingProgress[requestID][tag].expel = false;\n      dataReceivingProgress[requestID][tag].progress = progress;\n    }\n    broadcastDataReceivingProgress(requestID, 'run');\n  } else {\n    dataReceivingProgress[requestID][tag] = { expel: false, progress: progress, total: 1 };\n    broadcastDataReceivingProgress(requestID, 'start');\n  }\n}\n\nexport function getDataReceivingProgress(requestID: string): number {\n  if (dataReceivingProgress.hasOwnProperty(requestID)) {\n    if (typeof dataReceivingProgress[requestID] === 'object') {\n      let total: number = 0;\n      let received: number = 0;\n      for (const key in dataReceivingProgress[requestID]) {\n        if (!dataReceivingProgress[requestID][key].expel) {\n          total += dataReceivingProgress[requestID][key].total;\n          received += dataReceivingProgress[requestID][key].progress;\n        }\n      }\n      const progress = Math.min(Math.max(received / total, 0), 1);\n      return progress === Infinity || isNaN(progress) ? 1 : progress;\n    }\n  }\n  return 1;\n}\n\nexport function deleteDataReceivingProgress(requestID: string): void {\n  if (dataReceivingProgress.hasOwnProperty(requestID)) {\n    delete dataReceivingProgress[requestID];\n    broadcastDataReceivingProgress(requestID, 'end');\n  }\n}\n\nexport interface DataReceivingProgressEventDict {\n  target: string;\n  stage: 'start' | 'run' | 'end';\n  progress: number;\n}\n\nexport type DataReceivingProgressEvent = CustomEvent<DataReceivingProgressEventDict>;\n\nexport function broadcastDataReceivingProgress(requestID: string, stage: DataReceivingProgressEventDict['stage']): void {\n  const eventDict: DataReceivingProgressEventDict = {\n    target: requestID,\n    stage: stage,\n    progress: getDataReceivingProgress(requestID)\n  };\n  const event = new CustomEvent(requestID, { detail: eventDict });\n  document.dispatchEvent(event);\n}\n\nexport type DataUpdateTime = { [key: string]: number };\n\nexport const dataUpdateTime: DataUpdateTime = {};\n\nexport function setDataUpdateTime(requestID: string, timestamp: string | number): void {\n  if (!dataUpdateTime.hasOwnProperty(requestID)) {\n    dataUpdateTime[requestID] = 0;\n  }\n  let timeNumber = 0;\n  if (typeof timestamp === 'string') {\n    timeNumber = timeStampToNumber(timestamp);\n  }\n  if (timeNumber > dataUpdateTime[requestID]) {\n    dataUpdateTime[requestID] = timeNumber;\n  }\n}\n\nexport function getDataUpdateTime(requestID: string): number {\n  if (dataUpdateTime.hasOwnProperty(requestID)) {\n    return dataUpdateTime[requestID] * 1;\n  } else {\n    return 0;\n  }\n}\n\nexport function deleteDataUpdateTime(requestID: string): void {\n  if (dataUpdateTime.hasOwnProperty(requestID)) {\n    delete dataUpdateTime[requestID];\n  }\n}\n","import { getAPIURL } from '../getAPIURL/index';\nimport { fetchData, setDataUpdateTime } from '../loader';\n\nexport interface BusDataItem {\n  ProviderID: number;\n  StationID: number;\n  BusID: string; // vehicle registration number\n  CarType: '0' | '1' | '2' | '3'; // 0: normal bus (一般), 1: low-floor bus (低底盤), 2: disability-friendly bus (大復康巴士), 3: dog-friendly bus (狗狗友善專車)\n  CarID: number;\n  DutyStatus: '0' | '1' | '2'; // 0: normal, 1: start, 2: end\n  BusStatus: '0' | '1' | '2' | '3' | '4' | '5' | '99'; // 0: 正常, 1: 車禍, 2: 故障, 3: 塞車, 4: 緊急求援, 5: 加油, 99: 非營運狀態\n  RouteID: string; // number in string\n  GoBack: '0' | '1' | '2'; // 0: go, 1: back, 2: unknown\n  Longitude: string; // number in string\n  Latitude: string; // number in string\n  Speed: string; // number in string\n  Azimuth: string; // number in string\n  DataTime: string; // timestamp\n}\n\nexport type BusData = Array<BusDataItem>;\n\nexport async function getBusData(requestID: string): Promise<BusData> {\n  const apis = [\n    [0, 0],\n    [1, 0]\n  ].map((e) => ({ url: getAPIURL(e[0], e[1]), e: e }));\n  let result = [];\n  for (const api of apis) {\n    const data = await fetchData(api.url, requestID, `getBusData_${api.e[0]}`, 'json');\n    result = result.concat(data.BusInfo);\n    setDataUpdateTime(requestID, data.EssentialInfo.UpdateTime);\n  }\n  return result;\n}\n","import { getAPIURL } from '../getAPIURL/index';\nimport { fetchData, setDataUpdateTime } from '../loader';\n\nexport interface BusEventItem {\n  StationID: number;\n  CarType: '0' | '1' | '2' | '3'; // 0: normal bus (一般), 1: low-floor bus (低底盤), 2: disability-friendly bus (大復康巴士), 3: dog-friendly bus (狗狗友善專車)\n  BusID: string; // vehicle registration number\n  ProviderID: number;\n  CarID: number;\n  DutyStatus: '0' | '1' | '2'; // 0: normal, 1: start, 2: end\n  BusStatus: '0' | '1' | '2' | '3' | '4' | '5' | '99'; // 0: 正常, 1: 車禍, 2: 故障, 3: 塞車, 4: 緊急求援, 5: 加油, 99: 非營運狀態\n  RouteID: string; // PathAttributeId (number in string)\n  GoBack: '0' | '1' | '2'; // 0: go, 1: back, 2: unknown\n  StopID: string; // number in string\n  CarOnStop: '0' | '1'; // 0: leaving/left, 1: coming/came\n  DataTime: string; // timestamp\n}\n\nexport type BusEvent = Array<BusEventItem>;\n\nexport async function getBusEvent(requestID: string): Promise<BusEvent> {\n  const apis = [\n    [0, 1],\n    [1, 1]\n  ].map((e) => ({ url: getAPIURL(e[0], e[1]), e: e }));\n  let result = [];\n  for (const api of apis) {\n    const data = await fetchData(api.url, requestID, `getBusEvent_${api.e[0]}`, 'json');\n    result = result.concat(data.BusInfo);\n    setDataUpdateTime(requestID, data.EssentialInfo.UpdateTime);\n  }\n  return result;\n}\n","import { mergeAddressesIntoOne } from '../../../tools/address';\nimport { md5 } from '../../../tools/index';\nimport { MergedLocation, SimplifiedLocation } from './index';\n\nself.onmessage = function (e) {\n  const result = processWorkerTask(e.data);\n  self.postMessage(result); // Send the result back to the main thread\n};\n\nfunction processWorkerTask(object: SimplifiedLocation): MergedLocation {\n  const result: MergedLocation = {};\n  for (const key in object) {\n    const hash = md5(\n      String(object[key].n)\n        .trim()\n        .replaceAll(/[\\(\\（\\）\\)\\:\\：\\~\\～]*/gim, '')\n    );\n    const nameKey = `ml_${hash}`;\n    if (!result.hasOwnProperty(nameKey)) {\n      result[nameKey] = {\n        n: object[key].n,\n        lo: [object[key].lo],\n        la: [object[key].la],\n        g: [object[key].g],\n        r: [object[key].r],\n        s: [object[key].s],\n        v: [object[key].v],\n        a: [mergeAddressesIntoOne(object[key].a)],\n        id: [object[key].id],\n        hash: hash\n      };\n    } else {\n      result[nameKey].lo.push(object[key].lo);\n      result[nameKey].la.push(object[key].la);\n      if (result[nameKey].g.indexOf(object[key].g) < 0) {\n        result[nameKey].g.push(object[key].g);\n      }\n      result[nameKey].r.push(object[key].r);\n      result[nameKey].s.push(object[key].s);\n      result[nameKey].v.push(object[key].v);\n      result[nameKey].a.push(mergeAddressesIntoOne(object[key].a));\n      result[nameKey].id.push(object[key].id);\n    }\n  }\n  return result;\n}\n"],"names":["SegmentBuffersAPIVariableCache_available","SegmentBuffersAPIVariableCache_data","extractSegmentBuffers","_x","_extractSegmentBuffers","apply","arguments","_asyncToGenerator","xml","worker","Worker","URL","Promise","resolve","reject","onmessage","e","data","terminate","onerror","message","postMessage","simplifySegmentBuffers","_x2","_simplifySegmentBuffers","array","getSegmentBuffers","_x3","_getSegmentBuffers","requestID","getData","_getData","_step","result","_iterator","_createForOfIteratorHelper","map","url","getAPIURL","s","n","done","api","value","fetchData","setDataUpdateTime","err","f","cacheKey","cacheTimestamp","lfGetItem","extractedResult","simplifiedResult","lfSetItem","Date","getTime","JSON","stringify","parseInt","cache","parse","setDataReceivingProgress","integrateBus","_integrateBus","id","carKey","CarInfo","getCarInfo","BusData","getBusData","BusEvent","getBusEvent","Stop","getStop","Location","getLocation","properties","LocationName","thisCar","hasOwnProperty","thisCarNumber","CarNum","push","key","icon","thisCarType","CarType","type","parseCarType","thisBusDataItem","BusDataItem","BusID","_step2","thisBusDataItemPathAttributeId","RouteID","thisBusDataItemBusStatus","BusStatus","situation","parseBusStatus","thisBusDataItemGoBack","GoBack","thisBusEventItem","_iterator2","BusEventItem","thisBusEventItemCarOnStop","CarOnStop","onStop","parseCarOnStop","thisBusEventItemStopID","StopID","searchedRoutes","searchRouteByPathAttributeId","searchedRoute","length","thisRouteID","thisRouteFullPathAttributeId","pid","thisRouteName","thisRouteDeparture","dep","thisRouteDirection","des","FullPathAttributeId","StopKey","thisLocationItemName","stopLocationId","deleteDataReceivingProgress","deleteDataUpdateTime","tasks","FetchError","Error","_x4","_fetchData","tag","fileType","processing","requests","timestamp","failed","response","fetch","ok","status","contentLength","String","headers","get","reader","body","getReader","chunks","receivedLength","_yield$reader$read","read","progress","request","uint8Array","Uint8Array","position","_i","_chunks","chunk","set","blob","Blob","arrayBuffer","inflatedData","pakoInflate","test","replace","now","recordDataUsage","shift","discardExpiredFetchTasks","dataReceivingProgress","expel","broadcastDataReceivingProgress","total","getDataReceivingProgress","_typeof","received","Math","min","max","Infinity","isNaN","stage","eventDict","target","event","CustomEvent","detail","document","dispatchEvent","dataUpdateTime","timeNumber","timeStampToNumber","getDataUpdateTime","_getBusData","concat","BusInfo","EssentialInfo","UpdateTime","_getBusEvent","self","object","hash","md5","trim","replaceAll","nameKey","lo","la","g","indexOf","r","v","a","mergeAddressesIntoOne","processWorkerTask"],"ignoreList":[],"sourceRoot":""}