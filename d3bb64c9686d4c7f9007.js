"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[680],{2063(t,n,e){e.d(n,{K:()=>l});var r=e(467),i=e(3153),a=e(6788);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("E0")}var a,o=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(l)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(t){return f.apply(this,arguments)}function f(){return(f=(0,r.A)(function*(t){var n,e=[],r=o([[0,4],[1,4]].map(function(t){return{url:(0,i.y)(t[0],t[1]),e:t}}));try{for(r.s();!(n=r.n()).done;){var u=n.value,l=yield(0,a.Fd)(u.url,t,`getEstimateTime_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,a.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e})).apply(this,arguments)}},3153(t,n,e){e.d(n,{Y:()=>o,y:()=>a});var r=e(8024),i=e(3459);function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=["blobbus","ntpcbus"],u=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],l=(0,i.Js)("proxy");return e?`http://erichsia7.github.io/bus-alternative-static-apis/${o[t]}/Get${u[n]}.gz?_=${(0,r.FU)(a)}`:l?`https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${u[n]}.gz&_=${(0,r.FU)(a)}`:`https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${u[n]}.gz?_=${(0,r.FU)(a)}`}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return`https://erichsia7.github.io/material-symbols-list/search-index.gz?_=${(0,r.FU)(t)}`}},6802(t,n,e){e.d(n,{d:()=>l});var r=e(467),i=e(3153),a=e(6788);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("E0")}var a,o=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(l)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(t){return f.apply(this,arguments)}function f(){return(f=(0,r.A)(function*(t){var n,e=[],r=o([[0,0],[1,0]].map(function(t){return{url:(0,i.y)(t[0],t[1]),e:t}}));try{for(r.s();!(n=r.n()).done;){var u=n.value,l=yield(0,a.Fd)(u.url,t,`getBusData_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,a.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e})).apply(this,arguments)}},7810(t,n,e){e.d(n,{J:()=>l});var r=e(467),i=e(3153),a=e(6788);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("E0")}var a,o=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(l)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(t){return f.apply(this,arguments)}function f(){return(f=(0,r.A)(function*(t){var n,e=[],r=o([[0,1],[1,1]].map(function(t){return{url:(0,i.y)(t[0],t[1]),e:t}}));try{for(r.s();!(n=r.n()).done;){var u=n.value,l=yield(0,a.Fd)(u.url,t,`getBusEvent_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,a.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e})).apply(this,arguments)}},8011(t,n,e){e.d(n,{g:()=>v});var r=e(467),i=e(4311),a=e(3153),o=e(6788);function u(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return l(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("E0")}var a,o=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(u)throw a}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var f={simplified:{available:!1,data:{}},merged:{available:!1,data:{}},indexed:{available:!1,data:{}}};function s(t){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(t){var n=new Worker(new URL(e.p+e.u(367),e.b));return yield new Promise(function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)})})).apply(this,arguments)}function y(t){return d.apply(this,arguments)}function d(){return(d=(0,r.A)(function*(t){var n=new Worker(new URL(e.p+e.u(327),e.b));return yield new Promise(function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)})})).apply(this,arguments)}function p(t){return m.apply(this,arguments)}function m(){return(m=(0,r.A)(function*(t){var n=new Worker(new URL(e.p+e.u(625),e.b));return yield new Promise(function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)})})).apply(this,arguments)}function v(t,n){return h.apply(this,arguments)}function h(){return h=(0,r.A)(function*(t,n){function e(){return l.apply(this,arguments)}function l(){return l=(0,r.A)(function*(){var n,e=[],r=u([[0,11],[1,11]].map(function(t){return{url:(0,a.y)(t[0],t[1]),e:t}}));try{for(r.s();!(n=r.n()).done;){var i=n.value,l=yield(0,o.Fd)(i.url,t,`getLocation_${i.e[0]}`,"json");e=e.concat(l.BusInfo),(0,o.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e}),l.apply(this,arguments)}var c=["simplified","merged","indexed"][n],d=`bus_${c}_location_cache`,m=yield(0,i.Ct)(0,`${d}_timestamp`);if(null===m){var h;switch(n){case 0:var g=yield e();h=yield s(g);break;case 1:var b=yield v(t,0);h=yield y(b);break;case 2:var w=yield v(t,1);h=yield p(w)}return yield(0,i.mL)(0,`${d}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,d,JSON.stringify(h)),f[c].available||(f[c].available=!0,f[c].data=h),h}if((new Date).getTime()-parseInt(m)>2592e6){var A;switch(n){case 0:var S=yield e();A=yield s(S);break;case 1:var _=yield v(t,0);A=yield y(_);break;case 2:var $=yield v(t,1);A=yield p($)}return yield(0,i.mL)(0,`${d}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,d,JSON.stringify(A)),f[c].available||(f[c].available=!0,f[c].data=A),A}if(!f[c].available){var L=yield(0,i.Ct)(0,d);f[c].available=!0,f[c].data=JSON.parse(L)}return(0,o.Mf)(t,"getLocation_0",0,!0),(0,o.Mf)(t,"getLocation_1",0,!0),(0,o.ZL)(t,-1),f[c].data}),h.apply(this,arguments)}},9218(t,n,e){e.d(n,{l:()=>f});var r=e(467),i=e(4311),a=e(3153),o=e(6788),u=!1,l=[];function f(t){return s.apply(this,arguments)}function s(){return s=(0,r.A)(function*(t){function n(){return e.apply(this,arguments)}function e(){return(e=(0,r.A)(function*(){var n=(0,a.Y)();return yield(0,o.Fd)(n,t,"getMaterialSymbolsSearchIndex","json")})).apply(this,arguments)}var f="bus_material_symbols_search_index_v2_cache",s=yield(0,i.Ct)(0,`${f}_timestamp`);if(null===s){var c=yield n();return yield(0,i.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,f,JSON.stringify(c)),u||(u=!0,l=c),c}if((new Date).getTime()-parseInt(s)>6048e5){var y=yield n();return yield(0,i.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,f,JSON.stringify(y)),u||(u=!0,l=y),y}if(!u){var d=yield(0,i.Ct)(0,f);u=!0,l=JSON.parse(d)}return(0,o.Mf)(t,"getMaterialSymbolsSearchIndex",0,!0),l}),s.apply(this,arguments)}},9734(t,n,e){e.d(n,{j:()=>y});var r=e(467),i=e(4311),a=e(3153),o=e(6788);function u(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return l(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("E0")}var a,o=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(u)throw a}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var f={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function s(t){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(t){var n=new Worker(new URL(e.p+e.u(355),e.b));return yield new Promise(function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)})})).apply(this,arguments)}function y(t){return d.apply(this,arguments)}function d(){return d=(0,r.A)(function*(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function e(){return l.apply(this,arguments)}function l(){return l=(0,r.A)(function*(){var n,e=[],r=u([[0,2],[1,2]].map(function(t){return{url:(0,a.y)(t[0],t[1]),e:t}}));try{for(r.s();!(n=r.n()).done;){var i=n.value,l=yield(0,o.Fd)(i.url,t,`getCarInfo_${i.e[0]}`,"json");e=e.concat(l.BusInfo),(0,o.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e}),l.apply(this,arguments)}var c=n?"simplified":"raw",y=`bus_${c}_car_info_cache`,d=yield(0,i.Ct)(0,`${y}_timestamp`);if(null===d){var p,m=yield e();return p=n?yield s(m):m,yield(0,i.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,y,JSON.stringify(p)),f[c].available||(f[c].available=!0,f[c].data=p),p}if((new Date).getTime()-parseInt(d)>2592e6){var v,h=yield e();return v=n?yield s(h):h,yield(0,i.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,i.mL)(0,y,JSON.stringify(v)),v}if(!f[c].available){var g=yield(0,i.Ct)(0,y);f[c].available=!0,f[c].data=JSON.parse(g)}return(0,o.Mf)(t,"getCarInfo_0",0,!0),(0,o.Mf)(t,"getCarInfo_1",0,!0),(0,o.ZL)(t,-1),f[c].data}),d.apply(this,arguments)}}}]);
//# sourceMappingURL=d3bb64c9686d4c7f9007.js.map