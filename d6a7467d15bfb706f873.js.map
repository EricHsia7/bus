{"version":3,"file":"d6a7467d15bfb706f873.js","mappings":"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","sources":["webpack://bus/./src/interface/location/details/index.ts","webpack://bus/./src/interface/notification-schedule-manager/index.ts"],"sourcesContent":["import { getLocation, MergedLocation, MergedLocationItem } from '../../../data/apis/getLocation/index';\nimport { deleteDataReceivingProgress, deleteDataUpdateTime } from '../../../data/apis/loader';\nimport { IntegratedLocationDetails, IntegratedLocationDetailsAction, integrateLocationDetails } from '../../../data/location/details';\nimport { getSettingOptionValue } from '../../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { booleanToString, generateIdentifier, hasOwnProperty } from '../../../tools/index';\nimport { getPermalink } from '../../../tools/permalink';\nimport { shareLink } from '../../../tools/share';\nimport { getBlankIconElement, setIcon } from '../../icons/index';\nimport { hidePreviousPage, pushPageHistory, revokePageHistory, showPreviousPage } from '../../index';\nimport { openQRCode } from '../../qrcode/index';\n\nlet previousIntegration = {} as IntegratedLocationDetails;\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nconst LocationDetailsField = documentQuerySelector('.css_location_details_field');\nconst LocationDetailsBodyElement = elementQuerySelector(LocationDetailsField, '.css_location_details_body');\nconst LocationDetailsActionsElement = elementQuerySelector(LocationDetailsBodyElement, '.css_location_details_actions');\n\nfunction generateElementOfItem(): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_location_details_action');\n\n  // Icon\n  const icon = documentCreateDivElement();\n  icon.classList.add('css_location_details_action_icon');\n  icon.appendChild(getBlankIconElement());\n  element.appendChild(icon);\n\n  // Name\n  const name = documentCreateDivElement();\n  name.classList.add('css_location_details_action_name');\n  element.appendChild(name);\n\n  return element;\n}\n\nfunction updateLocationDetailsField(integration: IntegratedLocationDetails, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(thisElement: HTMLElement, thisItem: IntegratedLocationDetailsAction, previousItem: IntegratedLocationDetailsAction | null): void {\n    function updateIcon(thisElement: HTMLElement, thisItem: IntegratedLocationDetailsAction): void {\n      const thisIconElement = elementQuerySelector(thisElement, '.css_location_details_action_icon');\n      setIcon(thisIconElement, thisItem.icon);\n    }\n\n    function updateName(thisElement: HTMLElement, thisItem: IntegratedLocationDetailsAction): void {\n      const nameElement = elementQuerySelector(thisElement, '.css_location_details_action_name');\n      nameElement.innerText = thisItem.name;\n    }\n\n    function updateOnclick(thisElement: HTMLElement, thisItem: IntegratedLocationDetailsAction): void {\n      thisElement.onclick = thisItem.action;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null || previousItem === undefined) {\n      updateIcon(thisElement, thisItem);\n      updateName(thisElement, thisItem);\n      updateOnclick(thisElement, thisItem);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (previousItem.key !== thisItem.key) {\n        updateIcon(thisElement, thisItem);\n        updateName(thisElement, thisItem);\n        updateOnclick(thisElement, thisItem);\n      }\n\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  const actions = integration.actions;\n  const actionsQuantity = integration.actionsQuantity;\n\n  const actionElements = Array.from(elementQuerySelectorAll(LocationDetailsActionsElement, '.css_location_details_action'));\n  const currentActionElementsLength = actionElements.length;\n  if (actionsQuantity !== currentActionElementsLength) {\n    const difference = currentActionElementsLength - actionsQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newItemElement = generateElementOfItem();\n        fragment.appendChild(newItemElement);\n        actionElements.push(newItemElement);\n      }\n      LocationDetailsActionsElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentActionElementsLength - 1, q = currentActionElementsLength - difference - 1; p > q; p--) {\n        actionElements[p].remove();\n        actionElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < actionsQuantity; i++) {\n    const thisElement = actionElements[i];\n    const thisItem = actions[i];\n    if (hasOwnProperty(previousIntegration, 'actions')) {\n      if (previousIntegration.actions[i]) {\n        const previousItem = previousIntegration.actions[i];\n        updateItem(thisElement, thisItem, previousItem);\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    } else {\n      updateItem(thisElement, thisItem, null);\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nfunction setupLocationDetailsFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const actions: IntegratedLocationDetailsAction[] = [];\n  /*\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  */\n  const defaultActionsQuantity = 3;\n  for (let i = 0; i < defaultActionsQuantity; i++) {\n    actions.push({\n      name: '',\n      icon: '',\n      key: `action-${i}`,\n      action: function () {}\n    });\n  }\n\n  updateLocationDetailsField(\n    {\n      actions: actions,\n      actionsQuantity: defaultActionsQuantity,\n      hash: ''\n    },\n    true,\n    playing_animation\n  );\n}\n\nasync function initializeLocationDetailsField(hash: string) {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  setupLocationDetailsFieldSkeletonScreen();\n  const integration = await integrateLocationDetails(hash, requestID);\n  updateLocationDetailsField(integration, false, playing_animation);\n}\n\nexport function showLocationDetails(pageTransitionReverse: boolean): void {\n  const className = pageTransitionReverse ? 'css_page_transition_slide_in_reverse' : 'css_page_transition_fade_in';\n  LocationDetailsField.addEventListener(\n    'animationend',\n    function () {\n      LocationDetailsField.classList.remove(className);\n    },\n    { once: true }\n  );\n  LocationDetailsField.classList.add(className);\n  LocationDetailsField.setAttribute('displayed', 'true');\n}\n\nexport function hideLocationDetails(pageTransitionReverse: boolean): void {\n  const className = pageTransitionReverse === 'ltr' ? 'css_page_transition_slide_out_reverse' : 'css_page_transition_fade_out';\n  LocationDetailsField.addEventListener(\n    'animationend',\n    function () {\n      LocationDetailsField.setAttribute('displayed', 'false');\n      LocationDetailsField.classList.remove(className);\n    },\n    { once: true }\n  );\n  LocationDetailsField.classList.add(className);\n}\n\nexport function openLocationDetails(hash: string): void {\n  pushPageHistory('LocationDetails');\n  showLocationDetails('rtl');\n  initializeLocationDetailsField(hash);\n  hidePreviousPage();\n}\n\nexport function closeLocationDetails(): void {\n  hideLocationDetails('ltr');\n  showPreviousPage();\n  revokePageHistory('LocationDetails');\n}\n\nexport async function shareLocationPermalink(hash: string) {\n  const requestID = generateIdentifier();\n  const Location = (await getLocation(requestID, 1)) as MergedLocation;\n  deleteDataReceivingProgress(requestID);\n  deleteDataUpdateTime(requestID);\n  const thisLocationKey = `ml_${hash}`;\n  if (hasOwnProperty(Location, thisLocationKey)) {\n    const thisLocation = Location[thisLocationKey] as MergedLocationItem;\n    const link = getPermalink(1, {\n      hash: hash\n    });\n    shareLink(thisLocation.n, link);\n  }\n}\n\nexport async function showLocationPermalinkQRCode(hash: string) {\n  const requestID = generateIdentifier();\n  const Location = (await getLocation(requestID, 1)) as MergedLocation;\n  deleteDataReceivingProgress(requestID);\n  deleteDataUpdateTime(requestID);\n  const thisLocationKey = `ml_${hash}`;\n  if (hasOwnProperty(Location, thisLocationKey)) {\n    const link = getPermalink(1, {\n      hash: hash\n    });\n    openQRCode(link);\n  }\n}\n","import { getUpdateRate } from '../../data/analytics/update-rate/index';\nimport { DataReceivingProgressEvent } from '../../data/apis/loader';\nimport { cancelNotification } from '../../data/notification/apis/cancelNotification/index';\nimport { IntegratedNotificationScheduleItem, IntegratedNotificationSchedules, integrateNotifcationSchedules, NotificationSchedule } from '../../data/notification/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../data/settings/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { booleanToString, compareThings, generateIdentifier, hasOwnProperty } from '../../tools/index';\nimport { getIconElement } from '../icons/index';\nimport { hidePreviousPage, pushPageHistory, querySize, revokePageHistory, showPreviousPage } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst NotificationScheduleManagerField = documentQuerySelector('.css_notification_schedule_manager_field');\nconst NotificationScheduleManagerHeadElement = elementQuerySelector(NotificationScheduleManagerField, '.css_notification_schedule_manager_head');\nconst NotificationScheduleManagerUpdateTimerBoxElement = elementQuerySelector(NotificationScheduleManagerHeadElement, '.css_notification_schedule_manager_update_timer_box');\nconst NotificationScheduleManagerUpdateTimerElement = elementQuerySelector(NotificationScheduleManagerUpdateTimerBoxElement, '.css_notification_schedule_manager_update_timer');\nconst NotificationScheduleManagerBody = elementQuerySelector(NotificationScheduleManagerField, '.css_notification_schedule_manager_body');\nconst NotificationScheduleList = elementQuerySelector(NotificationScheduleManagerBody, '.css_notification_schedule_manager_notification_schedule_list');\n\nlet previousIntegration = {} as IntegratedNotificationSchedules;\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nlet notifcationScheduleManagerRefreshTimer_retryInterval: number = 10 * 1000;\nlet notifcationScheduleManagerRefreshTimer_baseInterval: number = 15 * 1000;\nlet notifcationScheduleManagerRefreshTimer_minInterval: number = 5 * 1000;\nlet notifcationScheduleManagerRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet notifcationScheduleManagerRefreshTimer_dynamic: boolean = true;\nlet notifcationScheduleManagerRefreshTimer_lastUpdate: number = 0;\nlet notifcationScheduleManagerRefreshTimer_nextUpdate: number = 0;\nlet notifcationScheduleManagerRefreshTimer_currentRequestID: string = '';\nlet notifcationScheduleManagerRefreshTimer_refreshing: boolean = false;\nlet notifcationScheduleManagerRefreshTimer_streaming: boolean = false;\nlet notifcationScheduleManagerRefreshTimer_streamStarted: boolean = false;\n\nfunction animateUpdateTimer(): void {\n  NotificationScheduleManagerUpdateTimerElement.style.setProperty('--b-cssvar-notification-schedule-manager-update-timer-interval', `${notifcationScheduleManagerRefreshTimer_dynamicInterval}ms`);\n  NotificationScheduleManagerUpdateTimerElement.classList.add('css_notification_schedule_manager_update_timer_slide_rtl');\n}\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  if (notifcationScheduleManagerRefreshTimer_refreshing) {\n    const offsetRatio = CustomEvent.detail.progress - 1;\n    NotificationScheduleManagerUpdateTimerElement.style.setProperty('--b-cssvar-notification-schedule-manager-update-timer-offset-ratio', offsetRatio.toString());\n  }\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n  }\n}\n\nfunction generateElementOfItem(): HTMLElement {\n  // Main item element\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_notification_schedule_manager_item');\n\n  // Hours element\n  const hoursElement = documentCreateDivElement();\n  hoursElement.classList.add('css_notification_schedule_manager_item_hours');\n  itemElement.appendChild(hoursElement);\n\n  // Notification schedule container\n  const notificationScheduleElement = documentCreateDivElement();\n  notificationScheduleElement.classList.add('css_notification_schedule_manager_item_notification_schedule');\n\n  // Minutes element\n  const minutesElement = documentCreateDivElement();\n  minutesElement.classList.add('css_notification_schedule_manager_item_notification_schedule_minutes');\n  notificationScheduleElement.appendChild(minutesElement);\n\n  // Context element\n  const contextElement = documentCreateDivElement();\n  contextElement.classList.add('css_notification_schedule_manager_item_notification_schedule_context');\n  notificationScheduleElement.appendChild(contextElement);\n\n  // Main element\n  const mainElement = documentCreateDivElement();\n  mainElement.classList.add('css_notification_schedule_manager_item_notification_schedule_main');\n  notificationScheduleElement.appendChild(mainElement);\n\n  // Cancel button element\n  const cancelElement = documentCreateDivElement();\n  cancelElement.classList.add('css_notification_schedule_manager_item_notification_schedule_cancel');\n  const iconElement = document.createElement('span');\n  iconElement.appendChild(getIconElement('close'));\n  cancelElement.appendChild(iconElement);\n\n  notificationScheduleElement.appendChild(cancelElement);\n\n  // Assemble\n  itemElement.appendChild(notificationScheduleElement);\n\n  return itemElement;\n}\n\nfunction updateNotificationScheduleManagerField(integration: IntegratedNotificationSchedules, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem, previousItem: IntegratedNotificationScheduleItem | null): void {\n    function updateHours(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem): void {\n      const thisItemHoursElement = elementQuerySelector(thisItemElement, '.css_notification_schedule_manager_item_hours');\n      thisItemHoursElement.innerText = thisItem.hours;\n    }\n\n    function updateMinutes(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem): void {\n      const thisItemNotificationScheduleElement = elementQuerySelector(thisItemElement, '.css_notification_schedule_manager_item_notification_schedule');\n      const thisItemMinutesElement = elementQuerySelector(thisItemNotificationScheduleElement, '.css_notification_schedule_manager_item_notification_schedule_minutes');\n      thisItemMinutesElement.innerText = thisItem.minutes;\n    }\n\n    function updateMain(thisItemElement: HTMLElementm, thisItem: IntegratedNotificationScheduleItem): void {\n      const thisItemNotificationScheduleElement = elementQuerySelector(thisItemElement, '.css_notification_schedule_manager_item_notification_schedule');\n      const thisItemMainElement = elementQuerySelector(thisItemNotificationScheduleElement, '.css_notification_schedule_manager_item_notification_schedule_main');\n      thisItemMainElement.innerText = thisItem.name;\n    }\n\n    function updateContext(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem): void {\n      const thisItemNotificationScheduleElement = elementQuerySelector(thisItemElement, '.css_notification_schedule_manager_item_notification_schedule');\n      const thisItemContextElement = elementQuerySelector(thisItemNotificationScheduleElement, '.css_notification_schedule_manager_item_notification_schedule_context');\n      thisItemContextElement.innerText = `${thisItem.route.name} - 往${thisItem.route.direction}`;\n    }\n\n    function updateCancel(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem): void {\n      const thisItemNotificationScheduleElement = elementQuerySelector(thisItemElement, '.css_notification_schedule_manager_item_notification_schedule');\n      const thisItemCancelElement = elementQuerySelector(thisItemNotificationScheduleElement, '.css_notification_schedule_manager_item_notification_schedule_cancel');\n      thisItemCancelElement.onclick = function () {\n        cancelNotificationOnNotificationScheduleManager(thisItemElement, thisItem.schedule_id);\n      };\n    }\n\n    function updateFirst(thisItemElement: HTMLElement, thisItem: IntegratedNotificationScheduleItem): void {\n      thisItemElement.setAttribute('first', booleanToString(thisItem.is_first));\n    }\n\n    function updateAnimation(thisItemElement: HTMLElement, animation: boolean): void {\n      thisItemElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisItemElement: HTMLElement, skeletonScreen: boolean): void {\n      thisItemElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null || previousItem === undefined) {\n      updateHours(thisItemElement, thisItem);\n      updateMinutes(thisItemElement, thisItem);\n      updateMain(thisItemElement, thisItem);\n      updateContext(thisItemElement, thisItem);\n      updateCancel(thisItemElement, thisItem);\n      updateFirst(thisItemElement, thisItem);\n      updateAnimation(thisItemElement, animation);\n      updateSkeletonScreen(thisItemElement, skeletonScreen);\n    } else {\n      if (thisItem.hours !== previousItem.hours) {\n        updateHours(thisItemElement, thisItem);\n      }\n      if (thisItem.minutes !== previousItem.minutes) {\n        updateMinutes(thisItemElement, thisItem);\n      }\n      if (!compareThings(previousItem.schedule_id, thisItem.schedule_id)) {\n        updateMain(thisItemElement, thisItem);\n        updateContext(thisItemElement, thisItem);\n        updateCancel(thisItemElement, thisItem);\n      }\n      if (previousItem.is_first !== thisItem.is_first) {\n        updateFirst(thisItemElement, thisItem);\n      }\n      if (previousAnimation !== animation) {\n        updateAnimation(thisItemElement, animation);\n      }\n      if (previousSkeletonScreen !== skeletonScreen) {\n        updateSkeletonScreen(thisItemElement, skeletonScreen);\n      }\n    }\n  }\n\n  const itemQuantity = integration.itemQuantity;\n  const items = integration.items;\n\n  const itemElements = Array.from(elementQuerySelectorAll(NotificationScheduleList, '.css_notification_schedule_manager_item'));\n  const currentItemElementsLength = itemElements.length;\n  if (itemQuantity !== currentItemElementsLength) {\n    const difference = currentItemElementsLength - itemQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newItemElement = generateElementOfItem();\n        fragment.appendChild(newItemElement);\n        itemElements.push(newItemElement);\n      }\n      NotificationScheduleList.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentItemElementsLength - 1, q = currentItemElementsLength - difference - 1; p > q; p--) {\n        itemElements[p].remove();\n        itemElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let j = 0; j < itemQuantity; j++) {\n    const thisItemElement = itemElements[j];\n    const thisItem = items[j];\n    if (hasOwnProperty(previousIntegration, 'items')) {\n      if (previousIntegration.items[j]) {\n        const previousItem = previousIntegration.items[j];\n        updateItem(thisItemElement, thisItem, previousItem);\n      } else {\n        updateItem(thisItemElement, thisItem, null);\n      }\n    } else {\n      updateItem(thisItemElement, thisItem, null);\n    }\n  }\n\n  previousIntegration = integration;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nfunction setupNotificationScheduleManagerFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  const defaultItemQuantity: IntegratedNotificationSchedules['itemQuantity'] = Math.floor(FieldHeight / 50) + 5;\n  let items: IntegratedNotificationSchedules['items'] = [];\n  for (let i = 0; i < defaultItemQuantity; i++) {\n    items.push({\n      name: '',\n      stop_id: 0,\n      estimate_time: 0,\n      schedule_id: 'null',\n      scheduled_time: 0,\n      route: {\n        name: '',\n        direction: '',\n        id: 0,\n        pathAttributeId: []\n      },\n      is_first: true,\n      date: '',\n      hours: '',\n      minutes: ''\n    });\n  }\n  updateNotificationScheduleManagerField(\n    {\n      items: items,\n      itemQuantity: defaultItemQuantity,\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nasync function refreshNotificationScheduleManager() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  notifcationScheduleManagerRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  notifcationScheduleManagerRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  notifcationScheduleManagerRefreshTimer_refreshing = true;\n  notifcationScheduleManagerRefreshTimer_currentRequestID = generateIdentifier();\n  NotificationScheduleManagerUpdateTimerElement.setAttribute('refreshing', 'true');\n  NotificationScheduleManagerUpdateTimerElement.classList.remove('css_notification_schedule_manager_update_timer_slide_rtl');\n  document.addEventListener(notifcationScheduleManagerRefreshTimer_currentRequestID, handleDataReceivingProgressUpdates);\n  const integration = await integrateNotifcationSchedules(notifcationScheduleManagerRefreshTimer_currentRequestID);\n  updateNotificationScheduleManagerField(integration, false, playing_animation);\n  let updateRate = 0;\n  if (notifcationScheduleManagerRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  notifcationScheduleManagerRefreshTimer_lastUpdate = new Date().getTime();\n  if (notifcationScheduleManagerRefreshTimer_dynamic) {\n    notifcationScheduleManagerRefreshTimer_nextUpdate = Math.max(notifcationScheduleManagerRefreshTimer_lastUpdate + notifcationScheduleManagerRefreshTimer_minInterval, integration.dataUpdateTime + notifcationScheduleManagerRefreshTimer_baseInterval / updateRate);\n  } else {\n    notifcationScheduleManagerRefreshTimer_nextUpdate = notifcationScheduleManagerRefreshTimer_lastUpdate + notifcationScheduleManagerRefreshTimer_baseInterval;\n  }\n  notifcationScheduleManagerRefreshTimer_dynamicInterval = Math.max(notifcationScheduleManagerRefreshTimer_minInterval, notifcationScheduleManagerRefreshTimer_nextUpdate - notifcationScheduleManagerRefreshTimer_lastUpdate);\n  notifcationScheduleManagerRefreshTimer_refreshing = false;\n  NotificationScheduleManagerUpdateTimerElement.setAttribute('refreshing', 'false');\n  animateUpdateTimer();\n}\n\nasync function streamNotificationScheduleManager() {\n  refreshNotificationScheduleManager()\n    .then(function () {\n      if (notifcationScheduleManagerRefreshTimer_streaming) {\n        setTimeout(\n          function () {\n            streamNotificationScheduleManager();\n          },\n          Math.max(notifcationScheduleManagerRefreshTimer_minInterval, notifcationScheduleManagerRefreshTimer_nextUpdate - new Date().getTime())\n        );\n      } else {\n        notifcationScheduleManagerRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (notifcationScheduleManagerRefreshTimer_streaming) {\n        setTimeout(function () {\n          streamNotificationScheduleManager();\n        }, notifcationScheduleManagerRefreshTimer_retryInterval);\n      } else {\n        notifcationScheduleManagerRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function showNotificationScheduleManager(pageTransitionReverse: boolean): void {\n  const className = pageTransitionReverse ? 'css_page_transition_slide_in_reverse' : 'css_page_transition_fade_in';\n  NotificationScheduleManagerField.addEventListener(\n    'animationend',\n    function () {\n      NotificationScheduleManagerField.classList.remove(className);\n    },\n    { once: true }\n  );\n  NotificationScheduleManagerField.classList.add(className);\n  NotificationScheduleManagerField.setAttribute('displayed', 'true');\n}\n\nexport function hideNotificationScheduleManager(pageTransitionReverse: boolean): void {\n  const className = pageTransitionReverse === 'ltr' ? 'css_page_transition_slide_out_reverse' : 'css_page_transition_fade_out';\n  NotificationScheduleManagerField.addEventListener(\n    'animationend',\n    function () {\n      NotificationScheduleManagerField.setAttribute('displayed', 'false');\n      NotificationScheduleManagerField.classList.remove(className);\n    },\n    { once: true }\n  );\n  NotificationScheduleManagerField.classList.add(className);\n}\n\nexport function openNotificationScheduleManager(): void {\n  pushPageHistory('NotificationScheduleManager');\n  showNotificationScheduleManager('rtl');\n  setupNotificationScheduleManagerFieldSkeletonScreen();\n  if (!notifcationScheduleManagerRefreshTimer_streaming) {\n    notifcationScheduleManagerRefreshTimer_streaming = true;\n    if (!notifcationScheduleManagerRefreshTimer_streamStarted) {\n      notifcationScheduleManagerRefreshTimer_streamStarted = true;\n      streamNotificationScheduleManager();\n    } else {\n      refreshNotificationScheduleManager();\n    }\n  }\n  hidePreviousPage();\n}\n\nexport function closeNotificationScheduleManager(): void {\n  hideNotificationScheduleManager('ltr');\n  notifcationScheduleManagerRefreshTimer_streaming = false;\n  showPreviousPage();\n  revokePageHistory('NotificationScheduleManager');\n}\n\nexport async function cancelNotificationOnNotificationScheduleManager(thisItemElement: HTMLElement, schedule_id: NotificationSchedule['schedule_id']) {\n  promptMessage('manufacturing', '處理中');\n  const cancellation = await cancelNotification(schedule_id);\n  if (cancellation) {\n    thisItemElement.remove();\n    promptMessage('check_circle', '已取消通知');\n    if (!notifcationScheduleManagerRefreshTimer_refreshing) {\n      const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n      const integration = await integrateNotifcationSchedules(notifcationScheduleManagerRefreshTimer_currentRequestID);\n      updateNotificationScheduleManagerField(integration, false, playing_animation);\n    }\n  } else {\n    promptMessage('error', '取消失敗');\n  }\n}\n"],"names":["previousIntegration","previousAnimation","previousSkeletonScreen","LocationDetailsField","documentQuerySelector","LocationDetailsBodyElement","elementQuerySelector","LocationDetailsActionsElement","generateElementOfItem","element","documentCreateDivElement","classList","add","icon","appendChild","getBlankIconElement","name","updateLocationDetailsField","integration","skeletonScreen","animation","updateItem","thisElement","thisItem","previousItem","updateIcon","thisIconElement","setIcon","updateName","innerText","updateOnclick","onclick","action","updateAnimation","setAttribute","booleanToString","updateSkeletonScreen","key","actions","actionsQuantity","actionElements","Array","from","elementQuerySelectorAll","currentActionElementsLength","length","difference","fragment","DocumentFragment","o","newItemElement","push","append","p","q","remove","splice","i","hasOwnProperty","_initializeLocationDetailsField","_asyncToGenerator","hash","playing_animation","getSettingOptionValue","requestID","generateIdentifier","setupLocationDetailsFieldSkeletonScreen","integrateLocationDetails","apply","arguments","showLocationDetails","pageTransitionReverse","className","addEventListener","once","hideLocationDetails","openLocationDetails","pushPageHistory","_x","initializeLocationDetailsField","hidePreviousPage","closeLocationDetails","showPreviousPage","revokePageHistory","shareLocationPermalink","_x2","_shareLocationPermalink","Location","getLocation","deleteDataReceivingProgress","deleteDataUpdateTime","thisLocationKey","thisLocation","link","getPermalink","shareLink","n","showLocationPermalinkQRCode","_x3","_showLocationPermalinkQRCode","openQRCode","NotificationScheduleManagerField","NotificationScheduleManagerHeadElement","NotificationScheduleManagerUpdateTimerBoxElement","NotificationScheduleManagerUpdateTimerElement","NotificationScheduleManagerBody","NotificationScheduleList","notifcationScheduleManagerRefreshTimer_baseInterval","notifcationScheduleManagerRefreshTimer_minInterval","notifcationScheduleManagerRefreshTimer_dynamicInterval","notifcationScheduleManagerRefreshTimer_dynamic","notifcationScheduleManagerRefreshTimer_lastUpdate","notifcationScheduleManagerRefreshTimer_nextUpdate","notifcationScheduleManagerRefreshTimer_currentRequestID","notifcationScheduleManagerRefreshTimer_refreshing","notifcationScheduleManagerRefreshTimer_streaming","notifcationScheduleManagerRefreshTimer_streamStarted","handleDataReceivingProgressUpdates","event","CustomEvent","offsetRatio","detail","progress","style","setProperty","toString","stage","document","removeEventListener","target","itemElement","hoursElement","notificationScheduleElement","minutesElement","contextElement","mainElement","cancelElement","iconElement","createElement","getIconElement","updateNotificationScheduleManagerField","thisItemElement","updateHours","hours","updateMinutes","thisItemNotificationScheduleElement","minutes","updateMain","updateContext","route","direction","updateCancel","_cancelNotificationOnNotificationScheduleManager","this","cancelNotificationOnNotificationScheduleManager","schedule_id","updateFirst","is_first","compareThings","itemQuantity","items","itemElements","currentItemElementsLength","j","refreshNotificationScheduleManager","_refreshNotificationScheduleManager","refresh_interval_setting","dynamic","baseInterval","integrateNotifcationSchedules","updateRate","getUpdateRate","Date","getTime","Math","max","dataUpdateTime","streamNotificationScheduleManager","_streamNotificationScheduleManager","then","setTimeout","err","showNotificationScheduleManager","hideNotificationScheduleManager","openNotificationScheduleManager","WindowSize","querySize","FieldHeight","width","height","defaultItemQuantity","floor","stop_id","estimate_time","scheduled_time","id","pathAttributeId","date","setupNotificationScheduleManagerFieldSkeletonScreen","closeNotificationScheduleManager","promptMessage","cancelNotification"],"ignoreList":[],"sourceRoot":""}