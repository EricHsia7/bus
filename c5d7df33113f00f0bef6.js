"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,n,a){a.d(n,{default:()=>I});var t,i,r=a(467),o=a(6483),c=a(8925),d=a(5767),s=a(9566),l=a(3422),u=a(5314),p=a(3459),f=a(3251),v=a(1238),h=a(1531),b=a(4884),m=a(9499),y=a(6052),L=a(4294),g=a(8379),w=a(540),k=a(6082),q=a(6091),C=a(904),S=a(1351),E=a(3030),_=a(2174),T=a(8380),x=a(5693),A=a(7891),D=a(8279),F=a(7908),M=a(5286),P=a(4690),Y=a(3041),z=a(752),B=a(5009),N=a(6104),R=a(6166),U=a(2994),$=a(9469),H=(a(4800),a(5259),a(6764),a(2684),a(2547),a(8933),a(6971),a(7336),a(6561),a(6110),a(9080),a(1818),a(9590),a(1844),a(2239),a(6597),a(9991),a(3777),a(2696),a(5461),a(2421),a(3058),a(1102),a(7868),a(6388),a(3127),a(1743),a(1306),a(9731),a(245),a(4071),a(5135),a(8969),a(1003),a(4472),a(4620),a(9714),a(2681),a(124),a(3381),a(9351),a(1077),a(7037),a(9205),a(3534),a(6018),a(5392),a(1308),a(7225),a(5297),a(7499),a(4953),a(7114),a(9657),a(9598),a(626),a(5504),a(6780),a(969),a(7943),a(4721),a(4263),a(3963),a(1542),a(6153),a(112),a(5374),a(5666),a(8558),a(1452),a(2676),a(1195),a(5068),a(1469),a(4935),a(321),a(6907),a(3257),a(7537),a(2503),a(1511),a(4305),a(8983),a(5995),a(5228),a(1078),a(1603),a(3749),a(7723),a(7287),a(7217),a(3425),a(6171),a(8073),a(928),a(7113),a(6340),a(6384),a(3382),a(3011),a(1484),!1),j=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!H){H=!0,(0,C.g)(),yield(0,p.d)(),yield(0,s.c)(),(0,q.b)(),(0,w.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,q.a)(),(0,w.a)(),(0,P.c)(),(0,E.c)(),(0,B.c)(),(0,L.c)(),(0,B.e)(),window.addEventListener("resize",function(){(0,B.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,B.e)()}),(0,C.a)(function(){document.addEventListener("click",function(){(0,h.a)(),(0,v.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,C.h)(),(0,C.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(t=(0,r.a)(function*(){j||(j=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,k.b)(),yield(0,o.c)(),yield(0,d.b)(),yield(0,u.a)(),yield(0,c.b)(),yield(0,d.d)(),yield(0,d.e)())}),function(){return t.apply(this,arguments)}),route:{closeRoute:P.a,closeRouteDetails:M.e},location:{closeLocation:E.a,closeLocationDetails:S.a},folder:{closeSaveToFolder:Y.a,closeFolderManager:g.a,closeIconSelector:L.a,closeFolderCreator:y.a},search:{openSearch:B.d,closeSearch:B.a,switchSearchTypeFilter:B.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:m.a},personalSchedule:{closePersonalScheduleManager:A.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:x.c,closePersonalScheduleEditor:x.a,switchPersonalScheduleEditorDay:x.f,saveEditedPersonalSchedule:x.d},settings:{openSettings:N.f,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:b.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:F.b,closeScheduleNotification:z.a},qrcode:{closeQRCode:D.a}};const I=window.bus},4884(e,n,a){a.d(n,{a:()=>g,b:()=>C,c:()=>k,d:()=>q,e:()=>w});var t=a(467),i=a(6160),r=a(5314),o=a(3459),c=a(8179),d=a(8024),s=a(904),l=a(4537),u=[],p=!1,f=!1;function v(){var e=(0,c.a)();e.classList.add("qp");var n=(0,c.a)();n.classList.add("rp"),n.appendChild((0,l.a)());var a=(0,c.a)();return a.classList.add("sp"),e.appendChild(n),e.appendChild(a),e}function h(e,n,a){function t(e,t,i){function r(e,n){var a=(0,c.e)(e,".rp");(0,l.c)(a,n.icon)}function o(e,n){(0,c.e)(e,".sp").innerText=n.value}function s(e,n){e.setAttribute("animation",n)}function u(e,n){e.setAttribute("skeleton-screen",n)}null==i?(r(e,t),o(e,t),u(e,n),s(e,a)):((0,d.b)(i,t)||r(e,t),(0,d.b)(i,t)||o(e,t),n!==p&&u(e,n),a!==f&&s(e,a))}var i=e.length,r=Array.from((0,c.d)(g,".qp")),o=r.length;if(i!==o){var s=o-i;if(s<0){for(var h=new DocumentFragment,b=0;b>s;b--){var m=v();h.appendChild(m),r.push(m)}g.append(h)}else if(s>0)for(var y=o-1,L=o-s-1;y>L;y--)r[y].remove(),r.splice(y,1)}for(var w=0;w<i;w++){var k=r[w],q=e[w];u[w]?t(k,q,u[w]):t(k,q,null)}u=e,f=a,p=n}var b=(0,c.c)(".ep"),m=((0,c.e)(b,".fp"),(0,c.e)(b,".jp")),y=(0,c.e)(m,".kp"),L=(0,c.e)(y,'.lp[group="properties"]'),g=(0,c.e)(L,".pp");(0,c.e)(y,'.lp[group="location"]');function w(e){var n="ltr"===e?"mc":"nc";b.addEventListener("animationend",function(){b.classList.remove(n)},{once:!0}),b.classList.add(n),b.setAttribute("displayed","true")}function k(e){var n="ltr"===e?"oc":"pc";b.addEventListener("animationend",function(){b.setAttribute("displayed","false"),b.classList.remove(n)},{once:!0}),b.classList.add(n)}function q(e){(0,s.c)("Bus"),(0,r.e)("bus",e),w("rtl"),function(e){S.apply(this,arguments)}(e),(0,s.b)()}function C(){k("ltr"),(0,s.i)(),(0,s.e)("Bus")}function S(){return(S=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),n=[],a=0;a<5;a++)n.push({key:a,icon:"",value:""});h(n,!0,e)}();var n=(0,o.b)("playing_animation"),a=(0,d.c)();h((yield(0,i.a)(e,a)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,a){a.d(n,{a:()=>E,b:()=>C,c:()=>S,d:()=>q});var t=a(467),i=a(9566),r=a(8179),o=a(4294),c=a(904),d=a(9119),s=(0,r.c)("._q"),l=(0,r.e)(s,".ar"),u=(0,r.e)(l,".cr"),p=(0,r.e)(s,".er"),f=(0,r.e)(p,".fr"),v=(0,r.e)(f,'.gr[group="folder-name"]'),h=(0,r.e)(v,".kr"),b=(0,r.e)(h,"input"),m=(0,r.e)(f,'.gr[group="folder-icon"]'),y=(0,r.e)(m,".kr"),L=(0,r.e)(y,".lr input"),g=(0,r.e)(f,".lr .mr");function w(){return(w=(0,t.a)(function*(e){var n=b.value,a=L.value;(yield(0,i.a)(n,a))?(E(),(0,d.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,d.a)("error","無法建立資料夾")})).apply(this,arguments)}function k(e){b.value="",L.value="",u.onclick=function(){!function(e){w.apply(this,arguments)}(e)},g.onclick=function(){(0,o.d)(L)}}function q(e){var n="ltr"===e?"mc":"nc";s.addEventListener("animationend",function(){s.classList.remove(n)},{once:!0}),s.classList.add(n),s.setAttribute("displayed","true")}function C(e){var n="ltr"===e?"oc":"pc";s.addEventListener("animationend",function(){s.setAttribute("displayed","false"),s.classList.remove(n)},{once:!0}),s.classList.add(n)}function S(e){(0,c.c)("FolderCreator"),k(e),q("rtl"),(0,c.b)()}function E(){C("ltr"),(0,c.i)(),(0,c.e)("FolderCreator")}},8379(e,n,a){a.d(n,{a:()=>w,b:()=>L,c:()=>g,d:()=>y});var t=a(467),i=a(9566),r=a(8179),o=a(6052),c=a(9333),d=a(4537),s=a(904),l=(0,r.c)(".tp"),u=(0,r.e)(l,".yp"),p=(0,r.e)(u,".zp"),f=(0,r.e)(l,".up"),v=(0,r.e)(f,".wp");function h(e){var n=(0,r.a)();n.classList.add("_p"),n.onclick=function(){(0,c.b)(e.id,function(){b()})};var a=(0,r.a)();a.classList.add("aq"),a.appendChild((0,d.b)(e.icon));var t=(0,r.a)();t.classList.add("bq"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("cq"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("dq"),o.appendChild((0,d.b)("arrow_forward_ios")),n.appendChild(a),n.appendChild(t),n.appendChild(i),n.appendChild(o),n}function b(){return m.apply(this,arguments)}function m(){return(m=(0,t.a)(function*(){v.onclick=function(){(0,o.c)(function(){b()})};var e=yield(0,i.h)();p.innerHTML="";var n=new DocumentFragment;for(var a of e){var t=h(a);n.appendChild(t)}p.append(n)})).apply(this,arguments)}function y(e){var n="ltr"===e?"mc":"nc";l.addEventListener("animationend",function(){l.classList.remove(n)},{once:!0}),l.classList.add(n),l.setAttribute("displayed","true")}function L(e){var n="ltr"===e?"oc":"pc";l.addEventListener("animationend",function(){l.setAttribute("displayed","false"),l.classList.remove(n)},{once:!0}),l.classList.add(n)}function g(){(0,s.c)("FolderManager"),y("rtl"),b(),(0,s.b)()}function w(){L("ltr"),(0,s.i)(),(0,s.e)("FolderManager")}},9333(e,n,a){a.d(n,{a:()=>k,b:()=>q,c:()=>w});var t=a(467),i=a(9566),r=a(8179),o=a(4294),c=a(4537),d=a(904),s=a(9119),l=(0,r.c)(".eq"),u=(0,r.e)(l,".fq"),p=(0,r.e)(u,".gq"),f=(0,r.e)(l,".iq"),v=(0,r.e)(f,".jq"),h=(0,r.e)(v,'.kq[group="folder-name"] .oq input'),b=(0,r.e)(v,'.kq[group="folder-icon"] .oq .pq input'),m=(0,r.e)(v,'.kq[group="folder-icon"] .oq .pq .qq'),y=(0,r.e)(v,'.kq[group="folder-content"] .oq');function L(e,n){var a=(0,r.a)();a.classList.add("rq"),a.setAttribute("type",n.type);var t="",o="",d="";switch(n.type){case"stop":d="location_on",t=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,o=n.name;break;case"route":d="route",t=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,o=n.name;break;case"location":d="location_on",t="地點",o=n.name;break;case"bus":t="",o=n.name;break;case"empty":d="lightbulb",t="提示",o="沒有內容";break;default:d="",t="null",o="null"}var l=(0,r.a)();l.classList.add("sq"),l.appendChild((0,c.b)(d));var u=(0,r.a)();u.classList.add("tq"),u.innerText=t;var p=(0,r.a)();p.classList.add("uq"),p.innerText=o;var f=(0,r.a)();f.classList.add("vq");var v=(0,r.a)();v.classList.add("wq"),v.appendChild((0,c.b)("keyboard_arrow_down")),v.onclick=function(){C(a,e.id,n.type,n.id,"up")};var h=(0,r.a)();h.classList.add("xq"),h.appendChild((0,c.b)("keyboard_arrow_down")),h.onclick=function(){C(a,e.id,n.type,n.id,"down")};var b=(0,r.a)();b.classList.add("yq"),b.appendChild((0,c.b)("delete")),b.onclick=function(){!function(e,n,a,t){(0,i.k)(n,a,t).then(function(n){if(n)switch(e.remove(),a){case"stop":(0,s.a)("delete","已移除站牌");break;case"route":(0,s.a)("delete","已移除路線");break;case"location":(0,s.a)("delete","已移除地點")}else(0,s.a)("error","無法移除")})}(a,e.id,n.type,n.id)};var m=(0,r.a)();m.classList.add("zq");var y=(0,r.a)();return y.classList.add("zq"),f.appendChild(v),f.appendChild(h),f.appendChild(b),f.appendChild(m),f.appendChild(y),a.appendChild(l),a.appendChild(u),a.appendChild(p),a.appendChild(f),a}function g(){return g=(0,t.a)(function*(e,n){var a=(0,i.b)(e),t=yield(0,i.g)(e);"boolean"!=typeof a&&!1!==a&&(p.onclick=function(){!function(e,n){S.apply(this,arguments)}(a.id,n)},h.value=a.name,b.value=a.icon,function(e,n){y.innerHTML="";var a=new DocumentFragment;for(var t of n){var i=L(e,t);a.appendChild(i)}y.append(a)}(a,t))}),g.apply(this,arguments)}function w(e){var n="ltr"===e?"mc":"nc";l.addEventListener("animationend",function(){l.classList.remove(n)},{once:!0}),l.classList.add(n),l.setAttribute("displayed","true")}function k(e){var n="ltr"===e?"oc":"pc";l.addEventListener("animationend",function(){l.setAttribute("displayed","false"),l.classList.remove(n)},{once:!0}),l.classList.add(n)}function q(e,n){(0,d.c)("FolderEditor"),w("rtl"),function(e,n){g.apply(this,arguments)}(e,n),(0,d.b)()}function C(e,n,a,t,r){(0,i.p)(n,a,t,r).then(function(n){if(n)switch(r){case"up":var a=e.previousElementSibling;a&&e.parentNode.insertBefore(e,a),(0,s.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,s.a)("arrow_circle_down","已往下移")}else(0,s.a)("error","無法移動")})}function S(){return(S=(0,t.a)(function*(e,n){var a=h.value,t=b.value;(yield(0,i.q)(e,a,t))?(k("ltr"),(0,d.i)(),(0,d.e)("FolderEditor"),(0,s.a)("check_circle","已儲存變更"),"function"==typeof n&&n()):(0,s.a)("error","無法儲存")})).apply(this,arguments)}m.onclick=function(){(0,o.d)(b)}},9499(e,n,a){a.d(n,{a:()=>k,b:()=>g,c:()=>w,d:()=>L});var t=a(467),i=a(8925),r=a(7183),o=a(8179),c=a(5579),d=a(904),s=(0,o.c)(".nr"),l=(0,o.e)(s,".rr"),u=(0,o.e)(l,".sr"),p=(0,o.e)(l,".tr"),f=(0,o.e)(p,'.ur[name="total-data-usage"] .wr'),v=(0,o.e)(p,'.ur[name="max-data-usage-per-minute"] .wr'),h=(0,o.e)(p,'.ur[name="min-data-usage-per-minute"] .wr'),b=(0,o.e)(p,'.ur[name="start-time"] .wr'),m=(0,o.e)(p,'.ur[name="end-time"] .wr');function y(){return(y=(0,t.a)(function*(){var e=(0,d.d)("window"),n=e.width,a=Math.min(5/18*n,.33*e.height),t=yield(0,i.c)(n,a,20);f.innerText=(0,r.a)(t.stats.sum),v.innerText=(0,r.a)(t.stats.max),h.innerText=(0,r.a)(t.stats.min),b.innerText=(0,c.c)(t.period.start,"YYYY-MM-DD"),m.innerText=(0,c.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function L(e){var n="ltr"===e?"mc":"nc";s.addEventListener("animationend",function(){s.classList.remove(n)},{once:!0}),s.classList.add(n),s.setAttribute("displayed","true")}function g(e){var n="ltr"===e?"oc":"pc";s.addEventListener("animationend",function(){s.setAttribute("displayed","false"),s.classList.remove(n)},{once:!0}),s.classList.add(n)}function w(){(0,d.c)("DataUsage"),L("rtl"),function(){y.apply(this,arguments)}(),(0,d.b)()}function k(){g("ltr"),(0,d.i)(),(0,d.e)("DataUsage")}}}]);
//# sourceMappingURL=c5d7df33113f00f0bef6.js.map