{"version":3,"file":"2217.a57fc91f9dee7d3f563c.js","mappings":"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","sources":["webpack://bus/./src/interface/icons/index.ts","webpack://bus/./src/interface/bus/properties.ts","webpack://bus/./src/interface/bus/index.ts","webpack://bus/./src/interface/folder-creator/index.ts","webpack://bus/./src/interface/home/index.ts","webpack://bus/./src/interface/folder-icon-selector/index.ts","webpack://bus/./src/interface/folder-manager/index.ts","webpack://bus/./src/interface/folder-editor/index.ts","webpack://bus/./src/interface/data-usage/index.ts"],"sourcesContent":["import { elementQuerySelector } from '../../tools/elements';\nimport { MaterialSymbols } from './material-symbols-type';\n\nexport function getIconHTML(identifier: MaterialSymbols): string {\n  return /*html*/ `<span class=\"css_material_symbols_rounded\">${identifier}</span>`;\n}\n\nexport function getIconElement(identifier: MaterialSymbols): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  iconElement.innerText = identifier;\n  return iconElement;\n}\n\nexport function getBlankIconElement(): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  return iconElement;\n}\n\nexport function setIcon(parentElement: HTMLElement, identifier: MaterialSymbols): void {\n  const thisSpanElement = elementQuerySelector(parentElement, 'span.css_material_symbols_rounded');\n  thisSpanElement.innerText = identifier;\n}\n","import { integratedBus } from '../../data/bus/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { compareThings } from '../../tools/index';\nimport { getBlankIconElement, setIcon } from '../icons/index';\nimport { GeneratedElement } from '../index';\nimport { BusPropertiesGroupBodyElement } from './index';\n\nlet previousProperties = [];\nlet previousSkeletonScreen: boolean = false;\nlet previousAnimation: boolean = false;\n\nfunction generateElementOfBusProperty(): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_bus_property');\n\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_bus_property_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  const valueElement = document.createElement('div');\n  valueElement.classList.add('css_bus_property_value');\n\n  element.appendChild(iconElement);\n  element.appendChild(valueElement);\n\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nexport function setUpBusPropertiesFieldSkeletonScreen() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  let properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: '',\n      value: ''\n    });\n  }\n  updateBusPropertiesField(properties, true, playing_animation);\n}\n\nexport function updateBusPropertiesField(properties: integratedBus['properties'], skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      const thisPropertyIconElement = elementQuerySelector(thisElement, '.css_bus_property_icon');\n      setIcon(thisPropertyIconElement, thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', animation);\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', skeletonScreen);\n    }\n\n    if (previousProperty === null || previousProperty === undefined) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n\n  // BusGroupPropertiesElement.setAttribute('skeleton-screen', skeletonScreen);\n\n  const currentPropertyCapacity = elementQuerySelectorAll(BusPropertiesGroupBodyElement, '.css_bus_property').length;\n  if (propertyQuantity !== currentPropertyCapacity) {\n    const difference = currentPropertyCapacity - propertyQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        // const propertyIndex = currentPropertyCapacity + o;\n        const newPropertyElement = generateElementOfBusProperty(skeletonScreen);\n        fragment.appendChild(newPropertyElement.element);\n      }\n      BusPropertiesGroupBodyElement.append(fragment);\n    } else {\n      const propertyElements = elementQuerySelectorAll(BusPropertiesGroupBodyElement, '.css_bus_property');\n      for (let o = 0, d = Math.abs(difference); o < d; o++) {\n        const propertyIndex = currentPropertyCapacity - 1 - o;\n        propertyElements[propertyIndex].remove();\n      }\n    }\n  }\n\n  const propertyElements = elementQuerySelectorAll(BusPropertiesGroupBodyElement, '.css_bus_property');\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties.length === 0) {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { integrateBus } from '../../data/bus/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { setUpBusPropertiesFieldSkeletonScreen, updateBusPropertiesField } from './properties';\n\nexport const BusField = documentQuerySelector('.css_bus_field');\nexport const BusHeadElement = elementQuerySelector(BusField, '.css_bus_head');\nexport const BusBodyElement = elementQuerySelector(BusField, '.css_bus_body');\nexport const BusGroupsElement = elementQuerySelector(BusBodyElement, '.css_bus_groups');\nexport const BusPropertiesGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"properties\"]');\nexport const BusPropertiesGroupBodyElement = elementQuerySelector(BusPropertiesGroupElement, '.css_bus_group_body');\nexport const BusLocationGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"location\"]');\n\nexport function openBus(id: number): void {\n  pushPageHistory('Bus');\n  logRecentView('bus', id);\n  BusField.setAttribute('displayed', 'true');\n  initializeBusPage(id);\n  closePreviousPage();\n}\n\nexport function closeBus(): void {\n  // revokePageHistory('Bus');\n  BusField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nasync function initializeBusPage(id: number) {\n  setUpBusPropertiesFieldSkeletonScreen();\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const integration = await integrateBus(id, requestID);\n  updateBusPropertiesField(integration.properties, false, playing_animation);\n}\n\nfunction updateBusField(integration: object, skeletonScreen: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisItem: object): void {}\n  function updateLocation(thisElement: HTMLElement, thisItem: object): void {}\n}\n","import { createFolder } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst FolderCreatorBodyElement = elementQuerySelector(FolderCreatorField, '.css_folder_creator_body');\nconst FolderCreatorGroupsElement = elementQuerySelector(FolderCreatorBodyElement, '.css_folder_creator_groups');\nconst NameInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-name\"] .css_folder_creator_group_body input');\nconst IconInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_field .css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('creator');\n};\n\nexport function createFormulatedFolder(): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  createFolder(name, icon).then((e) => {\n    if (e) {\n      closeFolderCreator();\n      promptMessage('folder', '已建立資料夾');\n    } else {\n      promptMessage('error', '無法建立資料夾');\n    }\n  });\n}\n\nexport function openFolderCreator(): void {\n  pushPageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'true');\n  closePreviousPage();\n}\n\nexport function closeFolderCreator(): void {\n  // revokePageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n","import { getCarInfo } from '../../data/apis/getCarInfo/index';\nimport { getLocation } from '../../data/apis/getLocation/index';\nimport { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { getRoute } from '../../data/apis/getRoute/index';\nimport { DataReceivingProgressEvent, deleteDataReceivingProgress, deleteDataUpdateTime, getDataReceivingProgress, setDataReceivingProgress } from '../../data/apis/loader';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\n\nconst dataDownloadRequestID = 'downloadData';\nexport let dataDownloadCompleted = false;\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeHeadElement = elementQuerySelector(HomeField, '.css_home_head');\nconst homeButtonRightElement = elementQuerySelector(HomeHeadElement, '.css_home_button_right');\nconst progressElement = elementQuerySelector(homeButtonRightElement, 'svg#download-svg path[progress=\"progress\"]');\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  const pixels = (1 - getDataReceivingProgress(dataDownloadRequestID)) * 189;\n  progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${pixels}px`);\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n    progressElement.addEventListener(\n      'transitionend',\n      function () {\n        homeButtonRightElement.setAttribute('complete', 'true');\n      },\n      { once: true }\n    );\n    progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${0}px`);\n    dataDownloadCompleted = true;\n  }\n}\n\nexport async function downloadData() {\n  /*\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_1', 0, false);\n  */\n  // eliminate duplicate downloads in integrateFolders\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getMaterialSymbolsSearchIndex', 0, false);\n  document.addEventListener(dataDownloadRequestID, handleDataReceivingProgressUpdates);\n  await getRoute(dataDownloadRequestID, true);\n  await getLocation(dataDownloadRequestID, 1);\n  await getCarInfo(dataDownloadRequestID, true);\n  await getMaterialSymbolsSearchIndex(dataDownloadRequestID);\n  deleteDataReceivingProgress(dataDownloadRequestID);\n  deleteDataUpdateTime(dataDownloadRequestID);\n}\n","import { getMaterialSymbolsSearchIndex } from '../../data/apis/getMaterialSymbolsSearchIndex/index';\nimport { deleteDataReceivingProgress } from '../../data/apis/loader';\nimport { prepareForMaterialSymbolsSearch, searchForMaterialSymbols } from '../../data/search/searchMaterialSymbols';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { containPhoneticSymbols } from '../../tools/text';\nimport { dataDownloadCompleted } from '../home/index';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\ntype Target = 'editor' | 'creator' | '';\n\nlet currentTarget: Target = '';\n\nconst folderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst folderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst folderIconSelectorField = documentQuerySelector('.css_folder_icon_selector_field');\n\nfunction generateElementOfSymbol(symbol: string): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_folder_icon_selector_symbol');\n  element.onclick = function () {\n    selectFolderIcon(symbol, currentTarget);\n  };\n  element.appendChild(getIconElement(symbol));\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nasync function initializeFolderIconSelectorField() {\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  materialSymbolsElement.innerHTML = '';\n  const requestID = generateIdentifier();\n  const materialSymbols = await getMaterialSymbolsSearchIndex(requestID);\n  deleteDataReceivingProgress(requestID);\n  const fragment = new DocumentFragment();\n  for (const symbol in materialSymbols.symbols) {\n    const symbolElement = generateElementOfSymbol(symbol, currentTarget);\n    fragment.appendChild(symbolElement.element);\n  }\n  materialSymbolsElement.append(fragment);\n}\n\nexport function updateMaterialSymbolsSearchResult(query: string): void {\n  const materialSymbolsSearchResultsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols_search_results');\n  const materialSymbolsElement = elementQuerySelector(folderIconSelectorField, '.css_folder_icon_selector_body .css_folder_icon_selector_material_symbols');\n  if (!containPhoneticSymbols(query)) {\n    const searchResults = searchForMaterialSymbols(query);\n    const fragment = new DocumentFragment();\n    for (const result of searchResults) {\n      const symbolElement = generateElementOfSymbol(result.item, currentTarget);\n      fragment.appendChild(symbolElement.element);\n    }\n    materialSymbolsSearchResultsElement.innerHTML = '';\n    materialSymbolsSearchResultsElement.append(fragment);\n    materialSymbolsSearchResultsElement.setAttribute('displayed', searchResults.length > 0 ? 'true' : 'false');\n    materialSymbolsElement.setAttribute('displayed', searchResults.length > 0 ? 'false' : 'true');\n  }\n}\n\nexport function selectFolderIcon(symbol: string): void {\n  let iconInputElement;\n  switch (currentTarget) {\n    case 'editor':\n      iconInputElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input');\n      break;\n    case 'creator':\n      iconInputElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\n      break;\n    default:\n      break;\n  }\n  iconInputElement.value = symbol;\n  closeFolderIconSelector();\n}\n\nexport function openFolderIconSelector(target: Target): void {\n  pushPageHistory('FolderIconSelector');\n  var openFolderIconSelectorElement;\n  switch (target) {\n    case 'editor':\n      currentTarget = 'editor';\n      openFolderIconSelectorElement = elementQuerySelector(folderEditorField, '.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\n      break;\n    case 'creator':\n      currentTarget = 'creator';\n      openFolderIconSelectorElement = elementQuerySelector(folderCreatorField, '.css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_folder_icon_selector');\n      break;\n    default:\n      break;\n  }\n  if (dataDownloadCompleted) {\n    folderIconSelectorField.setAttribute('displayed', 'true');\n    initializeFolderIconSelectorField(currentTarget);\n    prepareForMaterialSymbolsSearch();\n  } else {\n    promptMessage('download_for_offline', '資料還在下載中');\n  }\n}\n\nexport function closeFolderIconSelector(): void {\n  revokePageHistory('FolderIconSelector');\n  folderIconSelectorField.setAttribute('displayed', 'false');\n}\n","import { FolderWithContent, listFoldersWithContent } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderEditor } from '../folder-editor/index';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\n\nconst FolderManagerField = documentQuerySelector('.css_folder_manager_field');\nconst FolderManagerBodyElement = elementQuerySelector(FolderManagerField, '.css_folder_manager_body');\nconst FolderManagerFolderListElement = elementQuerySelector(FolderManagerBodyElement, '.css_folder_manager_folder_list');\n\nfunction generateElementOfItem(item: FolderWithContent): GeneratedElement {\n  // Main container\n  const folderItemElement = document.createElement('div');\n  folderItemElement.classList.add('css_folder_manager_folder_item');\n  folderItemElement.onclick = () => {\n    openFolderEditor(item.id);\n  };\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_manager_folder_item_icon');\n  iconElement.appendChild(getIconElement(item.icon));\n\n  // Name\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_folder_manager_folder_item_name');\n  nameElement.appendChild(document.createTextNode(item.name));\n\n  // Status\n  const statusElement = document.createElement('div');\n  statusElement.classList.add('css_folder_manager_folder_item_status');\n  statusElement.appendChild(document.createTextNode(String(item.contentLength)));\n\n  // Arrow\n  const arrowElement = document.createElement('div');\n  arrowElement.classList.add('css_folder_manager_folder_item_arrow');\n  arrowElement.appendChild(getIconElement('arrow_forward_ios'));\n\n  // Assemble\n  folderItemElement.appendChild(iconElement);\n  folderItemElement.appendChild(nameElement);\n  folderItemElement.appendChild(statusElement);\n  folderItemElement.appendChild(arrowElement);\n\n  return {\n    element: folderItemElement,\n    id: ''\n  };\n}\n\nasync function initializeFolderManagerField() {\n  const foldersWithContent = await listFoldersWithContent();\n  FolderManagerFolderListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of foldersWithContent) {\n    const newItemElement = generateElementOfItem(item);\n    fragment.appendChild(newItemElement.element);\n  }\n  FolderManagerFolderListElement.append(fragment);\n}\n\nexport function openFolderManager(): void {\n  pushPageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'true');\n  initializeFolderManagerField();\n  // closePreviousPage();\n}\n\nexport function closeFolderManager(): void {\n  revokePageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'false');\n  // openPreviousPage();\n}\n","import { Folder, FolderContent, getFolder, listFolderContent, removeFromFolder, updateFolder, updateFolderContentIndex } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { getIconElement } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { closePreviousPage, GeneratedElement, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst FolderEditorHeadElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_head');\nconst LeftButtonElement = elementQuerySelector(FolderEditorHeadElement, '.css_folder_editor_button_left');\nconst FolderEditorBodyElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_body');\nconst FolderEditorGroupsElement = elementQuerySelector(FolderEditorBodyElement, '.css_folder_editor_groups');\nconst NameInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-name\"] .css_folder_editor_group_body input') as HTMLInputElement;\nconst IconInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input') as HTMLInputElement;\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\nconst FolderContentElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('editor');\n};\n\nfunction generateElementOfItem(folder: Folder, item: FolderContent): GeneratedElement {\n  const identifier = generateIdentifier();\n\n  // Main container\n  const itemElement = document.createElement('div');\n  itemElement.id = identifier;\n  itemElement.classList.add('css_folder_editor_folder_item');\n  itemElement.setAttribute('type', item.type);\n\n  // Icon, context, main text\n  let context = '';\n  let main = '';\n  let icon: MaterialSymbols = '';\n  switch (item.type) {\n    case 'stop':\n      icon = 'location_on';\n      context = `${item.route ? item.route.name : ''} - 往${item.route ? [item.route.endPoints.destination, item.route.endPoints.departure, ''][item.direction ? item.direction : 0] : ''}`;\n      main = item.name;\n      break;\n    case 'route':\n      icon = 'route';\n      context = `${item.endPoints.departure} \\u2194 ${item.endPoints.destination}`;\n      main = item.name;\n      break;\n    case 'location':\n      icon = 'location_on';\n      context = '地點';\n      main = item.name;\n      break;\n    case 'bus':\n      context = '';\n      main = item.name;\n      break;\n    case 'empty':\n      icon = 'lightbulb';\n      context = '提示';\n      main = '沒有內容';\n      break;\n    default:\n      icon = '';\n      context = 'null';\n      main = 'null';\n      break;\n  }\n\n  // Icon element\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_editor_folder_item_icon');\n  iconElement.appendChild(getIconElement(icon));\n\n  // Context element\n  const contextElement = document.createElement('div');\n  contextElement.classList.add('css_folder_editor_folder_item_context');\n  contextElement.appendChild(document.createTextNode(context));\n\n  // Main element\n  const mainElement = document.createElement('div');\n  mainElement.classList.add('css_folder_editor_folder_item_main');\n  mainElement.appendChild(document.createTextNode(main));\n\n  // Capsule element\n  const capsuleElement = document.createElement('div');\n  capsuleElement.classList.add('css_folder_editor_folder_item_capsule');\n\n  // Sort up control\n  const sortUpElement = document.createElement('div');\n  sortUpElement.classList.add('css_folder_editor_folder_item_sort_control_up');\n  sortUpElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortUpElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'up');\n  };\n\n  // Sort down control\n  const sortDownElement = document.createElement('div');\n  sortDownElement.classList.add('css_folder_editor_folder_item_sort_control_down');\n  sortDownElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortDownElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'down');\n  };\n\n  // Delete control\n  const deleteElement = document.createElement('div');\n  deleteElement.classList.add('css_folder_editor_folder_item_delete');\n  deleteElement.appendChild(getIconElement('delete'));\n  deleteElement.onclick = () => {\n    removeItemOnFolderEditor(identifier, folder.id, item.type, item.id);\n  };\n\n  // Capsule separators\n  const separator1Element = document.createElement('div');\n  separator1Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n  const separator2Element = document.createElement('div');\n  separator2Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(sortUpElement);\n  capsuleElement.appendChild(sortDownElement);\n  capsuleElement.appendChild(deleteElement);\n  capsuleElement.appendChild(separator1Element);\n  capsuleElement.appendChild(separator2Element);\n\n  // Assemble main item\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(contextElement);\n  itemElement.appendChild(mainElement);\n  itemElement.appendChild(capsuleElement);\n\n  return {\n    element: itemElement,\n    id: identifier\n  };\n}\n\nfunction updateFolderEditorField(folder: Folder, content: Array<FolderContent>): void {\n  NameInputElement.value = folder.name;\n  IconInputElement.value = folder.icon;\n\n  LeftButtonElement.onclick = function () {\n    saveEditedFolder(folder.id);\n  };\n\n  FolderContentElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of content) {\n    const thisItemElement = generateElementOfItem(folder, item);\n    fragment.appendChild(thisItemElement.element);\n  }\n  FolderContentElement.append(fragment);\n}\n\nasync function initializeFolderEditorField(folderID: string) {\n  // TODO: add skeleton screen\n  const folder = getFolder(folderID);\n  const content = await listFolderContent(folderID);\n  updateFolderEditorField(folder, content);\n}\n\nexport function openFolderEditor(folderID: string): void {\n  pushPageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'true');\n  initializeFolderEditorField(folderID);\n  closePreviousPage();\n}\n\nexport function closeFolderEditor(): void {\n  // revokePageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nexport function removeItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: number): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  removeFromFolder(folderID, type, id).then((e) => {\n    if (e) {\n      itemElement.remove();\n      switch (type) {\n        case 'stop':\n          promptMessage('delete', '已移除站牌');\n          break;\n        case 'route':\n          promptMessage('delete', '已移除路線');\n          break;\n        case 'location':\n          promptMessage('delete', '已移除地點');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移除');\n    }\n  });\n}\n\nexport function moveItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: FolderContent['id'], direction: 'up' | 'down'): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  updateFolderContentIndex(folderID, type, id, direction).then((e) => {\n    if (e) {\n      switch (direction) {\n        case 'up':\n          const previousSibling = itemElement.previousElementSibling;\n          if (previousSibling) {\n            itemElement.parentNode.insertBefore(itemElement, previousSibling);\n          }\n          promptMessage('arrow_circle_up', '已往上移');\n          break;\n        case 'down':\n          const nextSibling = itemElement.nextElementSibling;\n          if (nextSibling) {\n            itemElement.parentNode.insertBefore(nextSibling, itemElement);\n          }\n          promptMessage('arrow_circle_down', '已往下移');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移動');\n    }\n  });\n}\n\nexport function saveEditedFolder(folderID: string): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  updateFolder(folderID, name, icon).then(function (e) {\n    if (e) {\n      closeFolderEditor();\n      promptMessage('check_circle', '已儲存變更');\n    } else {\n      promptMessage('error', '無法儲存');\n    }\n  });\n}\n","import { getDataUsageStats } from '../../data/analytics/data-usage/index';\nimport { convertBytes } from '../../tools/convert';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { dateToString } from '../../tools/time';\nimport { closePreviousPage, openPreviousPage, pushPageHistory, querySize } from '../index';\n\nconst dataUsageField = documentQuerySelector('.css_data_usage_field');\nconst dataUsageBodyElement = elementQuerySelector(dataUsageField, '.css_data_usage_body');\nconst chartElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_chart');\nconst statisticsElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_statistics');\nconst totalDataUsageElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"total-data-usage\"] .css_data_usage_statistics_item_value');\nconst maxDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"max-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst minDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"min-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst startTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"start-time\"] .css_data_usage_statistics_item_value');\nconst endTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"end-time\"] .css_data_usage_statistics_item_value');\n\nasync function initializeDataUsage() {\n  const WindowSize = querySize('window');\n  const graphWidth = WindowSize.width;\n  const graphHeight = Math.min((5 / 18) * graphWidth, WindowSize.height * 0.33);\n  const stats = await getDataUsageStats(graphWidth, graphHeight, 20);\n  totalDataUsageElement.innerText = convertBytes(stats.stats.sum);\n  maxDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.max);\n  minDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.min);\n  startTimeElement.innerText = dateToString(stats.period.start, 'YYYY-MM-DD');\n  endTimeElement.innerText = dateToString(stats.period.end, 'YYYY-MM-DD');\n  chartElement.innerHTML = stats.chart;\n}\n\nexport function openDataUsage(): void {\n  pushPageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'true');\n  initializeDataUsage();\n  closePreviousPage();\n}\n\nexport function closeDataUsage(): void {\n  // revokePageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n"],"names":["getIconHTML","identifier","getIconElement","iconElement","document","createElement","classList","add","innerText","getBlankIconElement","setIcon","parentElement","elementQuerySelector","previousProperties","previousSkeletonScreen","previousAnimation","generateElementOfBusProperty","element","appendChild","valueElement","id","updateBusPropertiesField","properties","skeletonScreen","animation","updateProperty","thisElement","thisProperty","previousProperty","updateIcon","thisPropertyIconElement","icon","updateValue","value","updateAnimation","setAttribute","updateSkeletonScreen","compareThings","propertyQuantity","length","currentPropertyCapacity","elementQuerySelectorAll","BusPropertiesGroupBodyElement","difference","fragment","DocumentFragment","o","d","Math","abs","newPropertyElement","append","propertyElements","remove","i","thisPropertyElement","BusField","documentQuerySelector","BusBodyElement","BusGroupsElement","BusPropertiesGroupElement","openBus","pushPageHistory","logRecentView","_x","_initializeBusPage","apply","arguments","initializeBusPage","closePreviousPage","closeBus","openPreviousPage","_asyncToGenerator","playing_animation","getSettingOptionValue","push","key","setUpBusPropertiesFieldSkeletonScreen","requestID","generateIdentifier","integrateBus","FolderCreatorField","FolderCreatorBodyElement","FolderCreatorGroupsElement","openFolderCreator","closeFolderCreator","onclick","openFolderIconSelector","dataDownloadCompleted","HomeField","HomeHeadElement","homeButtonRightElement","currentTarget","folderEditorField","folderCreatorField","folderIconSelectorField","generateElementOfSymbol","symbol","iconInputElement","revokePageHistory","selectFolderIcon","_initializeFolderIconSelectorField","materialSymbolsElement","innerHTML","materialSymbols","getMaterialSymbolsSearchIndex","deleteDataReceivingProgress","symbols","symbolElement","target","initializeFolderIconSelectorField","prepareForMaterialSymbolsSearch","promptMessage","FolderManagerField","FolderManagerBodyElement","FolderManagerFolderListElement","generateElementOfItem","item","folderItemElement","openFolderEditor","nameElement","createTextNode","name","statusElement","String","contentLength","arrowElement","_initializeFolderManagerField","foldersWithContent","listFoldersWithContent","_step","_iterator","_createForOfIteratorHelper","s","n","done","newItemElement","err","e","f","openFolderManager","initializeFolderManagerField","closeFolderManager","FolderEditorField","FolderEditorHeadElement","LeftButtonElement","FolderEditorBodyElement","FolderEditorGroupsElement","NameInputElement","IconInputElement","OpenFolderIconSelectorElement","FolderContentElement","folder","itemElement","type","context","main","route","endPoints","destination","departure","direction","contextElement","mainElement","capsuleElement","sortUpElement","moveItemOnFolderEditor","sortDownElement","deleteElement","itemID","folderID","removeFromFolder","then","removeItemOnFolderEditor","separator1Element","separator2Element","updateFolderEditorField","content","updateFolder","closeFolderEditor","thisItemElement","_initializeFolderEditorField","getFolder","listFolderContent","initializeFolderEditorField","updateFolderContentIndex","previousSibling","previousElementSibling","parentNode","insertBefore","nextSibling","nextElementSibling","dataUsageField","dataUsageBodyElement","chartElement","statisticsElement","totalDataUsageElement","maxDataUsagePerMinuteElement","minDataUsagePerMinuteElement","startTimeElement","endTimeElement","_initializeDataUsage","WindowSize","querySize","graphWidth","width","graphHeight","min","height","stats","getDataUsageStats","convertBytes","sum","max","dateToString","period","start","end","chart","openDataUsage","initializeDataUsage"],"ignoreList":[],"sourceRoot":""}