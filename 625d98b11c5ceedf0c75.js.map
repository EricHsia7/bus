{"version":3,"file":"625d98b11c5ceedf0c75.js","mappings":"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","sources":["webpack://bus/./src/interface/index.ts","webpack://bus/./src/interface/home/head.css?0838","webpack://bus/./src/interface/home/recent-views/item.css?6d55","webpack://bus/./src/interface/icons/index.css?e95d","webpack://bus/./src/interface/location/index.ts","webpack://bus/./src/interface/icons/index.css?1fcc","webpack://bus/./src/interface/icons/index.ts","webpack://bus/./src/interface/index.css?6db4","webpack://bus/./src/interface/home/index.ts","webpack://bus/./src/interface/home/recent-views/index.ts","webpack://bus/./src/interface/home/recent-views/item.css?c940","webpack://bus/./src/interface/index.css?f192","webpack://bus/./src/interface/home/recent-views/recent-views.css?ec4b","webpack://bus/./src/interface/home/head.css?8f1f","webpack://bus/./src/interface/home/recent-views/recent-views.css?4051"],"sourcesContent":["import { isRunningStandalone } from '../tools/index';\nimport { documentQuerySelector } from '../tools/query-selector';\nimport { closeBus, openBus } from './bus/index';\nimport { closeFolderCreator, openFolderCreator } from './folder-creator/index';\nimport { closeFolderEditor, openFolderEditor } from './folder-editor/index';\nimport { closeFolderManager, openFolderManager } from './folder-manager/index';\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor } from './personal-schedule-editor/index';\nimport { closePersonalScheduleManager, openPersonalScheduleManager } from './personal-schedule-manager/index';\nimport { closeRegisterNotification, openRegisterNotification } from './register-notification/index';\nimport { closeSearch, openSearch } from './search/index';\nimport { closeSettings, openSettings } from './settings/index';\n\nconst splashScreenTimer_minimalTimeOut = 100;\nconst splashScreenTimer_openTime = new Date().getTime();\n\ntype Page = 'Home' | 'FolderCreator' | 'FolderEditor' | 'FolderIconSelector' | 'FolderManager' | 'Location' | 'RouteDetails' | 'Route' | 'SaveToFolder' | 'Search' | 'Settings' | 'SettingsOptions' | 'DataUsage' | 'PersonalScheduleManager' | 'PersonalScheduleCreator' | 'PersonalScheduleEditor' | 'Bus' | 'RegisterNotification' | 'ScheduleNotification' | 'NotificationScheduleManager';\n\nlet pageHistory: Array<Page> = ['Home'];\n\nexport function pushPageHistory(page: Page): void {\n  const pageHistoryLength = pageHistory.length;\n  const lastPage = pageHistory[pageHistoryLength - 1];\n  if (!(lastPage === page)) {\n    pageHistory.push(page);\n  }\n}\n\nexport function revokePageHistory(page: Page): void {\n  if (pageHistory.indexOf(page) > -1) {\n    const pageHistoryLength = pageHistory.length;\n    if (pageHistory[pageHistoryLength - 1] === page) {\n      pageHistory.pop();\n    }\n  }\n}\n\nexport function closePreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        closeFolderCreator();\n        break;\n      case 'FolderEditor':\n        closeFolderEditor();\n        break;\n      case 'FolderIconSelector':\n        break;\n      case 'FolderManager':\n        closeFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        closeSearch();\n        break;\n      case 'Settings':\n        closeSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        closePersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        closePersonalScheduleEditor();\n        break;\n      case 'Bus':\n        closeBus();\n        break;\n      case 'RegisterNotification':\n        closeRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function openPreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    pageHistory.pop();\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        openFolderCreator();\n        break;\n      case 'FolderEditor':\n        openFolderEditor();\n        break;\n      case 'FolderIconSelector':\n        break;\n      case 'FolderManager':\n        openFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        openSearch();\n        break;\n      case 'Settings':\n        openSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        openPersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        openPersonalScheduleEditor();\n        break;\n      case 'Bus':\n        openBus();\n        break;\n      case 'RegisterNotification':\n        openRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function setSplashScreenIconOffsetY(): void {\n  let offset = 0;\n  if (isRunningStandalone()) {\n    offset = (-1 * (window.outerHeight - window.innerHeight)) / 2;\n  }\n  documentQuerySelector('.css_splash_screen svg.css_splash_screen_icon').style.setProperty('--b-cssvar-splash-screen-icon-offset-y', `${offset}px`);\n}\n\nexport function fadeOutSplashScreen(callback: Function): void {\n  function fadeOut() {\n    var element: HTMLElement = documentQuerySelector('.css_splash_screen');\n    element.classList.add('css_splash_screen_fade_out');\n    element.addEventListener(\n      'animationend',\n      function () {\n        element.setAttribute('displayed', 'false');\n        element.classList.remove('css_splash_screen_fade_out');\n        if (typeof callback === 'function') {\n          callback();\n        }\n      },\n      { once: true }\n    );\n  }\n  const cureentTime = new Date().getTime();\n  if (cureentTime - splashScreenTimer_openTime < splashScreenTimer_minimalTimeOut) {\n    setTimeout(fadeOut, Math.max(1, cureentTime - splashScreenTimer_openTime));\n  } else {\n    fadeOut();\n  }\n}\n\nexport interface GeneratedElement {\n  element: HTMLElement;\n  id: string;\n}\n\nexport type GroupStyles = {\n  [key: string]: {\n    width: number;\n    offset: number;\n  };\n};\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\ntype SizeType = 'window' | 'head' | 'head-one-button' | 'head-two-button' | 'route-details-canvas' | 'route-bus-arrival-time-chart' | 'location-bus-arrival-time-chart';\n\nexport function querySize(type: SizeType): Size {\n  let width: number = 0;\n  let height: number = 0;\n  const windowWidth = window.innerWidth;\n  const windowHeight = window.innerHeight;\n  switch (type) {\n    case 'window':\n      width = windowWidth;\n      height = windowHeight;\n      break;\n    case 'head':\n      width = windowWidth;\n      height = 55;\n      break;\n    case 'head-one-button':\n      width = windowWidth - 55;\n      height = 55;\n      break;\n    case 'head-two-button':\n      width = windowWidth - 55 * 2;\n      height = 55;\n      break;\n    case 'route-details-canvas':\n      width = windowWidth - 10 * 2 - 10 * 2;\n      height = 24 * 60;\n      break;\n    case 'route-bus-arrival-time-chart':\n      width = windowWidth - 45 - 15 - 20;\n      height = 75;\n      break;\n    case 'location-bus-arrival-time-chart':\n      width = windowWidth - 30 - 20;\n      height = 75;\n      break;\n    default:\n      width = 0;\n      height = 0;\n      break;\n  }\n  return {\n    width,\n    height\n  };\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!./head.css?inline\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!./head.css?inline\";\n       export default content && content.locals ? content.locals : undefined;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `// extracted by mini-css-extract-plugin\nexport {};`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/interface/home/recent-views/item.css\"],\"names\":[],\"mappings\":\"AAAA;QACS,CAAA\",\"sourcesContent\":[\"// extracted by mini-css-extract-plugin\\nexport {};\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `// extracted by mini-css-extract-plugin\nexport {};`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/interface/icons/index.css\"],\"names\":[],\"mappings\":\"AAAA;QACS,CAAA\",\"sourcesContent\":[\"// extracted by mini-css-extract-plugin\\nexport {};\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { getUpdateRate } from '../../data/analytics/update-rate/index';\nimport { DataReceivingProgressEvent } from '../../data/apis/loader';\nimport { isFolderContentSaved } from '../../data/folder/index';\nimport { IntegratedLocation, IntegratedLocationItem, integrateLocation, LocationGroupProperty } from '../../data/location/index';\nimport { stopHasNotifcationSchedules } from '../../data/notification/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../data/settings/index';\nimport { getTextWidth } from '../../tools/graphic';\nimport { booleanToString, compareThings, generateIdentifier } from '../../tools/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll, getElementsBelow } from '../../tools/query-selector';\nimport { indexToDay, timeObjectToString } from '../../tools/time';\nimport { getIconHTML } from '../icons/index';\nimport { closePreviousPage, GeneratedElement, GroupStyles, openPreviousPage, pushPageHistory, querySize } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst LocationField = documentQuerySelector('.css_location_field');\nconst LocationHeadElement = elementQuerySelector(LocationField, '.css_location_head');\nconst LocationNameElement = elementQuerySelector(LocationHeadElement, '.css_location_name');\nconst LocationGroupsElement = elementQuerySelector(LocationField, '.css_location_groups');\nconst LocationGroupTabsElement = elementQuerySelector(LocationHeadElement, '.css_location_group_tabs');\nconst LocationGroupTabsTrayElement = elementQuerySelector(LocationGroupTabsElement, '.css_location_group_tabs_tray');\nconst LocationGroupTabLineTrackElement = elementQuerySelector(LocationHeadElement, '.css_location_group_tab_line_track');\nconst LocationGroupTabLineElement = elementQuerySelector(LocationGroupTabLineTrackElement, '.css_location_group_tab_line');\nconst LocationUpdateTimerElement = elementQuerySelector(LocationHeadElement, '.css_location_update_timer_box .css_location_update_timer');\n\nlet previousIntegration = {} as IntegratedLocation;\nlet previousAnimation: boolean = true;\nlet previousSkeletonScreen: boolean = false;\n\nlet locationSliding_initialIndex: number = 0;\nlet locationSliding_targetIndex: number = 0;\nlet locationSliding_groupQuantity: number = 0;\nlet locationSliding_groupStyles: GroupStyles = {};\nlet locationSliding_fieldWidth: number = 0;\nlet locationSliding_fieldHeight: number = 0;\nlet locationSliding_sliding: boolean = false;\n\nlet locationRefreshTimer_retryInterval: number = 10 * 1000;\nlet locationRefreshTimer_baseInterval: number = 15 * 1000;\nlet locationRefreshTimer_minInterval: number = 5 * 1000;\nlet locationRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet locationRefreshTimer_dynamic: boolean = true;\nlet locationRefreshTimer_lastUpdate: number = 0;\nlet locationRefreshTimer_nextUpdate: number = 0;\nlet locationRefreshTimer_currentRequestID: string = '';\nlet locationRefreshTimer_refreshing: boolean = false;\nlet locationRefreshTimer_streaming: boolean = false;\nlet locationRefreshTimer_streamStarted: boolean = false;\n\nvar currentHashSet_hash: string = '';\n\nvar tabPadding: number = 20;\n\nexport function initializeLocationSliding(): void {\n  LocationGroupsElement.addEventListener(\n    'touchstart',\n    function () {\n      locationSliding_initialIndex = Math.round(LocationGroupsElement.scrollLeft / locationSliding_fieldWidth);\n    },\n    { passive: true }\n  );\n\n  LocationGroupsElement.addEventListener(\n    'scroll',\n    function (event: Event) {\n      locationSliding_sliding = true;\n      const target = event.target as HTMLElement;\n      const currentIndex = target.scrollLeft / locationSliding_fieldWidth;\n      if (currentIndex > locationSliding_initialIndex) {\n        locationSliding_targetIndex = locationSliding_initialIndex + 1;\n      } else {\n        locationSliding_targetIndex = locationSliding_initialIndex - 1;\n      }\n      const initialSize = locationSliding_groupStyles[`g_${locationSliding_initialIndex}`] || { width: 0, offset: 0 };\n      const targetSize = locationSliding_groupStyles[`g_${locationSliding_targetIndex}`] || { width: 0, offset: 0 };\n      const tabWidth = initialSize.width + (targetSize.width - initialSize.width) * Math.abs(currentIndex - locationSliding_initialIndex);\n      const offset = (initialSize.offset + (targetSize.offset - initialSize.offset) * Math.abs(currentIndex - locationSliding_initialIndex)) * -1 + locationSliding_fieldWidth * 0.5 - tabWidth * 0.5;\n      updateLocationCSS(locationSliding_groupQuantity, offset, tabWidth - tabPadding, currentIndex);\n      if (currentIndex === locationSliding_targetIndex) {\n        locationSliding_initialIndex = Math.round(LocationGroupsElement.scrollLeft / locationSliding_fieldWidth);\n        locationSliding_sliding = false;\n      }\n    },\n    { passive: true }\n  );\n}\n\nexport function updateLocationCSS(groupQuantity: number, offset: number, tabLineWidth: number, percentage: number): void {\n  LocationGroupsElement.style.setProperty('--b-cssvar-location-group-quantity', groupQuantity.toString());\n  LocationGroupTabLineElement.style.setProperty('--b-cssvar-location-tab-line-width-scale', (tabLineWidth / 10).toString());\n  LocationGroupTabsTrayElement.style.setProperty('--b-cssvar-location-tabs-tray-offset', `${offset.toFixed(5)}px`);\n  LocationGroupTabsTrayElement.style.setProperty('--b-cssvar-location-percentage', percentage.toFixed(5));\n}\n\nfunction animateUpdateTimer(): void {\n  LocationUpdateTimerElement.style.setProperty('--b-cssvar-location-update-timer-interval', `${locationRefreshTimer_dynamicInterval}ms`);\n  LocationUpdateTimerElement.classList.add('css_location_update_timer_slide_rtl');\n}\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  if (locationRefreshTimer_refreshing) {\n    const offsetRatio = CustomEvent.detail.progress - 1;\n    LocationUpdateTimerElement.style.setProperty('--b-cssvar-location-update-timer-offset-ratio', offsetRatio.toString());\n  }\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n  }\n}\n\nfunction generateElementOfItem(): GeneratedElement {\n  const identifier = generateIdentifier('i');\n  const element = document.createElement('div');\n  element.classList.add('css_location_group_item');\n  element.id = identifier;\n  element.setAttribute('stretched', 'false');\n  element.setAttribute('stretching', 'false');\n  element.setAttribute('push-direction', '0'); // 0: normal state, 1: downward, 2: upward\n  element.setAttribute('push-state', '0'); // 0: normal state, 1: compensation , 2: transition\n  element.innerHTML = /*html*/ `<div class=\"css_location_group_item_head\"><div class=\"css_location_group_item_rank\"><div class=\"css_location_group_item_rank_next_slide\" code=\"-1\"></div><div class=\"css_location_group_item_rank_current_slide\" code=\"-1\"></div></div><div class=\"css_location_group_item_route_direction\"></div><div class=\"css_location_group_item_route_name\"></div><div class=\"css_location_group_item_capsule\"><div class=\"css_location_group_item_status\"><div class=\"css_next_slide\" code=\"0\"></div><div class=\"css_current_slide\" code=\"0\"></div></div><div class=\"css_location_group_item_stretch\" onclick=\"bus.location.stretchLocationItem('${identifier}')\">${getIconHTML('keyboard_arrow_down')}</div><div class=\"css_location_group_item_capsule_separator\"></div></div></div><div class=\"css_location_group_item_body\" displayed=\"false\"><div class=\"css_location_group_item_buttons\"><div class=\"css_location_group_item_button\" highlighted=\"true\" type=\"tab\" onclick=\"bus.location.switchLocationBodyTab('${identifier}', 0)\" code=\"0\"><div class=\"css_location_group_item_button_icon\">${getIconHTML('directions_bus')}</div>公車</div><div class=\"css_location_group_item_button\" highlighted=\"false\" type=\"tab\" onclick=\"bus.location.switchLocationBodyTab('${identifier}', 1)\" code=\"1\"><div class=\"css_location_group_item_button_icon\">${getIconHTML('departure_board')}</div>抵達時間</div><div class=\"css_location_group_item_button\" highlighted=\"false\" type=\"save-to-folder\" onclick=\"bus.folder.openSaveToFolder('stop-on-location', ['${identifier}', null, null])\"><div class=\"css_location_group_item_button_icon\">${getIconHTML('folder')}</div>儲存至資料夾</div><div class=\"css_location_group_item_button\" highlighted=\"false\" type=\"schedule-notification\" onclick=\"bus.notification.openScheduleNotification('stop-on-location', ['${identifier}', null, null, null])\" enabled=\"true\"><div class=\"css_location_group_item_button_icon\">${getIconHTML('notifications')}</div>設定到站通知</div></div><div class=\"css_location_group_item_buses\" displayed=\"true\"></div><div class=\"css_location_group_item_bus_arrival_times\" displayed=\"false\"></div></div>`;\n  return {\n    element: element,\n    id: identifier\n  };\n}\n\nfunction generateElementOfGroup(): GeneratedElement {\n  // const identifier = generateIdentifier('g');\n  const element = document.createElement('div');\n  // element.id = identifier;\n  element.classList.add('css_location_group');\n  element.innerHTML = /*html*/ `<div class=\"css_location_group_details\"><div class=\"css_location_group_details_body\"></div></div><div class=\"css_location_group_items\"></div>`;\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nfunction generateElementOfTab(): GeneratedElement {\n  // const identifier = generateIdentifier('t');\n  const element = document.createElement('div');\n  // element.id = identifier;\n  element.classList.add('css_location_group_tab');\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nfunction generateElementOfGroupDetailsProperty(): GeneratedElement {\n  // const identifier = generateIdentifier('p');\n  const element = document.createElement('div');\n  // element.id = identifier;\n  element.classList.add('css_location_group_details_property');\n  element.innerHTML = /*html*/ `<div class=\"css_location_details_property_icon\"></div><div class=\"css_location_details_property_value\"></div>`;\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nfunction setUpLocationFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  const defaultItemQuantity: IntegratedLocation['itemQuantity'] = { g_0: Math.floor(FieldHeight / 50) + 5, g_1: Math.floor(FieldHeight / 50) + 5 };\n  const defaultGroupQuantity = 2;\n  let groupedItems: IntegratedLocation['groupedItems'] = {};\n  for (let i = 0; i < defaultGroupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    groupedItems[groupKey] = [];\n    for (let j = 0; j < defaultItemQuantity[groupKey]; j++) {\n      groupedItems[groupKey].push({\n        route_name: '',\n        route_direction: '',\n        routeId: 0,\n        stopId: 0,\n        status: {\n          code: 8,\n          text: '',\n          time: -6\n        },\n        ranking: {\n          number: 0,\n          text: '--',\n          code: -1\n        },\n        buses: [],\n        busArrivalTimes: []\n      });\n    }\n  }\n  updateLocationField(\n    {\n      groupedItems: groupedItems,\n      groupQuantity: defaultGroupQuantity,\n      groups: {\n        g_0: {\n          name: '載入中',\n          properties: [\n            {\n              key: '0',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '1',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '2',\n              icon: '',\n              value: ''\n            }\n          ]\n        },\n        g_1: {\n          name: '載入中',\n          properties: [\n            {\n              key: '0',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '1',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '2',\n              icon: '',\n              value: ''\n            }\n          ]\n        }\n      },\n      itemQuantity: defaultItemQuantity,\n      LocationName: '載入中',\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nfunction updateLocationField(integration: IntegratedLocation, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(thisElement: HTMLElement, thisItem: IntegratedLocationItem, previousItem: IntegratedLocationItem | null): void {\n    function updateStatus(thisElement: HTMLElement, thisItem: IntegratedLocationItem, animation: boolean): void {\n      const thisElementRect = thisElement.getBoundingClientRect();\n      const top = thisElementRect.top;\n      const left = thisElementRect.left;\n      const bottom = thisElementRect.bottom;\n      const right = thisElementRect.right;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n\n      const thisItemStatusElement = elementQuerySelector(thisElement, '.css_location_group_item_status');\n      const nextSlide = elementQuerySelector(thisItemStatusElement, '.css_next_slide');\n      const currentSlide = elementQuerySelector(thisItemStatusElement, '.css_current_slide');\n\n      nextSlide.setAttribute('code', thisItem.status.code.toString());\n      nextSlide.innerText = thisItem.status.text;\n\n      if (animation && bottom > 0 && top < windowHeight && right > 0 && left < windowWidth) {\n        currentSlide.addEventListener(\n          'animationend',\n          function () {\n            currentSlide.setAttribute('code', thisItem.status.code.toString());\n            currentSlide.innerText = thisItem.status.text;\n            currentSlide.classList.remove('css_slide_fade_out');\n          },\n          { once: true }\n        );\n        currentSlide.classList.add('css_slide_fade_out');\n      } else {\n        currentSlide.setAttribute('code', thisItem.status.code.toString());\n        currentSlide.innerText = thisItem.status.text;\n      }\n    }\n\n    function updateRank(thisElement: HTMLElement, thisItem: IntegratedLocationItem, animation: boolean): void {\n      const thisElementRect = thisElement.getBoundingClientRect();\n      const top = thisElementRect.top;\n      const left = thisElementRect.left;\n      const bottom = thisElementRect.bottom;\n      const right = thisElementRect.right;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n\n      const thisRankElement = elementQuerySelector(thisElement, '.css_location_group_item_rank');\n      const nextSlide = elementQuerySelector(thisRankElement, '.css_location_group_item_rank_next_slide');\n      const currentSlide = elementQuerySelector(thisRankElement, '.css_location_group_item_rank_current_slide');\n\n      nextSlide.setAttribute('code', thisItem.ranking.code.toString());\n      nextSlide.innerText = thisItem.ranking.text;\n\n      if (animation && bottom > 0 && top < windowHeight && right > 0 && left < windowWidth) {\n        currentSlide.addEventListener(\n          'animationend',\n          function () {\n            currentSlide.setAttribute('code', thisItem.ranking.code.toString());\n            currentSlide.innerText = thisItem.ranking.text;\n            currentSlide.classList.remove('css_location_group_item_rank_current_slide_fade_out');\n          },\n          { once: true }\n        );\n        currentSlide.classList.add('css_location_group_item_rank_current_slide_fade_out');\n      } else {\n        currentSlide.setAttribute('code', thisItem.ranking.code.toString());\n        currentSlide.innerText = thisItem.ranking.text;\n      }\n    }\n\n    function updateRouteDirection(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisRouteDirectionElement = elementQuerySelector(thisElement, '.css_location_group_item_route_direction');\n      thisRouteDirectionElement.innerText = thisItem.route_direction;\n    }\n\n    function updateRouteName(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisRouteNameElement = elementQuerySelector(thisElement, '.css_location_group_item_route_name');\n      thisRouteNameElement.innerText = thisItem.route_name;\n      // TODO: selector\n    }\n\n    function updateBuses(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisBusesElement = elementQuerySelector(thisElement, '.css_location_group_item_buses');\n      thisBusesElement.innerHTML = thisItem.buses.length === 0 ? '<div class=\"css_location_group_item_buses_message\">目前沒有公車可顯示</div>' : thisItem.buses.map((bus) => `<div class=\"css_location_group_item_bus\" on-this-route=\"${bus.onThisRoute}\"><div class=\"css_location_group_item_bus_title\"><div class=\"css_location_group_item_bus_icon\">${getIconHTML('directions_bus')}</div><div class=\"css_location_group_item_bus_car_number\">${bus.carNumber}</div></div><div class=\"css_location_group_item_bus_attributes\"><div class=\"css_location_group_item_bus_route\">路線：${bus.RouteName}</div><div class=\"css_location_group_item_bus_car_status\">狀態：${bus.status.text}</div><div class=\"css_location_group_item_bus_car_type\">類型：${bus.type}</div></div></div>`).join('');\n    }\n\n    function updateBusArrivalTimes(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisBusArrivalTimesElement = elementQuerySelector(thisItemElement, '.css_location_group_item_bus_arrival_times');\n      thisBusArrivalTimesElement.innerHTML = thisItem.busArrivalTimes.length === 0 ? '<div class=\"css_location_group_item_bus_arrival_message\">目前沒有抵達時間可顯示</div>' : thisItem.busArrivalTimes.map((busArrivalTime) => `<div class=\"css_location_group_item_bus_arrival_time\"><div class=\"css_location_group_item_bus_arrival_time_title\"><div class=\"css_location_group_item_bus_arrival_time_icon\">${getIconHTML('calendar_view_day')}</div><div class=\"css_location_group_item_bus_arrival_time_personal_schedule_name\">${busArrivalTime.personalSchedule.name}</div><div class=\"css_location_group_item_bus_arrival_time_personal_schedule_time\">週${indexToDay(busArrivalTime.day).name} ${timeObjectToString(busArrivalTime.personalSchedule.period.start)} - ${timeObjectToString(busArrivalTime.personalSchedule.period.end)}</div></div><div class=\"css_location_group_item_bus_arrival_time_chart\">${busArrivalTime.chart}</div></div>`).join('');\n    }\n\n    function updateStretch(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      if (skeletonScreen) {\n        thisElement.setAttribute('stretched', 'false');\n      }\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    function updateSaveToFolderButton(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisItemBodyElement = elementQuerySelector(thisItemElement, '.css_location_group_item_body');\n      const thisItemButtonsElement = elementQuerySelector(thisItemBodyElement, '.css_location_group_item_buttons');\n      const saveToFolderButtonElement = elementQuerySelector(thisItemButtonsElement, '.css_location_group_item_button[type=\"save-to-folder\"]');\n      saveToFolderButtonElement.setAttribute('onclick', `bus.folder.openSaveToFolder('stop-on-location', ['${thisItemElement.id}', ${thisItem.stopId}, ${thisItem.routeId}])`);\n      isFolderContentSaved('stop', thisItem.stopId).then((e) => {\n        saveToFolderButtonElement.setAttribute('highlighted', booleanToString(e));\n      });\n    }\n\n    function updateScheduleNotificationButton(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisItemBodyElement = elementQuerySelector(thisItemElement, '.css_location_group_item_body');\n      const thisItemButtonsElement = elementQuerySelector(thisItemBodyElement, '.css_location_group_item_buttons');\n      const scheduleNotificationButtonElement = elementQuerySelector(thisItemButtonsElement, '.css_location_group_item_button[type=\"schedule-notification\"]');\n      scheduleNotificationButtonElement.setAttribute('onclick', `bus.notification.openScheduleNotification('stop-on-location', ['${thisItemElement.id}', ${thisItem.stopId}, ${thisItem.routeId}, ${thisItem.status.time}])`);\n      const havingNotifcationSchedules = stopHasNotifcationSchedules(thisItem.stopId);\n      scheduleNotificationButtonElement.setAttribute('highlighted', booleanToString(havingNotifcationSchedules));\n    }\n\n    if (previousItem === null) {\n      updateStatus(thisElement, thisItem, animation);\n      updateRank(thisElement, thisItem, animation);\n      updateRouteDirection(thisElement, thisItem);\n      updateRouteName(thisElement, thisItem);\n      updateBuses(thisElement, thisItem);\n      updateBusArrivalTimes(thisElement, thisItem);\n      updateStretch(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateSaveToFolderButton(thisElement, thisItem);\n      updateScheduleNotificationButton(thisElement, thisItem);\n    } else {\n      if (thisItem.status.time !== previousItem.status.time) {\n        updateStatus(thisElement, thisItem, animation);\n        updateScheduleNotificationButton(thisElement, thisItem);\n      }\n      if (previousItem.ranking.number !== thisItem.ranking.number || previousItem.ranking.code !== thisItem.ranking.code) {\n        updateRank(thisElement, thisItem, animation);\n      }\n      if (previousItem.stopId !== thisItem.stopId) {\n        updateRouteDirection(thisElement, thisItem);\n        updateRouteName(thisElement, thisItem);\n        updateSaveToFolderButton(thisElement, thisItem);\n      }\n      if (!compareThings(previousItem.buses, thisItem.buses)) {\n        updateBuses(thisElement, thisItem);\n      }\n      if (!compareThings(previousItem.busArrivalTimes, thisItem.busArrivalTimes)) {\n        updateBusArrivalTimes(thisElement, thisItem);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateStretch(thisElement, skeletonScreen);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  function updateProperty(thisElement: HTMLElement, thisProperty: LocationGroupProperty, previousProperty: LocationGroupProperty | null): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: LocationGroupProperty): void {\n      elementQuerySelector(thisElement, '.css_location_details_property_icon').innerHTML = getIconHTML(thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: LocationGroupProperty): void {\n      elementQuerySelector(thisElement, '.css_location_details_property_value').innerHTML = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousProperty === null) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (!compareThings(previousProperty.icon, thisProperty.icon)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty.value, thisProperty.value)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n\n  const groupQuantity = integration.groupQuantity;\n  const itemQuantity = integration.itemQuantity;\n  const groupedItems = integration.groupedItems;\n  const groups = integration.groups;\n\n  locationSliding_groupQuantity = groupQuantity;\n  locationSliding_fieldWidth = FieldWidth;\n  locationSliding_fieldHeight = FieldHeight;\n\n  let cumulativeOffset = 0;\n  for (let i = 0; i < groupQuantity; i++) {\n    const width = getTextWidth(groups[`g_${i}`].name, 500, '17px', `\"Noto Sans TC\", sans-serif`) + tabPadding;\n    locationSliding_groupStyles[`g_${i}`] = {\n      width: width,\n      offset: cumulativeOffset\n    };\n    cumulativeOffset += width;\n  }\n  var offset = locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].offset * -1 + locationSliding_fieldWidth * 0.5 - locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].width * 0.5;\n  if (!locationSliding_sliding) {\n    updateLocationCSS(locationSliding_groupQuantity, offset, locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].width - tabPadding, locationSliding_initialIndex);\n  }\n\n  LocationNameElement.innerHTML = /*html*/ `<span>${integration.LocationName}</span>`;\n  LocationNameElement.setAttribute('animation', booleanToString(animation));\n  LocationNameElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  LocationGroupTabsElement.setAttribute('animation', booleanToString(animation));\n  LocationGroupTabsElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  LocationGroupTabLineTrackElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  // TODO: updateTab\n\n  const currentGroupSeatQuantity = elementQuerySelectorAll(LocationGroupsElement, '.css_location_group').length;\n  if (!(groupQuantity === currentGroupSeatQuantity)) {\n    const capacity = currentGroupSeatQuantity - groupQuantity;\n    if (capacity < 0) {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const newGroupElement = generateElementOfGroup();\n        LocationGroupsElement.appendChild(newGroupElement.element);\n        const newTabElement = generateElementOfTab();\n        LocationGroupTabsTrayElement.appendChild(newTabElement.element);\n      }\n    } else {\n      const LocationGroupElements = elementQuerySelectorAll(LocationGroupsElement, `.css_location_group`);\n      const LocationGroupTabElements = elementQuerySelectorAll(LocationGroupTabsTrayElement, '.css_location_group_tab');\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const groupIndex = currentGroupSeatQuantity - 1 - o;\n        LocationGroupElements[groupIndex].remove();\n        LocationGroupTabElements[groupIndex].remove();\n      }\n    }\n  }\n\n  const LocationGroupElements = elementQuerySelectorAll(LocationGroupsElement, `.css_location_group`);\n  for (let i = 0; i < groupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    const thisLocationGroupElement = LocationGroupElements[i];\n    const currentItemSeatQuantity = elementQuerySelectorAll(thisLocationGroupElement, `.css_location_group_items .css_location_group_item`).length;\n    if (!(itemQuantity[groupKey] === currentItemSeatQuantity)) {\n      const capacity = currentItemSeatQuantity - itemQuantity[groupKey];\n      if (capacity < 0) {\n        const LocationGroupItemsElement = elementQuerySelector(thisLocationGroupElement, `.css_location_group_items`);\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const newItemElement = generateElementOfItem();\n          LocationGroupItemsElement.appendChild(newItemElement.element);\n        }\n      } else {\n        const LocationGroupItemElements = elementQuerySelectorAll(thisLocationGroupElement, `.css_location_group_items .css_location_group_item`);\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const itemIndex = currentItemSeatQuantity - 1 - o;\n          LocationGroupItemElements[itemIndex].remove();\n        }\n      }\n    }\n\n    const currentGroupPropertySeatQuantity = elementQuerySelectorAll(elementQuerySelectorAll(LocationGroupsElement, '.css_location_group')[i], `.css_location_group_details .css_location_group_details_body .css_location_group_details_property`).length;\n    const groupPropertyQuantity = groups[groupKey].properties.length;\n    if (!(groupPropertyQuantity === currentGroupPropertySeatQuantity)) {\n      const capacity = currentGroupPropertySeatQuantity - groupPropertyQuantity;\n      if (capacity < 0) {\n        const thisLocationGroupDetailsElement = elementQuerySelector(thisLocationGroupElement, '.css_location_group_details');\n        const thisLocationGroupDetailsBodyElement = elementQuerySelector(thisLocationGroupDetailsElement, '.css_location_group_details_body');\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          // var propertyIndex = currentGroupPropertySeatQuantity + o;\n          const newPropertyElement = generateElementOfGroupDetailsProperty();\n          thisLocationGroupDetailsBodyElement.appendChild(newPropertyElement.element);\n        }\n      } else {\n        const thisLocationGroupDetailsElement = elementQuerySelector(thisLocationGroupElement, '.css_location_group_details');\n        const thisLocationGroupDetailsBodyElement = elementQuerySelector(thisLocationGroupDetailsElement, '.css_location_group_details_body');\n        const propertyElements = elementQuerySelectorAll(thisLocationGroupDetailsBodyElement, '.css_location_group_details_property');\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const propertyIndex = currentGroupPropertySeatQuantity - 1 - o;\n          propertyElements[propertyIndex].remove();\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < groupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    const thisTabElement = elementQuerySelectorAll(LocationGroupTabsTrayElement, '.css_location_group_tab')[i];\n    thisTabElement.innerHTML = /*html*/ `<span>${groups[groupKey].name}</span>`;\n    thisTabElement.style.setProperty('--b-cssvar-location-tab-width', `${locationSliding_groupStyles[groupKey].width}px`);\n    thisTabElement.style.setProperty('--b-cssvar-location-tab-index', i.toString());\n    const thisGroupElement = elementQuerySelectorAll(LocationGroupsElement, '.css_location_group')[i];\n    const groupPropertyQuantity = groups[groupKey].properties.length;\n\n    for (let k = 0; k < groupPropertyQuantity; k++) {\n      const thisProperty = groups[groupKey].properties[k];\n      const thisElement = elementQuerySelectorAll(thisGroupElement, `.css_location_group_details .css_location_group_details_body .css_location_group_details_property`)[k];\n      if (previousIntegration.hasOwnProperty('groups')) {\n        if (previousIntegration.groups.hasOwnProperty(groupKey)) {\n          if (previousIntegration.groups[groupKey].properties[k]) {\n            const previousProperty = previousIntegration.groups[groupKey].properties[k];\n            updateProperty(thisElement, thisProperty, previousProperty);\n          } else {\n            updateProperty(thisElement, thisProperty, null);\n          }\n        } else {\n          updateProperty(thisElement, thisProperty, null);\n        }\n      } else {\n        updateProperty(thisElement, thisProperty, null);\n      }\n    }\n\n    for (let j = 0; j < itemQuantity[groupKey]; j++) {\n      const thisElement = elementQuerySelectorAll(thisGroupElement, `.css_location_group_items .css_location_group_item`)[j];\n      const thisItem = groupedItems[groupKey][j];\n      if (previousIntegration.hasOwnProperty('groupedItems')) {\n        if (previousIntegration.groupedItems.hasOwnProperty(groupKey)) {\n          if (previousIntegration.groupedItems[groupKey][j]) {\n            const previousItem = previousIntegration.groupedItems[groupKey][j];\n            updateItem(thisElement, thisItem, previousItem);\n          } else {\n            updateItem(thisElement, thisItem, null);\n          }\n        } else {\n          updateItem(thisElement, thisItem, null);\n        }\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nasync function refreshLocation() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  const busArrivalTimeChartSize = querySize('location-bus-arrival-time-chart');\n  locationRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  locationRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  locationRefreshTimer_refreshing = true;\n  locationRefreshTimer_currentRequestID = generateIdentifier('r');\n  LocationUpdateTimerElement.setAttribute('refreshing', 'true');\n  LocationUpdateTimerElement.classList.remove('css_location_update_timer_slide_rtl');\n  document.addEventListener(locationRefreshTimer_currentRequestID, handleDataReceivingProgressUpdates);\n  const integration = await integrateLocation(currentHashSet_hash, busArrivalTimeChartSize.width, busArrivalTimeChartSize.height, locationRefreshTimer_currentRequestID);\n  updateLocationField(integration, false, playing_animation);\n  let updateRate = 0;\n  if (locationRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  locationRefreshTimer_lastUpdate = new Date().getTime();\n  if (locationRefreshTimer_dynamic) {\n    locationRefreshTimer_nextUpdate = Math.max(locationRefreshTimer_lastUpdate + locationRefreshTimer_minInterval, integration.dataUpdateTime + locationRefreshTimer_baseInterval / updateRate);\n  } else {\n    locationRefreshTimer_nextUpdate = locationRefreshTimer_lastUpdate + locationRefreshTimer_baseInterval;\n  }\n  locationRefreshTimer_dynamicInterval = Math.max(locationRefreshTimer_minInterval, locationRefreshTimer_nextUpdate - locationRefreshTimer_lastUpdate);\n  locationRefreshTimer_refreshing = false;\n  LocationUpdateTimerElement.setAttribute('refreshing', 'false');\n  animateUpdateTimer();\n}\n\nexport function streamLocation(): void {\n  refreshLocation()\n    .then(function () {\n      if (locationRefreshTimer_streaming) {\n        setTimeout(function () {\n          streamLocation();\n        }, Math.max(locationRefreshTimer_minInterval, locationRefreshTimer_nextUpdate - new Date().getTime()));\n      } else {\n        locationRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (locationRefreshTimer_streaming) {\n        promptMessage(`地點網路連線中斷，將在${locationRefreshTimer_retryInterval / 1000}秒後重試。`, 'error');\n        setTimeout(function () {\n          streamLocation();\n        }, locationRefreshTimer_retryInterval);\n      } else {\n        locationRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function openLocation(hash: string): void {\n  pushPageHistory('Location');\n  logRecentView('location', hash);\n  currentHashSet_hash = hash;\n  locationSliding_initialIndex = 0;\n  LocationField.setAttribute('displayed', 'true');\n  LocationGroupsElement.scrollLeft = 0;\n  setUpLocationFieldSkeletonScreen();\n  if (!locationRefreshTimer_streaming) {\n    locationRefreshTimer_streaming = true;\n    if (!locationRefreshTimer_streamStarted) {\n      locationRefreshTimer_streamStarted = true;\n      streamLocation();\n    } else {\n      refreshLocation();\n    }\n  }\n  closePreviousPage();\n}\n\nexport function closeLocation(): void {\n  // revokePageHistory('Location');\n  LocationField.setAttribute('displayed', 'false');\n  locationRefreshTimer_streaming = false;\n  openPreviousPage();\n}\n\nexport function stretchLocationItem(itemElementID: string): void {\n  const itemElement = elementQuerySelector(LocationGroupsElement, `.css_location_group .css_location_group_items .css_location_group_item#${itemElementID}`);\n  const itemBodyElement = elementQuerySelector(itemElement, '.css_location_group_item_body');\n\n  const itemsElement = itemElement.parentElement as HTMLElement;\n\n  const elementsBelowItemElement = getElementsBelow(itemElement, 'css_location_group_item');\n  const elementsBelowLength = elementsBelowItemElement.length;\n\n  const itemsElementRect = itemsElement.getBoundingClientRect();\n  const itemElementRect = itemElement.getBoundingClientRect();\n\n  // const itemElementX = itemElementRect.left - itemsElementRect.left;\n  const itemElementY = itemElementRect.top - itemsElementRect.top;\n\n  const stretched = itemElement.getAttribute('stretched') === 'true' ? true : false;\n  const animation = itemElement.getAttribute('animation') === 'true' ? true : false;\n\n  if (animation) {\n    const pushDirection = stretched ? '2' : '1';\n\n    // Separate the elements from the document flow while keeping its position\n    itemElement.setAttribute('stretching', 'true');\n    // itemElement.style.setProperty('--b-cssvar-css-location-group-item-x', `${itemElementX}px`);\n    itemElement.style.setProperty('--b-cssvar-css-location-group-item-y', `${itemElementY}px`);\n\n    // Set push direction and push state\n    for (let i = 0; i < elementsBelowLength; i++) {\n      const thisItemElement = elementsBelowItemElement[i];\n      thisItemElement.setAttribute('push-direction', pushDirection);\n      thisItemElement.setAttribute('push-state', '1');\n    }\n\n    itemElement.addEventListener(\n      'transitionend',\n      function () {\n        // Reset the push direction and push state\n        for (let i = 0; i < elementsBelowLength; i++) {\n          const thisItemElement = elementsBelowItemElement[i];\n          thisItemElement.setAttribute('push-direction', '0');\n          thisItemElement.setAttribute('push-state', '0');\n        }\n        // Deposit the element\n        itemElement.setAttribute('stretching', 'false');\n      },\n      { once: true }\n    );\n\n    itemElement.addEventListener(\n      'transitionstart',\n      function () {\n        // Transition the elements below\n        for (let i = 0; i < elementsBelowLength; i++) {\n          const thisItemElement = elementsBelowItemElement[i];\n          thisItemElement.setAttribute('push-state', '2');\n        }\n      },\n      { once: true }\n    );\n  }\n\n  if (stretched) {\n    if (animation) {\n      itemBodyElement.addEventListener(\n        'transitionend',\n        function () {\n          itemBodyElement.setAttribute('displayed', 'false');\n        },\n        { once: true }\n      );\n    } else {\n      itemBodyElement.setAttribute('displayed', 'false');\n    }\n    itemElement.setAttribute('stretched', 'false');\n  } else {\n    itemBodyElement.setAttribute('displayed', 'true');\n    itemElement.setAttribute('stretched', 'true');\n  }\n}\n\nexport function switchLocationBodyTab(itemID: string, tabCode: number): void {\n  const itemElement = elementQuerySelector(LocationGroupsElement, `.css_location_group .css_location_group_items .css_location_group_item#${itemID}`);\n  const itemBodyElement = elementQuerySelector(itemElement, '.css_location_group_item_body');\n  const buttonsElement = elementQuerySelector(itemBodyElement, '.css_location_group_item_buttons');\n  const buttonElements = elementQuerySelectorAll(buttonsElement, '.css_location_group_item_button[highlighted=\"true\"][type=\"tab\"]');\n  for (const t of buttonElements) {\n    t.setAttribute('highlighted', 'false');\n  }\n  elementQuerySelector(buttonsElement, `.css_location_group_item_button[code=\"${tabCode}\"]`).setAttribute('highlighted', 'true');\n  switch (tabCode) {\n    case 0:\n      elementQuerySelector(itemElement, '.css_location_group_item_buses').setAttribute('displayed', 'true');\n      elementQuerySelector(itemElement, '.css_location_group_item_bus_arrival_times').setAttribute('displayed', 'false');\n      break;\n    case 1:\n      elementQuerySelector(itemElement, '.css_location_group_item_buses').setAttribute('displayed', 'false');\n      elementQuerySelector(itemElement, '.css_location_group_item_bus_arrival_times').setAttribute('displayed', 'true');\n      break;\n    default:\n      break;\n  }\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!./index.css?inline\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!./index.css?inline\";\n       export default content && content.locals ? content.locals : undefined;\n","import { MaterialSymbols } from './material-symbols-type';\n\nexport function getIconHTML(identifier: MaterialSymbols): string {\n  return /*html*/ `<span class=\"css_material_symbols_rounded\">${identifier}</span>`;\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./index.css?inline\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./index.css?inline\";\n       export default content && content.locals ? content.locals : undefined;\n","import { getCarInfo } from '../../data/apis/getCarInfo/index';\nimport { getLocation } from '../../data/apis/getLocation/index';\nimport { getMaterialSymbols } from '../../data/apis/getMaterialSymbols/index';\nimport { getRoute } from '../../data/apis/getRoute/index';\nimport { DataReceivingProgressEvent, deleteDataReceivingProgress, deleteDataUpdateTime, getDataReceivingProgress, setDataReceivingProgress } from '../../data/apis/loader';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/query-selector';\n\nconst dataDownloadRequestID = 'downloadData';\nexport let dataDownloadCompleted = false;\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeHeadElement = elementQuerySelector(HomeField, '.css_home_head');\nconst homeButtonRightElement = elementQuerySelector(HomeHeadElement, '.css_home_button_right');\nconst progressElement = elementQuerySelector(homeButtonRightElement, 'svg#download-svg path[progress=\"progress\"]');\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  const pixels = (1 - getDataReceivingProgress(dataDownloadRequestID)) * 189;\n  progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${pixels}px`);\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n    progressElement.addEventListener(\n      'transitionend',\n      function () {\n        homeButtonRightElement.setAttribute('complete', 'true');\n      },\n      { once: true }\n    );\n    progressElement.style.setProperty('--b-cssvar-stroke-dashoffset', `${0}px`);\n    dataDownloadCompleted = true;\n  }\n}\n\nexport async function downloadData() {\n  /*\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getRoute_1', 0, false);\n  */\n  // eliminate duplicate downloads in integrateFolders\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getLocation_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_0', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getCarInfo_1', 0, false);\n  setDataReceivingProgress(dataDownloadRequestID, 'getMaterialSymbols', 0, false);\n  document.addEventListener(dataDownloadRequestID, handleDataReceivingProgressUpdates);\n  await getRoute(dataDownloadRequestID, true);\n  await getLocation(dataDownloadRequestID, 1);\n  await getCarInfo(dataDownloadRequestID, true);\n  await getMaterialSymbols(dataDownloadRequestID);\n  deleteDataReceivingProgress(dataDownloadRequestID);\n  deleteDataUpdateTime(dataDownloadRequestID);\n}\n","import { getUpdateRate } from '../../../data/analytics/update-rate/index';\nimport { integratedRecentView, integratedRecentViews, integrateRecentViews } from '../../../data/recent-views/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../../data/settings/index';\nimport { booleanToString, compareThings, generateIdentifier } from '../../../tools/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/query-selector';\nimport { getIconHTML } from '../../icons/index';\nimport { GeneratedElement, querySize } from '../../index';\n\nconst HomeField = documentQuerySelector('.css_home_field');\nconst HomeBodyElement = elementQuerySelector(HomeField, '.css_home_body');\nconst RecentViewsField = elementQuerySelector(HomeBodyElement, '.css_home_recent_views');\n\nlet previousIntegration = {};\nlet previousAnimation: boolean = true;\nlet previousSkeletonScreen: boolean = false;\n\nlet recentViewsRefreshTimer_retryInterval: number = 10 * 1000;\nlet recentViewsRefreshTimer_baseInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_minInterval: number = 5 * 1000;\nlet recentViewsRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet recentViewsRefreshTimer_dynamic: boolean = true;\nlet recentViewsRefreshTimer_streaming: boolean = false;\nlet recentViewsRefreshTimer_lastUpdate: number = 0;\nlet recentViewsRefreshTimer_nextUpdate: number = 0;\nlet recentViewsRefreshTimer_refreshing: boolean = false;\nlet recentViewsRefreshTimer_currentRequestID: string = '';\nlet recentViewsRefreshTimer_streamStarted: boolean = false;\nlet recentViewsRefreshTimer_timer: ReturnType<typeof setTimeout>;\n\nfunction generateElementOfRecentViewItem(): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_home_recent_views_item');\n  element.innerHTML = /*html*/ `<div class=\"css_home_recent_views_item_head\"><div class=\"css_home_recent_views_item_icon\"></div><div class=\"css_home_recent_views_item_title\"></div><div class=\"css_home_recent_views_item_time\"></div></div><div class=\"css_home_recent_views_item_name\"></div>`;\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nfunction updateRecentViewsField(Field: HTMLElement, integration: integratedRecentViews, skeletonScreen: boolean, animation: boolean) {\n  function updateItem(thisElement: HTMLElement, thisItem: integratedRecentView, previousItem: integratedRecentView): void {\n    function updateIcon(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const iconElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head .css_home_recent_views_item_icon');\n      let icon = '';\n      switch (thisItem.type) {\n        case 'route':\n          icon = 'route';\n          break;\n        case 'location':\n          icon = 'location_on';\n          break;\n        case 'bus':\n          icon = 'directions_bus';\n          break;\n        case 'empty':\n          icon = 'lightbulb';\n          break;\n        default:\n          break;\n      }\n      iconElement.innerHTML = getIconHTML(icon);\n    }\n\n    function updateTitle(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const titleElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head .css_home_recent_views_item_title');\n      let title = '';\n      switch (thisItem.type) {\n        case 'route':\n          title = '路線';\n          break;\n        case 'location':\n          title = '地點';\n          break;\n        case 'bus':\n          title = '公車';\n          break;\n        case 'empty':\n          title = '提示';\n          break;\n        default:\n          break;\n      }\n      titleElement.innerText = title;\n    }\n\n    function updateTime(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const timeElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_head .css_home_recent_views_item_time');\n      timeElement.innerText = thisItem.time.relative;\n    }\n\n    function updateName(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      const nameElement = elementQuerySelector(thisElement, '.css_home_recent_views_item_name');\n      nameElement.innerText = thisItem.name;\n    }\n\n    function updateOnclick(thisElement: HTMLElement, thisItem: integratedRecentView): void {\n      let onclickScript = '';\n      switch (thisItem.type) {\n        case 'route':\n          onclickScript = `bus.route.openRoute(${thisItem.id}, [${thisItem.pid.join(',')}])`;\n          break;\n        case 'location':\n          onclickScript = `bus.location.openLocation('${thisItem.hash}')`;\n          break;\n        case 'bus':\n          onclickScript = `bus.bus.openBus(${thisItem.id})`;\n          break;\n        case 'empty':\n          onclickScript = '';\n          break;\n        default:\n          break;\n      }\n      thisElement.setAttribute('onclick', onclickScript);\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousItem === null) {\n      updateIcon(thisElement, thisItem);\n      updateTitle(thisElement, thisItem);\n      updateTime(thisElement, thisItem);\n      updateName(thisElement, thisItem);\n      updateOnclick(thisElement, thisItem);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (!(thisItem.type === previousItem.type)) {\n        updateIcon(thisElement, thisItem);\n        updateTitle(thisElement, thisItem);\n        updateTime(thisElement, thisItem);\n        updateName(thisElement, thisItem);\n        updateOnclick(thisElement, thisItem);\n        updateAnimation(thisElement, animation);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      } else {\n        switch (thisItem.type) {\n          case 'location':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (!(previousItem.time === thisItem.time)) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.hash, thisItem.hash)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'route':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (!(previousItem.time === thisItem.time)) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.id, thisItem.id) || !compareThings(previousItem.pid, thisItem.pid)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'bus':\n            if (!compareThings(previousItem.name, thisItem.name)) {\n              updateName(thisElement, thisItem);\n            }\n            if (!(previousItem.time === thisItem.time)) {\n              updateTime(thisElement, thisItem);\n            }\n            if (!compareThings(previousItem.id, thisItem.id)) {\n              updateOnclick(thisElement, thisItem);\n            }\n            break;\n          case 'empty':\n            if (!(previousItem.time === thisItem.time)) {\n              updateTime(thisElement, thisItem);\n            }\n            break;\n          default:\n            break;\n        }\n        if (!(animation === previousAnimation)) {\n          updateAnimation(thisElement, animation);\n        }\n        if (!(skeletonScreen === previousSkeletonScreen)) {\n          updateSkeletonScreen(thisElement, skeletonScreen);\n        }\n      }\n    }\n  }\n\n  /*\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  */\n\n  const itemQuantity = integration.itemQuantity;\n\n  // Field.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n\n  const currentItemSeatQuantity = elementQuerySelectorAll(Field, `.css_home_recent_views_content .css_home_recent_views_item`).length;\n  if (!(itemQuantity === currentItemSeatQuantity)) {\n    const capacity = currentItemSeatQuantity - itemQuantity;\n    if (capacity < 0) {\n      const RecentViewsContentElement = elementQuerySelector(Field, `.css_home_recent_views_content`);\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const thisRecentViewItemElement = generateElementOfRecentViewItem();\n        RecentViewsContentElement.appendChild(thisRecentViewItemElement.element);\n      }\n    } else {\n      const RecentViewsContentElement = elementQuerySelector(Field, `.css_home_recent_views_content`);\n      const RecentViewsItemElements = elementQuerySelectorAll(RecentViewsContentElement, `.css_home_recent_views_item`);\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const recentViewItemIndex = currentItemSeatQuantity - 1 - o;\n        RecentViewsItemElements[recentViewItemIndex].remove();\n      }\n    }\n  }\n\n  for (let i = 0; i < itemQuantity; i++) {\n    const thisElement = elementQuerySelectorAll(Field, `.css_home_recent_views_content .css_home_recent_views_item`)[i];\n    thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    const thisItem = integration.items[i];\n    if (previousIntegration.hasOwnProperty('items')) {\n      if (previousIntegration.items[i]) {\n        const previousItem = previousIntegration.items[i];\n        updateItem(thisElement, thisItem, previousItem);\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    } else {\n      updateItem(thisElement, thisItem, null);\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nexport function setUpRecentViewsFieldSkeletonScreen(Field: HTMLElement): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const defaultItemQuantity = Math.floor(WindowSize.height / 70 / 3) + 2;\n  const items: Array<integratedRecentView> = [];\n  for (let i = 0; i < defaultItemQuantity; i++) {\n    items.push({\n      type: 'route',\n      id: 0,\n      pid: [],\n      time: {\n        absolute: 0,\n        relative: ''\n      },\n      name: ''\n    });\n  }\n  updateRecentViewsField(\n    Field,\n    {\n      items: items,\n      itemQuantity: items.length,\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nasync function refreshRecentViews() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  recentViewsRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  recentViewsRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  recentViewsRefreshTimer_refreshing = true;\n  recentViewsRefreshTimer_currentRequestID = generateIdentifier('r');\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'true');\n  const integration = await integrateRecentViews(recentViewsRefreshTimer_currentRequestID);\n  updateRecentViewsField(RecentViewsField, integration, false, playing_animation);\n  let updateRate = 0;\n  if (recentViewsRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  recentViewsRefreshTimer_lastUpdate = new Date().getTime();\n  if (recentViewsRefreshTimer_dynamic) {\n    recentViewsRefreshTimer_nextUpdate = Math.max(recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_minInterval, integration.dataUpdateTime + recentViewsRefreshTimer_baseInterval / updateRate);\n  } else {\n    recentViewsRefreshTimer_nextUpdate = recentViewsRefreshTimer_lastUpdate + recentViewsRefreshTimer_baseInterval;\n  }\n  recentViewsRefreshTimer_dynamicInterval = Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - recentViewsRefreshTimer_lastUpdate);\n  recentViewsRefreshTimer_refreshing = false;\n  // documentQuerySelector('.css_home_update_timer').setAttribute('refreshing', 'false');\n}\n\nasync function streamRecentViews() {\n  refreshRecentViews()\n    .then(function () {\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(function () {\n          streamRecentViews();\n        }, Math.max(recentViewsRefreshTimer_minInterval, recentViewsRefreshTimer_nextUpdate - new Date().getTime()));\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (recentViewsRefreshTimer_streaming) {\n        recentViewsRefreshTimer_timer = setTimeout(function () {\n          streamRecentViews();\n        }, recentViewsRefreshTimer_retryInterval);\n      } else {\n        recentViewsRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function initializeRecentViews(): void {\n  setUpRecentViewsFieldSkeletonScreen(RecentViewsField);\n  if (!recentViewsRefreshTimer_streaming) {\n    recentViewsRefreshTimer_streaming = true;\n    if (!recentViewsRefreshTimer_streamStarted) {\n      recentViewsRefreshTimer_streamStarted = true;\n      streamRecentViews();\n    } else {\n      refreshRecentViews();\n    }\n  }\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!./item.css?inline\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!./item.css?inline\";\n       export default content && content.locals ? content.locals : undefined;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `// extracted by mini-css-extract-plugin\nexport {};`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/interface/index.css\"],\"names\":[],\"mappings\":\"AAAA;QACS,CAAA\",\"sourcesContent\":[\"// extracted by mini-css-extract-plugin\\nexport {};\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!./recent-views.css?inline\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!./recent-views.css?inline\";\n       export default content && content.locals ? content.locals : undefined;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `// extracted by mini-css-extract-plugin\nexport {};`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/interface/home/head.css\"],\"names\":[],\"mappings\":\"AAAA;QACS,CAAA\",\"sourcesContent\":[\"// extracted by mini-css-extract-plugin\\nexport {};\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `// extracted by mini-css-extract-plugin\nexport {};`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/interface/home/recent-views/recent-views.css\"],\"names\":[],\"mappings\":\"AAAA;QACS,CAAA\",\"sourcesContent\":[\"// extracted by mini-css-extract-plugin\\nexport {};\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["splashScreenTimer_minimalTimeOut","splashScreenTimer_openTime","Date","getTime","pageHistory","pushPageHistory","page","pageHistoryLength","length","push","revokePageHistory","indexOf","pop","closePreviousPage","closeFolderCreator","closeFolderEditor","closeFolderManager","closeSearch","closeSettings","closePersonalScheduleManager","closePersonalScheduleEditor","closeBus","closeRegisterNotification","openPreviousPage","previousPage","openFolderCreator","openFolderEditor","openFolderManager","openSearch","openSettings","openPersonalScheduleManager","openPersonalScheduleEditor","openBus","openRegisterNotification","setSplashScreenIconOffsetY","offset","isRunningStandalone","window","outerHeight","innerHeight","documentQuerySelector","style","setProperty","fadeOutSplashScreen","callback","fadeOut","element","classList","add","addEventListener","setAttribute","remove","once","cureentTime","setTimeout","Math","max","querySize","type","width","height","windowWidth","innerWidth","windowHeight","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","___CSS_LOADER_EXPORT___","module","id","LocationField","LocationHeadElement","elementQuerySelector","LocationNameElement","LocationGroupsElement","LocationGroupTabsElement","LocationGroupTabsTrayElement","LocationGroupTabLineTrackElement","LocationGroupTabLineElement","LocationUpdateTimerElement","previousIntegration","previousAnimation","previousSkeletonScreen","locationSliding_initialIndex","locationSliding_targetIndex","locationSliding_groupQuantity","locationSliding_groupStyles","locationSliding_fieldWidth","locationSliding_sliding","locationRefreshTimer_retryInterval","locationRefreshTimer_baseInterval","locationRefreshTimer_minInterval","locationRefreshTimer_dynamicInterval","locationRefreshTimer_dynamic","locationRefreshTimer_lastUpdate","locationRefreshTimer_nextUpdate","locationRefreshTimer_currentRequestID","locationRefreshTimer_refreshing","locationRefreshTimer_streaming","locationRefreshTimer_streamStarted","currentHashSet_hash","tabPadding","initializeLocationSliding","round","scrollLeft","passive","event","currentIndex","target","initialSize","targetSize","tabWidth","abs","updateLocationCSS","groupQuantity","tabLineWidth","percentage","toString","toFixed","handleDataReceivingProgressUpdates","CustomEvent","offsetRatio","detail","progress","stage","document","removeEventListener","generateElementOfItem","identifier","generateIdentifier","createElement","innerHTML","getIconHTML","generateElementOfTab","generateElementOfGroupDetailsProperty","updateLocationField","integration","skeletonScreen","animation","updateItem","thisElement","thisItem","previousItem","updateStatus","thisElementRect","getBoundingClientRect","top","left","bottom","right","thisItemStatusElement","nextSlide","currentSlide","status","code","innerText","text","updateRank","thisRankElement","ranking","updateRouteDirection","route_direction","updateRouteName","route_name","updateBuses","buses","map","bus","onThisRoute","carNumber","RouteName","join","updateBusArrivalTimes","thisItemElement","busArrivalTimes","busArrivalTime","personalSchedule","name","indexToDay","day","timeObjectToString","period","start","end","chart","updateStretch","updateAnimation","booleanToString","updateSkeletonScreen","updateSaveToFolderButton","thisItemBodyElement","thisItemButtonsElement","saveToFolderButtonElement","stopId","routeId","isFolderContentSaved","then","e","updateScheduleNotificationButton","scheduleNotificationButtonElement","time","havingNotifcationSchedules","stopHasNotifcationSchedules","number","compareThings","updateProperty","thisProperty","previousProperty","updateIcon","icon","updateValue","value","WindowSize","FieldWidth","FieldHeight","itemQuantity","groupedItems","groups","cumulativeOffset","i","getTextWidth","LocationName","currentGroupSeatQuantity","elementQuerySelectorAll","capacity","o","newGroupElement","appendChild","newTabElement","LocationGroupElements","LocationGroupTabElements","groupIndex","groupKey","thisLocationGroupElement","currentItemSeatQuantity","LocationGroupItemsElement","newItemElement","LocationGroupItemElements","currentGroupPropertySeatQuantity","groupPropertyQuantity","properties","thisLocationGroupDetailsElement","thisLocationGroupDetailsBodyElement","newPropertyElement","propertyElements","thisTabElement","thisGroupElement","k","hasOwnProperty","j","refreshLocation","_refreshLocation","apply","arguments","playing_animation","getSettingOptionValue","refresh_interval_setting","busArrivalTimeChartSize","dynamic","baseInterval","integrateLocation","updateRate","getUpdateRate","dataUpdateTime","streamLocation","err","console","error","promptMessage","openLocation","hash","logRecentView","defaultItemQuantity","g_0","floor","g_1","key","setUpLocationFieldSkeletonScreen","closeLocation","stretchLocationItem","itemElementID","itemElement","itemBodyElement","itemsElement","parentElement","elementsBelowItemElement","getElementsBelow","elementsBelowLength","itemsElementRect","itemElementY","stretched","getAttribute","pushDirection","switchLocationBodyTab","itemID","tabCode","_step","buttonsElement","_iterator","_createForOfIteratorHelper","s","n","done","f","dataDownloadRequestID","dataDownloadCompleted","HomeField","HomeHeadElement","homeButtonRightElement","progressElement","pixels","getDataReceivingProgress","downloadData","_downloadData","setDataReceivingProgress","getRoute","getLocation","getCarInfo","getMaterialSymbols","deleteDataReceivingProgress","deleteDataUpdateTime","HomeBodyElement","RecentViewsField","recentViewsRefreshTimer_baseInterval","recentViewsRefreshTimer_minInterval","recentViewsRefreshTimer_dynamic","recentViewsRefreshTimer_streaming","recentViewsRefreshTimer_lastUpdate","recentViewsRefreshTimer_nextUpdate","recentViewsRefreshTimer_currentRequestID","recentViewsRefreshTimer_streamStarted","updateRecentViewsField","Field","iconElement","updateTitle","titleElement","title","updateTime","relative","updateName","updateOnclick","onclickScript","pid","RecentViewsContentElement","thisRecentViewItemElement","RecentViewsItemElements","items","setUpRecentViewsFieldSkeletonScreen","absolute","refreshRecentViews","_refreshRecentViews","_asyncToGenerator","integrateRecentViews","streamRecentViews","_streamRecentViews","initializeRecentViews"],"sourceRoot":""}