"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,t,n){n.d(t,{default:()=>U});var a=n(6483),i=n(8925),r=n(5767),o=n(9566),s=n(3422),c=n(5314),d=n(3459),l=n(3251),u=n(1238),p=n(1531),f=n(4884),h=n(9499),b=n(6052),v=n(4294),g=n(8379),m=n(540),y=n(6082),w=n(6091),C=n(904),L=n(1351),k=n(3030),S=n(2174),_=n(8380),x=n(5693),E=n(7891),F=n(8279),T=n(7908),A=n(5286),D=n(4690),M=n(3041),P=n(752),Y=n(5009),N=n(6104),R=n(6166),q=n(2994),z=n(9469),B=n(8179),$=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(3058),n(1102),n(7868),n(6388),n(3127),n(1743),n(1306),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(5297),n(7499),n(4953),n(7114),n(9657),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),H=!1;window.bus={initialize:function(){!1===$&&($=!0,(0,C.h)(),(0,d.d)().then(function(){(0,w.b)(),(0,m.b)(),(0,l.a)().then(function(e){if("ok"===e){(0,D.b)(),(0,k.b)(),(0,Y.d)(),window.addEventListener("resize",function(){(0,Y.d)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,Y.d)()}),(0,w.a)(),(0,o.c)().then(function(){(0,m.a)()}),(0,Y.b)();var t=(0,B.c)(".xb .yb .zb #search_material_symbols_input");t.addEventListener("paste",function(){(0,v.c)(t.value)}),t.addEventListener("cut",function(){(0,v.c)(t.value)}),t.addEventListener("selectionchange",function(){(0,v.c)(t.value)}),document.addEventListener("selectionchange",function(){(0,v.c)(t.value)}),t.addEventListener("keyup",function(){(0,v.c)(t.value)}),(0,z.b)(),(0,C.b)(function(){(0,s.i)(),(0,s.g)().then(function(){(0,s.d)()}),document.addEventListener("click",function(){(0,p.a)(),(0,u.a)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,C.i)(),(0,C.b)())}).catch(function(){(0,C.i)(),(0,C.b)()})}))},secondlyInitialize:function(){H||(H=!0,(0,y.b)(),(0,i.b)(),(0,a.c)(),(0,c.a)(),(0,r.b)().then(function(){(0,r.d)().then(function(){(0,r.e)()})}))},route:{closeRoute:D.a,closeRouteDetails:A.e},location:{closeLocation:k.a,closeLocationDetails:L.a},folder:{closeSaveToFolder:M.a,closeFolderManager:g.a,closeIconSelector:v.a,openFolderCreator:b.c,closeFolderCreator:b.a,createFormulatedFolder:b.b},search:{openSearch:Y.c,closeSearch:Y.a,switchSearchTypeFilter:Y.e},storage:{closeStorage:q.a},dataUsage:{closeDataUsage:h.a},personalSchedule:{closePersonalScheduleManager:E.a,openPersonalScheduleCreator:_.c,closePersonalScheduleCreator:_.a,createFormulatedPersonalSchedule:_.b,switchPersonalScheduleCreatorDay:_.d,openPersonalScheduleEditor:x.b,closePersonalScheduleEditor:x.a,switchPersonalScheduleEditorDay:x.d,saveEditedPersonalSchedule:x.c},settings:{openSettings:N.d,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:f.b},notification:{closeNotificationScheduleManager:S.a,openRegisterNotification:T.b,closeRegisterNotification:T.a,saveFormulatedRegisterNotification:T.c,closeScheduleNotification:P.a},qrcode:{closeQRCode:F.a}};const U=window.bus},4884(e,t,n){n.d(t,{a:()=>w,b:()=>L,c:()=>C});var a=n(467),i=n(6160),r=n(5314),o=n(3459),s=n(8179),c=n(8024),d=n(904),l=n(4537),u=[],p=!1,f=!1;function h(){var e=(0,s.a)();e.classList.add("nr");var t=(0,s.a)();t.classList.add("or"),t.appendChild((0,l.a)());var n=(0,s.a)();return n.classList.add("pr"),e.appendChild(t),e.appendChild(n),e}function b(e,t,n){function a(e,a,i){function r(e,t){var n=(0,s.e)(e,".or");(0,l.c)(n,t.icon)}function o(e,t){(0,s.e)(e,".pr").innerText=t.value}function d(e,t){e.setAttribute("animation",t)}function u(e,t){e.setAttribute("skeleton-screen",t)}null==i?(r(e,a),o(e,a),u(e,t),d(e,n)):((0,c.b)(i,a)||r(e,a),(0,c.b)(i,a)||o(e,a),t!==p&&u(e,t),n!==f&&d(e,n))}var i=e.length,r=Array.from((0,s.d)(w,".nr")),o=r.length;if(i!==o){var d=o-i;if(d<0){for(var b=new DocumentFragment,v=0;v>d;v--){var g=h();b.appendChild(g),r.push(g)}w.append(b)}else if(d>0)for(var m=o-1,y=o-d-1;m>y;m--)r[m].remove(),r.splice(m,1)}for(var C=0;C<i;C++){var L=r[C],k=e[C];u[C]?a(L,k,u[C]):a(L,k,null)}u=e,f=n,p=t}var v=(0,s.c)(".br"),g=((0,s.e)(v,".cr"),(0,s.e)(v,".gr")),m=(0,s.e)(g,".hr"),y=(0,s.e)(m,'.ir[group="properties"]'),w=(0,s.e)(y,".mr");(0,s.e)(m,'.ir[group="location"]');function C(e){(0,d.d)("Bus"),(0,r.e)("bus",e),v.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,d.a)()}function L(){v.setAttribute("displayed","false"),(0,d.c)()}function k(){return(k=(0,a.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),t=[],n=0;n<5;n++)t.push({key:n,icon:"",value:""});b(t,!0,e)}();var t=(0,o.b)("playing_animation"),n=(0,c.c)();b((yield(0,i.a)(e,n)).properties,!1,t)})).apply(this,arguments)}},6052(e,t,n){n.d(t,{a:()=>b,b:()=>f,c:()=>h});var a=n(9566),i=n(8179),r=n(4294),o=n(904),s=n(9119),c=(0,i.c)(".xs"),d=(0,i.e)(c,".bt"),l=(0,i.e)(d,".ct"),u=(0,i.e)(l,'.dt[group="folder-name"] .ht input'),p=(0,i.e)(l,'.dt[group="folder-icon"] .ht .it input');function f(){var e=u.value,t=p.value;(0,a.a)(e,t).then(function(e){e?(b(),(0,s.a)("folder","已建立資料夾")):(0,s.a)("error","無法建立資料夾")})}function h(){(0,o.d)("FolderCreator"),c.setAttribute("displayed","true"),(0,o.a)()}function b(){c.setAttribute("displayed","false"),(0,o.c)()}(0,i.e)(l,'.xs .bt .ct .dt[group="folder-icon"] .ht .it .jt').onclick=function(){(0,r.b)(p)}},8379(e,t,n){n.d(t,{a:()=>b,b:()=>h});var a=n(467),i=n(9566),r=n(8179),o=n(9333),s=n(4537),c=n(904),d=(0,r.c)(".qr"),l=(0,r.e)(d,".vr"),u=(0,r.e)(l,".wr");function p(e){var t=(0,r.a)();t.classList.add("xr"),t.onclick=function(){(0,o.b)(e.id)};var n=(0,r.a)();n.classList.add("yr"),n.appendChild((0,s.b)(e.icon));var a=(0,r.a)();a.classList.add("zr"),a.innerText=e.name;var i=(0,r.a)();i.classList.add("_r"),i.innerText=String(e.contentLength);var c=(0,r.a)();return c.classList.add("as"),c.appendChild((0,s.b)("arrow_forward_ios")),t.appendChild(n),t.appendChild(a),t.appendChild(i),t.appendChild(c),t}function f(){return(f=(0,a.a)(function*(){var e=yield(0,i.h)();u.innerHTML="";var t=new DocumentFragment;for(var n of e){var a=p(n);t.appendChild(a)}u.append(t)})).apply(this,arguments)}function h(){(0,c.d)("FolderManager"),d.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function b(){(0,c.f)("FolderManager"),d.setAttribute("displayed","false")}},9333(e,t,n){n.d(t,{a:()=>k,b:()=>L});var a=n(467),i=n(9566),r=n(8179),o=n(4294),s=n(4537),c=n(904),d=n(9119),l=(0,r.c)(".bs"),u=(0,r.e)(l,".cs"),p=(0,r.e)(u,".ds"),f=(0,r.e)(l,".fs"),h=(0,r.e)(f,".gs"),b=(0,r.e)(h,'.hs[group="folder-name"] .ls input'),v=(0,r.e)(h,'.hs[group="folder-icon"] .ls .ms input'),g=(0,r.e)(h,'.hs[group="folder-icon"] .ls .ms .ns'),m=(0,r.e)(h,'.hs[group="folder-content"] .ls');function y(e,t){var n=(0,r.a)();n.classList.add("os"),n.setAttribute("type",t.type);var a="",o="",c="";switch(t.type){case"stop":c="location_on",a=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,o=t.name;break;case"route":c="route",a=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,o=t.name;break;case"location":c="location_on",a="地點",o=t.name;break;case"bus":a="",o=t.name;break;case"empty":c="lightbulb",a="提示",o="沒有內容";break;default:c="",a="null",o="null"}var l=(0,r.a)();l.classList.add("ps"),l.appendChild((0,s.b)(c));var u=(0,r.a)();u.classList.add("qs"),u.innerText=a;var p=(0,r.a)();p.classList.add("rs"),p.innerText=o;var f=(0,r.a)();f.classList.add("ss");var h=(0,r.a)();h.classList.add("ts"),h.appendChild((0,s.b)("keyboard_arrow_down")),h.onclick=function(){S(n,e.id,t.type,t.id,"up")};var b=(0,r.a)();b.classList.add("us"),b.appendChild((0,s.b)("keyboard_arrow_down")),b.onclick=function(){S(n,e.id,t.type,t.id,"down")};var v=(0,r.a)();v.classList.add("vs"),v.appendChild((0,s.b)("delete")),v.onclick=function(){!function(e,t,n,a){(0,i.k)(t,n,a).then(function(t){if(t)switch(e.remove(),n){case"stop":(0,d.a)("delete","已移除站牌");break;case"route":(0,d.a)("delete","已移除路線");break;case"location":(0,d.a)("delete","已移除地點")}else(0,d.a)("error","無法移除")})}(n,e.id,t.type,t.id)};var g=(0,r.a)();g.classList.add("ws");var m=(0,r.a)();return m.classList.add("ws"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(g),f.appendChild(m),n.appendChild(l),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function w(e,t){b.value=e.name,v.value=e.icon,p.onclick=function(){var t,n,a;t=e.id,n=b.value,a=v.value,(0,i.q)(t,n,a).then(function(e){e?(k(),(0,d.a)("check_circle","已儲存變更")):(0,d.a)("error","無法儲存")})},m.innerHTML="";var n=new DocumentFragment;for(var a of t){var r=y(e,a);n.appendChild(r)}m.append(n)}function C(){return(C=(0,a.a)(function*(e){w((0,i.b)(e),yield(0,i.g)(e))})).apply(this,arguments)}function L(e){(0,c.d)("FolderEditor"),l.setAttribute("displayed","true"),function(e){C.apply(this,arguments)}(e),(0,c.a)()}function k(){l.setAttribute("displayed","false"),(0,c.c)()}function S(e,t,n,a,r){(0,i.p)(t,n,a,r).then(function(t){if(t)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,d.a)("arrow_circle_up","已往上移");break;case"down":var a=e.nextElementSibling;a&&e.parentNode.insertBefore(a,e),(0,d.a)("arrow_circle_down","已往下移")}else(0,d.a)("error","無法移動")})}g.onclick=function(){(0,o.b)(v)}},9499(e,t,n){n.d(t,{a:()=>w,b:()=>y});var a=n(467),i=n(8925),r=n(7183),o=n(8179),s=n(5579),c=n(904),d=(0,o.c)(".kt"),l=(0,o.e)(d,".ot"),u=(0,o.e)(l,".pt"),p=(0,o.e)(l,".qt"),f=(0,o.e)(p,'.rt[name="total-data-usage"] .tt'),h=(0,o.e)(p,'.rt[name="max-data-usage-per-minute"] .tt'),b=(0,o.e)(p,'.rt[name="min-data-usage-per-minute"] .tt'),v=(0,o.e)(p,'.rt[name="start-time"] .tt'),g=(0,o.e)(p,'.rt[name="end-time"] .tt');function m(){return(m=(0,a.a)(function*(){var e=(0,c.e)("window"),t=e.width,n=Math.min(5/18*t,.33*e.height),a=yield(0,i.c)(t,n,20);f.innerText=(0,r.a)(a.stats.sum),h.innerText=(0,r.a)(a.stats.max),b.innerText=(0,r.a)(a.stats.min),v.innerText=(0,s.c)(a.period.start,"YYYY-MM-DD"),g.innerText=(0,s.c)(a.period.end,"YYYY-MM-DD"),u.innerHTML=a.chart})).apply(this,arguments)}function y(){(0,c.d)("DataUsage"),d.setAttribute("displayed","true"),function(){m.apply(this,arguments)}(),(0,c.a)()}function w(){d.setAttribute("displayed","false"),(0,c.c)()}}}]);
//# sourceMappingURL=9730bbd0f937db688e8c.js.map