{"version":3,"file":"1b55ad2f531c7bc7e148.js","mappings":"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","sources":["webpack://bus/./src/interface/schedule-notification/index.ts","webpack://bus/./src/interface/save-to-folder/index.ts","webpack://bus/./src/interface/route/details/actions.ts","webpack://bus/./src/interface/route/details/calendar.ts","webpack://bus/./src/interface/route/details/properties.ts","webpack://bus/./src/interface/route/details/index.ts","webpack://bus/./src/interface/register-notification/index.ts"],"sourcesContent":["import { scheduleNotificationForStop, ScheduleNotificationOption, scheduleNotificationOptions } from '../../data/notification/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { getIconElement } from '../icons/index';\nimport { hidePreviousPage, pushPageHistory, revokePageHistory, showPreviousPage } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst ScheduleNotificationField = documentQuerySelector('.css_schedule_notification_field');\nconst ScheduleNotificationBodyElement = elementQuerySelector(ScheduleNotificationField, '.css_schedule_notification_body');\nconst ScheduleNotificationListElement = elementQuerySelector(ScheduleNotificationBodyElement, '.css_schedule_notification_list');\n\nfunction generateElementOfItem(item: ScheduleNotificationOption, thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): HTMLElement {\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_schedule_notification_list_item');\n\n  // Icon element\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_schedule_notification_item_icon');\n  const iconSpanElement = document.createElement('span');\n  iconSpanElement.appendChild(getIconElement(item.icon));\n  iconElement.appendChild(iconSpanElement);\n\n  // Name element\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_schedule_notification_item_name');\n  nameElement.innerText = item.name;\n\n  // Event handler\n  const index = item.index;\n  itemElement.onclick = function () {\n    scheduleNotificationForStopItem(thisButtonElement, StopID, RouteID, EstimateTime, index);\n  };\n\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(nameElement);\n\n  return itemElement;\n}\n\nfunction initializeScheduleNotificationField(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): void {\n  ScheduleNotificationListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of scheduleNotificationOptions) {\n    const newElement = generateElementOfItem(item, thisButtonElement, StopID, RouteID, EstimateTime);\n    fragment.appendChild(newElement);\n  }\n  ScheduleNotificationListElement.append(fragment);\n}\n\nexport function showScheduleNotification(): void {\n  ScheduleNotificationField.setAttribute('displayed', 'true');\n}\n\nexport function hideScheduleNotification(): void {\n  ScheduleNotificationField.setAttribute('displayed', 'false');\n}\n\nexport function openScheduleNotification(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number): void {\n  pushPageHistory('ScheduleNotification');\n  showScheduleNotification();\n  initializeScheduleNotificationField(thisButtonElement, StopID, RouteID, EstimateTime);\n  hidePreviousPage();\n}\n\nexport function closeScheduleNotification(): void {\n  hideScheduleNotification();\n  showPreviousPage();\n  revokePageHistory('ScheduleNotification');\n}\n\nexport function scheduleNotificationForStopItem(thisButtonElement: HTMLElement, StopID: number, RouteID: number, EstimateTime: number, index: number): void {\n  promptMessage('manufacturing', '處理中');\n  thisButtonElement.setAttribute('enabled', 'false');\n  closeScheduleNotification();\n  scheduleNotificationForStop(StopID, RouteID, EstimateTime, index).then((result) => {\n    switch (result) {\n      case 0:\n        promptMessage('error', '設定失敗');\n        thisButtonElement.setAttribute('enabled', 'true');\n        break;\n      case 1:\n        promptMessage('check_circle', '設定成功');\n        thisButtonElement.setAttribute('enabled', 'true');\n        thisButtonElement.setAttribute('highlighted', 'true');\n        break;\n      case 2:\n        promptMessage('warning', '在設定中註冊後才可設定到站通知');\n        thisButtonElement.setAttribute('enabled', 'true');\n        break;\n      default:\n        break;\n    }\n  });\n}\n","import { Folder, FolderContent, isFolderContentSaved, listFolders, saveLocation, saveRoute, saveStop } from '../../data/folder/index';\nimport { documentCreateDivElement, documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { booleanToString } from '../../tools/index';\nimport { openFolderCreator } from '../folder-creator/index';\nimport { getIconElement } from '../icons/index';\nimport { hidePreviousPage, pushPageHistory, revokePageHistory, showPreviousPage } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst SaveToFolderField = documentQuerySelector('.css_save_to_folder_field');\nconst bodyElement = elementQuerySelector(SaveToFolderField, '.css_save_to_folder_body');\nconst listElement = elementQuerySelector(bodyElement, '.css_save_to_folder_list');\nconst headElement = elementQuerySelector(SaveToFolderField, '.css_save_to_folder_head');\nconst rightButtonElement = elementQuerySelector(headElement, '.css_save_to_folder_button_right');\n\nconst successfulSaveMessage = '已儲存至資料夾';\nconst failedSaveMessage = '無法儲存';\n\nfunction generateElementOfItem(item: Folder, type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined): HTMLElement {\n  const itemElement = documentCreateDivElement();\n  itemElement.classList.add('css_save_to_folder_list_item');\n\n  // Icon element\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_save_to_folder_item_icon');\n  const iconSpanElement = document.createElement('span');\n  iconSpanElement.appendChild(getIconElement(item.icon));\n  iconElement.appendChild(iconSpanElement);\n\n  // Name element\n  const nameElement = documentCreateDivElement();\n  nameElement.classList.add('css_save_to_folder_item_name');\n  nameElement.innerText = item.name;\n\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(nameElement);\n\n  // Event handler\n  switch (type) {\n    case 'stop': {\n      itemElement.onclick = function () {\n        saveStop(item.id, parameters[0], parameters[1]).then((e) => {\n          if (e) {\n            isFolderContentSaved('stop', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n\n    case 'route': {\n      itemElement.onclick = function () {\n        saveRoute(item.id, parameters[0]).then((e) => {\n          if (e) {\n            isFolderContentSaved('route', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n\n    case 'location': {\n      itemElement.onclick = function () {\n        saveLocation(item.id, parameters[0]).then((e) => {\n          if (e) {\n            isFolderContentSaved('location', parameters[0]).then((k) => {\n              if (k) {\n                if (saveToFolderButtonElement !== null && saveToFolderButtonElement !== undefined) {\n                  saveToFolderButtonElement.setAttribute('highlighted', booleanToString(k));\n                }\n                promptMessage('folder', successfulSaveMessage);\n                closeSaveToFolder();\n              }\n            });\n          } else {\n            promptMessage('warning', failedSaveMessage);\n          }\n        });\n      };\n      break;\n    }\n    case 'bus':\n      break;\n    case 'empty':\n      break;\n    default:\n      break;\n  }\n\n  return itemElement;\n}\n\nfunction initializeSaveToFolderField(type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined) {\n  rightButtonElement.onclick = function () {\n    openFolderCreator(function () {\n      initializeSaveToFolderField(type, parameters, saveToFolderButtonElement);\n    });\n  };\n  const folders = listFolders();\n  listElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of folders) {\n    const newItemElement = generateElementOfItem(item, type, parameters, saveToFolderButtonElement);\n    fragment.appendChild(newItemElement);\n  }\n  listElement.append(fragment);\n}\n\nexport function showSaveToFolder(): void {\n  SaveToFolderField.setAttribute('displayed', 'true');\n}\n\nexport function hideSaveToFolder(): void {\n  SaveToFolderField.setAttribute('displayed', 'false');\n}\n\nexport function openSaveToFolder(type: FolderContent['type'], parameters: Array<any>, saveToFolderButtonElement?: HTMLElement | null | undefined): void {\n  pushPageHistory('SaveToFolder');\n  showSaveToFolder();\n  initializeSaveToFolderField(type, parameters, saveToFolderButtonElement);\n  hidePreviousPage();\n}\n\nexport function closeSaveToFolder(): void {\n  hideSaveToFolder();\n  showPreviousPage();\n  revokePageHistory('SaveToFolder');\n}\n","import { searchRouteByRouteID } from '../../../data/search/index';\nimport { getPermalink } from '../../../tools/permalink';\nimport { shareLink } from '../../../tools/share';\nimport { openQRCode } from '../../qrcode/index';\n\nexport async function shareRoutePermalink(RouteID: number) {\n  const thisRoute = await searchRouteByRouteID(RouteID);\n  if (thisRoute !== false) {\n    const link = getPermalink(0, {\n      id: RouteID,\n      name: thisRoute.n\n    });\n    shareLink(thisRoute.n, link);\n  }\n}\n\nexport async function showRoutePermalinkQRCode(RouteID: number) {\n  const thisRoute = await searchRouteByRouteID(RouteID);\n  if (thisRoute !== false) {\n    const link = getPermalink(0, {\n      id: RouteID,\n      name: thisRoute.n\n    });\n    openQRCode(link);\n  }\n}\n","import { Calendar, CalendarDay, CalendarEvent, CalendarEventGroup } from '../../../data/route/details';\nimport { getSettingOptionValue } from '../../../data/settings/index';\nimport { documentCreateDivElement, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { drawRoundedRect } from '../../../tools/graphic';\nimport { booleanToString } from '../../../tools/index';\nimport { getCSSVariableValue } from '../../../tools/style';\nimport { querySize } from '../../index';\nimport { CalendarDaysElement, CalendarEventGroupsElement } from './index';\n\nconst calendarRatio = 70;\nconst scaleLimit = 3150 / (calendarRatio * 24);\nconst gridlineBoxHeight = 10;\nconst gridlineWidth = 1.2;\nconst gridlineLabelWidthLimit = 45;\nconst fontFamily: string = '\"Noto Sans TC\", sans-serif';\n\nlet canvasSize = querySize('route-details-canvas');\nlet canvasWidth = canvasSize.width;\nlet canvasHeight = canvasSize.height;\nlet canvasScale = Math.min(window.devicePixelRatio, scaleLimit) || 1;\n\nlet previousCalendar = {} as Calendar;\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nfunction resizeRouteDetailsCalendarCanvas(canvas: HTMLCanvasElement): void {\n  canvasSize = querySize('route-details-canvas');\n  canvasWidth = canvasSize.width;\n  canvasHeight = canvasSize.height;\n  canvasScale = Math.min(window.devicePixelRatio, scaleLimit) || 1;\n\n  // Set the new size\n  canvas.width = canvasWidth * canvasScale;\n  canvas.height = canvasHeight * canvasScale;\n\n  // Reset transformations before scaling\n  const context = canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0);\n  context.scale(canvasScale, canvasScale);\n}\n\nfunction generateElementOfDay(): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_route_details_calendar_day');\n\n  return element;\n}\n\nfunction generateElementOfEventGroup(): HTMLElement {\n  // Main event group element\n  const eventGroupElement = documentCreateDivElement();\n  eventGroupElement.classList.add('css_route_details_calendar_event_group');\n\n  // Canvas element\n  const canvasElement = document.createElement('canvas');\n  canvasElement.classList.add('css_route_details_calendar_event_group_canvas');\n  eventGroupElement.appendChild(canvasElement);\n\n  return eventGroupElement;\n}\n\nexport function setupCalendarGroupSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultEventQuantity = {\n    d_0: 47,\n    d_1: 47,\n    d_2: 47,\n    d_3: 47,\n    d_4: 47,\n    d_5: 47,\n    d_6: 47\n  };\n  const defaultDayQuantity = 7;\n  let calendarEventGroups = {};\n  let calendarDays = {};\n  for (let i = 0; i < defaultDayQuantity; i++) {\n    const eventGroupKey = `d_${i}`;\n    calendarEventGroups[eventGroupKey] = [];\n    calendarDays[eventGroupKey] = {\n      day: i,\n      code: `d_{i}`,\n      name: ''\n    };\n    for (let j = 0; j < defaultEventQuantity[eventGroupKey]; j++) {\n      const date = new Date();\n      date.setHours(0);\n      date.setMinutes(j * 30);\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n      calendarEventGroups[eventGroupKey].push({\n        date: date,\n        dateString: '',\n        duration: 15\n      });\n    }\n  }\n  updateCalendarGroup(\n    {\n      calendarEventGroups: calendarEventGroups,\n      calendarDays: calendarDays,\n      calendarDayQuantity: defaultDayQuantity,\n      calendarEventQuantity: defaultEventQuantity\n    },\n    true,\n    playing_animation\n  );\n}\n\nfunction updateDay(thisDayElement: HTMLElement, thisDay: CalendarDay, currentDay: number, skeletonScreen: boolean, animation: boolean, index: number): void {\n  thisDayElement.innerText = thisDay.name;\n  thisDayElement.setAttribute('day', index.toString());\n  thisDayElement.onclick = function () {\n    switchCalendarDay(index);\n  };\n  thisDayElement.setAttribute('highlighted', currentDay === index ? 'true' : 'false');\n  thisDayElement.setAttribute('animation', booleanToString(animation));\n  thisDayElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n}\n\nfunction updateEventGroup(thisCalendarEventGroupElement: HTMLElement, thisCalendarEventGroup: CalendarEventGroup, currentDay: number, mainColor: string, mainColorR: string, mainColorG: string, mainColorB: string, mainColorA: string, gridColor: string, index: number): void {\n  function drawGridline(thisContext: CanvasRenderingContext2D, hours: number, gridColor: string): void {\n    const boxX = 0;\n    const boxY = hours * calendarRatio;\n\n    // Cache the color value once\n    thisContext.fillStyle = gridColor;\n\n    // Draw line\n    thisContext.fillRect(boxX + gridlineLabelWidthLimit, boxY + 5, canvasWidth - gridlineLabelWidthLimit, gridlineWidth);\n\n    // Draw label\n    thisContext.font = `400 ${12}px ${fontFamily}`;\n    thisContext.textBaseline = 'top';\n    const labelText = `${String(hours).padStart(2, '0')}:00`;\n    const labelMeasurement = thisContext.measureText(labelText);\n    const labelWidth = labelMeasurement.width;\n    const labelHeight = labelMeasurement.actualBoundingBoxDescent;\n    thisContext.fillText(labelText, (gridlineLabelWidthLimit - labelWidth) / 2, boxY + (gridlineBoxHeight - labelHeight) / 2, labelWidth);\n  }\n\n  function drawEvent(thisContext: CanvasRenderingContext2D, thisCalendarEvent: CalendarEvent, mainColor: string, mainColorR: string, mainColorG: string, mainColorB: string, mainColorA: string): void {\n    // Calculate the start of the day for this event only once.\n    const thisDayStart = new Date();\n    thisDayStart.setDate(1);\n    thisDayStart.setMonth(0);\n    thisDayStart.setFullYear(thisCalendarEvent.date.getFullYear());\n    thisDayStart.setMonth(thisCalendarEvent.date.getMonth());\n    thisDayStart.setDate(thisCalendarEvent.date.getDate());\n    thisDayStart.setHours(0);\n    thisDayStart.setMinutes(0);\n    thisDayStart.setSeconds(0);\n    thisDayStart.setMilliseconds(0);\n\n    const boxX = gridlineLabelWidthLimit;\n    const boxY = ((thisCalendarEvent.date.getTime() - thisDayStart.getTime()) / (24 * 60 * 60 * 1000)) * 24 * calendarRatio;\n    const boxWidth = canvasWidth - gridlineLabelWidthLimit;\n    const boxHeight = ((thisCalendarEvent.duration * 60 * 1000) / (24 * 60 * 60 * 1000)) * 24 * calendarRatio;\n\n    // Draw background with rounded rectangle\n    drawRoundedRect(thisContext, boxX, boxY, boxWidth, boxHeight, 3, `rgba(${mainColorR}, ${mainColorG}, ${mainColorB}, ${mainColorA})`);\n\n    // Draw decoration (a thin rounded rectangle)\n    drawRoundedRect(thisContext, boxX, boxY, 3, boxHeight, { tl: 3, tr: 0, bl: 3, br: 0 }, mainColor);\n\n    // Draw event text\n    thisContext.font = `400 ${14}px ${fontFamily}`;\n    thisContext.textBaseline = 'top';\n    thisContext.fillStyle = mainColor;\n    const text = thisCalendarEvent.dateString;\n    const textMeasurement = thisContext.measureText(text);\n    const textWidth = textMeasurement.width;\n    const textHeight = textMeasurement.actualBoundingBoxDescent;\n    thisContext.fillText(text, boxX + 8, boxY + (boxHeight - textHeight) / 2, textWidth);\n  }\n\n  function updateDisplayed(thisCalendarEventGroupElement: HTMLElement, currentDay: number, index: number): void {\n    // Set the displayed attribute based on whether it is the current day.\n    const isDisplayed = currentDay === index;\n    thisCalendarEventGroupElement.setAttribute('displayed', booleanToString(isDisplayed));\n  }\n\n  // Get the canvas and its 2D context.\n  const thisCalendarEventGroupCanvas = elementQuerySelector(thisCalendarEventGroupElement, '.css_route_details_calendar_event_group_canvas') as HTMLCanvasElement;\n  const thisCalendarEventGroupCanvasContext = thisCalendarEventGroupCanvas.getContext('2d');\n\n  // Update the displayed attribute\n  updateDisplayed(thisCalendarEventGroupElement, currentDay, index);\n\n  // Always resize the canvas to ensure proper dimensions.\n  resizeRouteDetailsCalendarCanvas(thisCalendarEventGroupCanvas);\n\n  const isDisplayed = currentDay === index;\n  if (isDisplayed) {\n    // Clear the canvas and redraw the content when displayed.\n    thisCalendarEventGroupCanvasContext.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // Draw the gridlines.\n    for (let hours = 0; hours < 24; hours++) {\n      drawGridline(thisCalendarEventGroupCanvasContext, hours, gridColor);\n    }\n\n    // Draw all events for this group.\n    for (const thisCalendarEvent of thisCalendarEventGroup) {\n      drawEvent(thisCalendarEventGroupCanvasContext, thisCalendarEvent, mainColor, mainColorR, mainColorG, mainColorB, mainColorA);\n    }\n  } else {\n    // When not displayed, clear the canvas.\n    thisCalendarEventGroupCanvasContext.clearRect(0, 0, canvasWidth, canvasHeight);\n  }\n}\n\nexport function updateCalendarGroup(calendar: Calendar, skeletonScreen: boolean, animation: boolean): void {\n  // The default day to display.\n  const currentDay = new Date().getDay();\n\n  // Retrieve the CSS variable values just once\n  const mainColorR = getCSSVariableValue('--b-cssvar-main-color-r');\n  const mainColorG = getCSSVariableValue('--b-cssvar-main-color-g');\n  const mainColorB = getCSSVariableValue('--b-cssvar-main-color-b');\n  const mainColorA = getCSSVariableValue('--b-cssvar-main-color-opacity-e');\n  const mainColor = getCSSVariableValue('--b-cssvar-main-color');\n  const gridColor = getCSSVariableValue('--b-cssvar-ededf2');\n\n  const eventGroups = calendar.calendarDays;\n  const eventGroupQuantity = calendar.calendarDayQuantity;\n  const calendarEventGroups = calendar.calendarEventGroups;\n  const eventQuantity = calendar.calendarEventQuantity;\n\n  const eventGroupElements = Array.from(elementQuerySelectorAll(CalendarEventGroupsElement, '.css_route_details_calendar_event_group'));\n  const dayElements = Array.from(elementQuerySelectorAll(CalendarDaysElement, '.css_route_details_calendar_day'));\n\n  const currentEventGroupElementsLength = eventGroupElements.length;\n  if (eventGroupQuantity !== currentEventGroupElementsLength) {\n    const difference = currentEventGroupElementsLength - eventGroupQuantity;\n    if (difference < 0) {\n      // Add missing elements\n      const calendarDaysFragment = new DocumentFragment();\n      const calendarEventGroupsFragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newDayElement = generateElementOfDay();\n        calendarDaysFragment.appendChild(newDayElement);\n        dayElements.push(newDayElement);\n        const newEventGroupElement = generateElementOfEventGroup();\n        calendarEventGroupsFragment.appendChild(newEventGroupElement);\n        eventGroupElements.push(newEventGroupElement);\n      }\n      CalendarDaysElement.append(calendarDaysFragment);\n      CalendarEventGroupsElement.append(calendarEventGroupsFragment);\n    } else if (difference > 0) {\n      // Remove extra elements\n      for (let p = currentEventGroupElementsLength - 1, q = currentEventGroupElementsLength - difference - 1; p > q; p--) {\n        dayElements[p].remove();\n        dayElements.splice(p, 1);\n        eventGroupElements[p].remove();\n        eventGroupElements.splice(p, 1);\n      }\n    }\n    // Do nothing if difference is zero\n  }\n\n  // Update each day and its corresponding event group.\n  for (let i = 0; i < eventGroupQuantity; i++) {\n    const eventGroupKey = `d_${i}`;\n    const thisDay = eventGroups[eventGroupKey];\n    const thisEventGroup = calendarEventGroups[eventGroupKey];\n\n    const thisDayElement = dayElements[i];\n    const thisEventGroupElement = eventGroupElements[i];\n\n    updateDay(thisDayElement, thisDay, currentDay, skeletonScreen, animation, i);\n    updateEventGroup(thisEventGroupElement, thisEventGroup, currentDay, mainColor, mainColorR, mainColorG, mainColorB, mainColorA, gridColor, i);\n  }\n\n  previousCalendar = calendar;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nexport function switchCalendarDay(day: number): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const calendarDayElements = elementQuerySelectorAll(CalendarDaysElement, '.css_route_details_calendar_day');\n  const CalendarEventGroupElements = elementQuerySelectorAll(CalendarEventGroupsElement, '.css_route_details_calendar_event_group');\n  for (let i = 0; i < 7; i++) {\n    const thisCalendarDayElement = calendarDayElements[i];\n    // const thisCalendarDayElementDay = parseInt(thisCalendarDayElement.getAttribute('day'));\n    const thisEventGroupElement = CalendarEventGroupElements[i];\n    // if (thisCalendarDayElementDay === day) {\n    /*\n      thisCalendarDayElement.setAttribute('highlighted', 'true');\n      thisEventGroupElement.setAttribute('displayed', 'true');\n      */\n    const eventGroupKey = `d_${i}`;\n    const calendarEventGroup = previousCalendar?.calendarEventGroups[eventGroupKey];\n    const calendarDay = previousCalendar?.calendarDays[eventGroupKey];\n    if (calendarEventGroup && calendarDay) {\n      // Retrieve the CSS variable values just once\n      const mainColorR = getCSSVariableValue('--b-cssvar-main-color-r');\n      const mainColorG = getCSSVariableValue('--b-cssvar-main-color-g');\n      const mainColorB = getCSSVariableValue('--b-cssvar-main-color-b');\n      const mainColorA = getCSSVariableValue('--b-cssvar-main-color-opacity-e');\n      const mainColor = getCSSVariableValue('--b-cssvar-main-color');\n      const gridColor = getCSSVariableValue('--b-cssvar-ededf2');\n\n      // Reuse the drawing logic from updateEventGroup and updateDay for the visible event group.\n      updateDay(thisCalendarDayElement, calendarDay, day, false, playing_animation, i);\n      updateEventGroup(thisEventGroupElement, calendarEventGroup, day, mainColor, mainColorR, mainColorG, mainColorB, mainColorA, gridColor, i);\n    }\n    /*} else {\n      thisCalendarDayElement.setAttribute('highlighted', 'false');\n      thisEventGroupElement.setAttribute('displayed', 'false');\n\n      // Clear the canvas for non-displayed elements.\n      const canvas = elementQuerySelector(thisEventGroupElement, '.css_route_details_calendar_event_group_canvas') as HTMLCanvasElement;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n    }*/\n  }\n}\n","import { getSettingOptionValue } from '../../../data/settings/index';\nimport { documentCreateDivElement, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { booleanToString, compareThings } from '../../../tools/index';\nimport { getBlankIconElement, setIcon } from '../../icons/index';\nimport { PropertiesGroupBodyElement, PropertiesGroupElement } from './index';\n\nlet previousProperties = [];\nlet previousAnimation: boolean = false;\nlet previousSkeletonScreen: boolean = false;\n\nfunction generateElementOfProperty(): HTMLElement {\n  const propertyElement = documentCreateDivElement();\n  propertyElement.classList.add('css_route_details_property');\n\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_route_details_property_icon');\n  iconElement.appendChild(getBlankIconElement());\n  propertyElement.appendChild(iconElement);\n\n  const valueElement = documentCreateDivElement();\n  valueElement.classList.add('css_route_details_property_value');\n  propertyElement.appendChild(valueElement);\n\n  return propertyElement;\n}\n\nexport function setuppropertiesGroupSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  const properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: 'none',\n      value: ''\n    });\n  }\n  updatePropertiesField(properties, true, playing_animation);\n}\n\nexport function updatePropertiesField(properties: Array, skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      const thisIconElement = elementQuerySelector(thisElement, '.css_route_details_property_icon');\n      setIcon(thisIconElement, thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_route_details_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousProperty === null || previousProperty === undefined) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (previousAnimation !== animation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (previousSkeletonScreen !== skeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n\n  if (skeletonScreen !== previousSkeletonScreen) {\n    PropertiesGroupElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  }\n\n  const propertyElements = Array.from(elementQuerySelectorAll(PropertiesGroupBodyElement, '.css_route_details_property'));\n  const currentPropertyElementsLength = propertyElements.length;\n  if (propertyQuantity !== currentPropertyElementsLength) {\n    const difference = currentPropertyElementsLength - propertyQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newPropertyElement = generateElementOfProperty();\n        fragment.appendChild(newPropertyElement);\n        propertyElements.push(newPropertyElement);\n      }\n      PropertiesGroupBodyElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentPropertyElementsLength - 1, q = currentPropertyElementsLength - difference - 1; p > q; p--) {\n        propertyElements[p].remove();\n        propertyElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties.length === 0) {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { isFolderContentSaved } from '../../../data/folder/index';\nimport { integrateRouteDetails } from '../../../data/route/details';\nimport { getSettingOptionValue } from '../../../data/settings/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll } from '../../../tools/elements';\nimport { booleanToString, generateIdentifier } from '../../../tools/index';\nimport { hidePreviousPage, pushPageHistory, revokePageHistory, showPreviousPage } from '../../index';\nimport { openSaveToFolder } from '../../save-to-folder/index';\nimport { shareRoutePermalink, showRoutePermalinkQRCode } from './actions';\nimport { setupCalendarGroupSkeletonScreen, updateCalendarGroup } from './calendar';\nimport { setuppropertiesGroupSkeletonScreen, updatePropertiesField } from './properties';\n\nexport const RouteDetailsField = documentQuerySelector('.css_route_details_field');\nexport const RouteDetailsBodyElement = elementQuerySelector(RouteDetailsField, '.css_route_details_body');\nexport const RouteDetailsGroupsElement = elementQuerySelector(RouteDetailsBodyElement, '.css_route_details_groups');\n\nexport const CalendarGroupElement = elementQuerySelector(RouteDetailsGroupsElement, '.css_route_details_group[group=\"calendar\"]');\nexport const CalendarGroupBodyElement = elementQuerySelector(CalendarGroupElement, '.css_route_details_group_body');\nexport const CalendarDaysElement = elementQuerySelector(CalendarGroupBodyElement, '.css_route_details_calendar_days');\nexport const CalendarEventGroupsElement = elementQuerySelector(CalendarGroupBodyElement, '.css_route_details_calendar_event_groups');\n\nexport const ActionsGroupElement = elementQuerySelector(RouteDetailsField, '.css_route_details_body .css_route_details_groups .css_route_details_group[group=\"actions\"]');\nexport const svaeToFolderActionButtonElement = elementQuerySelector(ActionsGroupElement, '.css_route_details_group_body .css_route_details_action_button[action=\"save-to-folder\"]');\nexport const getPermalinkActionButton = elementQuerySelector(ActionsGroupElement, '.css_route_details_group_body .css_route_details_action_button[action=\"get-permalink\"]');\nexport const showPermalinkQRCodeActionButton = elementQuerySelector(ActionsGroupElement, '.css_route_details_group_body .css_route_details_action_button[action=\"show-permalink-qrcode\"]');\n\nexport const PropertiesGroupElement = elementQuerySelector(RouteDetailsGroupsElement, '.css_route_details_group[group=\"properties\"]');\nexport const PropertiesGroupBodyElement = elementQuerySelector(PropertiesGroupElement, '.css_route_details_group_body');\n\nasync function initializeRouteDetailsField(RouteID: number, PathAttributeId: Array<number>) {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const existence = await isFolderContentSaved('route', RouteID);\n  svaeToFolderActionButtonElement.setAttribute('animation', booleanToString(playing_animation));\n  svaeToFolderActionButtonElement.setAttribute('highlighted', booleanToString(existence));\n  svaeToFolderActionButtonElement.onclick = function () {\n    openSaveToFolder('route', [RouteID], svaeToFolderActionButtonElement);\n  };\n  getPermalinkActionButton.setAttribute('animation', booleanToString(playing_animation));\n  getPermalinkActionButton.onclick = function () {\n    shareRoutePermalink(RouteID);\n  };\n  showPermalinkQRCodeActionButton.setAttribute('animation', booleanToString(playing_animation));\n  showPermalinkQRCodeActionButton.onclick = function () {\n    showRoutePermalinkQRCode(RouteID);\n  };\n  setuppropertiesGroupSkeletonScreen(PropertiesGroupElement);\n  setupCalendarGroupSkeletonScreen();\n  const requestID = generateIdentifier();\n  const integration = await integrateRouteDetails(RouteID, PathAttributeId, requestID);\n  updatePropertiesField(integration.properties, false, playing_animation);\n  updateCalendarGroup(integration.calendar, false, playing_animation);\n}\n\nexport function showRouteDetails(): void {\n  RouteDetailsField.setAttribute('displayed', 'true');\n}\n\nexport function hideRouteDetails(): void {\n  RouteDetailsField.setAttribute('displayed', 'false');\n}\n\nexport function openRouteDetails(RouteID: number, PathAttributeId: Array<number>): void {\n  pushPageHistory('RouteDetails');\n  showRouteDetails();\n  initializeRouteDetailsField(RouteID, PathAttributeId);\n  hidePreviousPage();\n}\n\nexport function closeRouteDetails(): void {\n  hideRouteDetails();\n  showPreviousPage();\n  revokePageHistory('RouteDetails');\n  const CalendarEventGroupElements = elementQuerySelectorAll(CalendarEventGroupsElement, '.css_route_details_calendar_event_group');\n  for (const CalendarEventGroupElement of CalendarEventGroupElements) {\n    CalendarEventGroupElement.remove();\n  }\n  const CalendarDayElements = elementQuerySelectorAll(CalendarDaysElement, '.css_route_details_calendar_day');\n  for (const CalendarDayElement of CalendarDayElements) {\n    CalendarDayElement.remove();\n  }\n}\n","import { registerNotificationClient } from '../../data/notification/apis/registerNotificationClient/index';\nimport { getNotificationProvider, setNotificationProvider } from '../../data/notification/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { isValidURL } from '../../tools/index';\nimport { hidePreviousPage, pushPageHistory, revokePageHistory, showPreviousPage } from '../index';\nimport { promptMessage } from '../prompt/index';\nimport { initializeSettingsField } from '../settings/index';\n\nconst RegisterNotificationField = documentQuerySelector('.css_register_notification_field');\nconst bodyElement = elementQuerySelector(RegisterNotificationField, '.css_register_notification_body');\n\nconst groupsElement = elementQuerySelector(bodyElement, '.css_register_notification_groups');\n\nconst providerGroupElement = elementQuerySelector(groupsElement, '.css_register_notification_group[group=\"provider\"]');\nconst providerGroupBodyElement = elementQuerySelector(providerGroupElement, '.css_register_notification_group_body');\nconst providerInputElement = elementQuerySelector(providerGroupBodyElement, 'input');\n\nconst rgistrationKeyGroupElement = elementQuerySelector(groupsElement, '.css_register_notification_group[group=\"registration-key\"]');\nconst rgistrationKeyGroupBodyElement = elementQuerySelector(rgistrationKeyGroupElement, '.css_register_notification_group_body');\nconst rgistrationKeyInputElement = elementQuerySelector(rgistrationKeyGroupBodyElement, 'input');\n\nconst headElement = elementQuerySelector(RegisterNotificationField, '.css_register_notification_head');\nconst leftButtonElement = elementQuerySelector(headElement, '.css_register_notification_button_left');\nconst rightButtonElement = elementQuerySelector(headElement, '.css_register_notification_button_right');\n\nfunction initializeRegisterNotificationField() {\n  leftButtonElement.onclick = function () {\n    closeRegisterNotification();\n    // callback\n    initializeSettingsField();\n  };\n\n  rightButtonElement.onclick = function () {\n    saveFormulatedRegisterNotification();\n  };\n\n  providerInputElement.value = getNotificationProvider();\n  rgistrationKeyInputElement.value = '';\n}\n\nexport function showRegisterNotification(): void {\n  RegisterNotificationField.setAttribute('displayed', 'true');\n}\n\nexport function hideRegisterNotification(): void {\n  RegisterNotificationField.setAttribute('displayed', 'false');\n}\n\nexport function openRegisterNotification(): void {\n  pushPageHistory('RegisterNotification');\n  showRegisterNotification();\n  initializeRegisterNotificationField();\n  hidePreviousPage();\n}\n\nexport function closeRegisterNotification(): void {\n  hideRegisterNotification();\n  showPreviousPage();\n  revokePageHistory('RegisterNotification');\n}\n\nexport async function saveFormulatedRegisterNotification() {\n  promptMessage('manufacturing', '處理中');\n  const provider = providerInputElement.value;\n  const registrationKey = rgistrationKeyInputElement.value;\n  if (!isValidURL(provider)) {\n    promptMessage('error', '無效的提供者');\n    return;\n  }\n  // register\n  setNotificationProvider(provider);\n  const registering = await registerNotificationClient(registrationKey);\n  if (registering) {\n    promptMessage('check_circle', '註冊成功');\n    return;\n  } else {\n    promptMessage('error', '註冊失敗');\n    return;\n  }\n}\n"],"names":["ScheduleNotificationField","documentQuerySelector","ScheduleNotificationBodyElement","elementQuerySelector","ScheduleNotificationListElement","generateElementOfItem","item","thisButtonElement","StopID","RouteID","EstimateTime","itemElement","documentCreateDivElement","classList","add","iconElement","iconSpanElement","document","createElement","appendChild","getIconElement","icon","nameElement","innerText","name","index","onclick","promptMessage","setAttribute","closeScheduleNotification","scheduleNotificationForStop","then","result","scheduleNotificationForStopItem","showScheduleNotification","hideScheduleNotification","openScheduleNotification","pushPageHistory","innerHTML","fragment","DocumentFragment","scheduleNotificationOptions","newElement","append","initializeScheduleNotificationField","hidePreviousPage","showPreviousPage","revokePageHistory","SaveToFolderField","bodyElement","listElement","headElement","rightButtonElement","successfulSaveMessage","failedSaveMessage","type","parameters","saveToFolderButtonElement","saveStop","id","e","isFolderContentSaved","k","booleanToString","closeSaveToFolder","saveRoute","saveLocation","initializeSaveToFolderField","openFolderCreator","folders","listFolders","newItemElement","showSaveToFolder","hideSaveToFolder","openSaveToFolder","_shareRoutePermalink","_asyncToGenerator","thisRoute","searchRouteByRouteID","link","getPermalink","n","shareLink","apply","arguments","_showRoutePermalinkQRCode","openQRCode","fontFamily","canvasSize","querySize","canvasWidth","width","canvasHeight","height","canvasScale","Math","min","window","devicePixelRatio","previousCalendar","generateElementOfDay","element","generateElementOfEventGroup","eventGroupElement","canvasElement","updateDay","thisDayElement","thisDay","currentDay","skeletonScreen","animation","toString","day","playing_animation","getSettingOptionValue","calendarDayElements","elementQuerySelectorAll","CalendarDaysElement","CalendarEventGroupElements","CalendarEventGroupsElement","i","_previousCalendar","_previousCalendar2","thisCalendarDayElement","thisEventGroupElement","eventGroupKey","calendarEventGroup","calendarEventGroups","calendarDay","calendarDays","mainColorR","getCSSVariableValue","mainColorG","mainColorB","mainColorA","mainColor","gridColor","updateEventGroup","switchCalendarDay","thisCalendarEventGroupElement","thisCalendarEventGroup","drawGridline","thisContext","hours","boxY","fillStyle","fillRect","boxX","font","textBaseline","labelText","String","padStart","labelMeasurement","measureText","labelWidth","labelHeight","actualBoundingBoxDescent","fillText","drawEvent","thisCalendarEvent","thisDayStart","Date","setDate","setMonth","setFullYear","date","getFullYear","getMonth","getDate","setHours","setMinutes","setSeconds","setMilliseconds","getTime","boxWidth","boxHeight","duration","drawRoundedRect","tl","tr","bl","br","text","dateString","textMeasurement","textWidth","textHeight","thisCalendarEventGroupCanvas","thisCalendarEventGroupCanvasContext","getContext","isDisplayed","updateDisplayed","canvas","context","setTransform","scale","resizeRouteDetailsCalendarCanvas","clearRect","updateCalendarGroup","calendar","getDay","eventGroups","eventGroupQuantity","calendarDayQuantity","eventGroupElements","calendarEventQuantity","Array","from","dayElements","currentEventGroupElementsLength","length","difference","calendarDaysFragment","calendarEventGroupsFragment","o","newDayElement","push","newEventGroupElement","p","q","remove","splice","thisEventGroup","previousProperties","previousAnimation","previousSkeletonScreen","generateElementOfProperty","propertyElement","getBlankIconElement","valueElement","updatePropertiesField","properties","updateProperty","thisElement","thisProperty","previousProperty","updateIcon","thisIconElement","setIcon","updateValue","value","updateAnimation","updateSkeletonScreen","compareThings","propertyQuantity","PropertiesGroupElement","propertyElements","PropertiesGroupBodyElement","currentPropertyElementsLength","newPropertyElement","thisPropertyElement","RouteDetailsField","RouteDetailsBodyElement","RouteDetailsGroupsElement","CalendarGroupElement","CalendarGroupBodyElement","ActionsGroupElement","svaeToFolderActionButtonElement","getPermalinkActionButton","showPermalinkQRCodeActionButton","_initializeRouteDetailsField","PathAttributeId","existence","_x","shareRoutePermalink","_x2","showRoutePermalinkQRCode","key","setuppropertiesGroupSkeletonScreen","defaultEventQuantity","d_0","d_1","d_2","d_3","d_4","d_5","d_6","code","j","setupCalendarGroupSkeletonScreen","requestID","generateIdentifier","integration","integrateRouteDetails","showRouteDetails","hideRouteDetails","openRouteDetails","initializeRouteDetailsField","closeRouteDetails","CalendarEventGroupElement","CalendarDayElements","CalendarDayElement","RegisterNotificationField","groupsElement","providerGroupElement","providerGroupBodyElement","providerInputElement","rgistrationKeyGroupElement","rgistrationKeyGroupBodyElement","rgistrationKeyInputElement","leftButtonElement","initializeRegisterNotificationField","hideRegisterNotification","initializeSettingsField","_saveFormulatedRegisterNotification","saveFormulatedRegisterNotification","getNotificationProvider","showRegisterNotification","openRegisterNotification","provider","registrationKey","isValidURL","setNotificationProvider","registerNotificationClient"],"ignoreList":[],"sourceRoot":""}