{"version":3,"file":"5492f04c62e9815d3347.js","mappings":"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","sources":["webpack://bus/./src/index.ts","webpack://bus/./src/interface/bus/properties.ts","webpack://bus/./src/interface/bus/index.ts","webpack://bus/./src/interface/folder-creator/index.ts","webpack://bus/./src/interface/data-usage/index.ts"],"sourcesContent":["import { recoverBusArrivalTimeDataFromWriteAheadLog } from './data/analytics/bus-arrival-time/index';\r\nimport { discardExpiredDataUsageStats } from './data/analytics/data-usage/index';\r\nimport { discardUpdateRateDataGroups, initializeUpdateRateDataGroups, recoverUpdateRateDataFromWriteAheadLog } from './data/analytics/update-rate/index';\r\nimport { initializeFolderList } from './data/folder/index';\r\nimport { discardExpiredNotificationSchedules, initializeNotificationSchedules, loadNotificationClient } from './data/notification/index';\r\nimport { discardExpiredRecentViews } from './data/recent-views/index';\r\nimport { initializeSettings } from './data/settings/index';\r\nimport { checkAppVersion } from './data/settings/version';\r\nimport { askForCalibratingPermission } from './data/user-orientation/index';\r\nimport { askForPositioningPermission } from './data/user-position/index';\r\nimport { closeBus } from './interface/bus/index';\r\nimport { closeDataUsage } from './interface/data-usage/index';\r\nimport { closeFolderCreator, createFormulatedFolder, openFolderCreator } from './interface/folder-creator/index';\r\nimport { closeIconSelector, initializeIconSelectorSearchInput } from './interface/icon-selector/index';\r\nimport { closeFolderManager } from './interface/folder-manager/index';\r\nimport { initializeFolders, setUpFolderFieldSkeletonScreen } from './interface/home/folders/index';\r\nimport { downloadData } from './interface/home/index';\r\nimport { initializeRecentViews, setUpRecentViewsFieldSkeletonScreen } from './interface/home/recent-views/index';\r\nimport { fadeOutSplashScreen, setSplashScreenIconOffsetY, showErrorMessage } from './interface/index';\r\nimport { closeLocationDetails } from './interface/location/details/index';\r\nimport { closeLocation, initializeLocationSliding } from './interface/location/index';\r\nimport { closeNotificationScheduleManager } from './interface/notification-schedule-manager/index';\r\nimport { closePersonalScheduleCreator, createFormulatedPersonalSchedule, openPersonalScheduleCreator, switchPersonalScheduleCreatorDay } from './interface/personal-schedule-creator/index';\r\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor, saveEditedPersonalSchedule, switchPersonalScheduleEditorDay } from './interface/personal-schedule-editor/index';\r\nimport { closePersonalScheduleManager } from './interface/personal-schedule-manager/index';\r\nimport { closeQRCode } from './interface/qrcode/index';\r\nimport { closeRegisterNotification, openRegisterNotification, saveFormulatedRegisterNotification } from './interface/register-notification/index';\r\nimport { closeRouteDetails } from './interface/route/details/index';\r\nimport { closeRoute, initializeRouteSliding } from './interface/route/index';\r\nimport { closeSaveToFolder } from './interface/save-to-folder/index';\r\nimport { closeScheduleNotification } from './interface/schedule-notification/index';\r\nimport { closeSearch, initializeSearchInput, openSearch, resizeSearchInputSVG, switchSearchTypeFilter } from './interface/search/index';\r\nimport { closeSettings, openSettings } from './interface/settings/index';\r\nimport { closeSettingsOptions } from './interface/settings/options';\r\nimport { closeStorage } from './interface/storage/index';\r\nimport { openPermalink } from './tools/permalink';\r\n\r\nimport './interface/css';\r\n\r\nimport './interface/icons/css';\r\n\r\nimport './interface/home/css';\r\nimport './interface/home/recent-views/css';\r\nimport './interface/home/folders/css';\r\n\r\nimport './interface/search/field.css';\r\nimport './interface/search/head.css';\r\nimport './interface/search/body.css';\r\nimport './interface/search/keyboard.css';\r\n\r\nimport './interface/route/field.css';\r\nimport './interface/route/head.css';\r\nimport './interface/route/groups.css';\r\nimport './interface/route/item.css';\r\nimport './interface/route/thread.css';\r\nimport './interface/route/index.css';\r\n\r\nimport './interface/route/details/field.css';\r\nimport './interface/route/details/head.css';\r\nimport './interface/route/details/body.css';\r\nimport './interface/route/details/groups.css';\r\nimport './interface/route/details/actions.css';\r\nimport './interface/route/details/properties.css';\r\nimport './interface/route/details/calendar.css';\r\n\r\nimport './interface/location/field.css';\r\nimport './interface/location/head.css';\r\nimport './interface/location/groups.css';\r\nimport './interface/location/group-details.css';\r\nimport './interface/location/group-items.css';\r\nimport './interface/location/index.css';\r\n\r\nimport './interface/location/details/field.css';\r\nimport './interface/location/details/head.css';\r\nimport './interface/location/details/body.css';\r\nimport './interface/location/details/actions.css';\r\nimport './interface/location/details/index.css';\r\n\r\nimport './interface/bus/field.css';\r\nimport './interface/bus/head.css';\r\nimport './interface/bus/body.css';\r\nimport './interface/bus/groups.css';\r\nimport './interface/bus/properties.css';\r\n\r\nimport './interface/settings/field.css';\r\nimport './interface/settings/head.css';\r\nimport './interface/settings/body.css';\r\nimport './interface/settings/items.css';\r\nimport './interface/settings/index.css';\r\n\r\nimport './interface/save-to-folder/field.css';\r\nimport './interface/save-to-folder/head.css';\r\nimport './interface/save-to-folder/body.css';\r\nimport './interface/save-to-folder/list.css';\r\nimport './interface/save-to-folder/item.css';\r\n\r\nimport './interface/folder-manager/field.css';\r\nimport './interface/folder-manager/head.css';\r\nimport './interface/folder-manager/body.css';\r\nimport './interface/folder-manager/list.css';\r\nimport './interface/folder-manager/item.css';\r\n\r\nimport './interface/folder-editor/field.css';\r\nimport './interface/folder-editor/head.css';\r\nimport './interface/folder-editor/body.css';\r\nimport './interface/folder-editor/groups.css';\r\nimport './interface/folder-editor/folder-name.css';\r\nimport './interface/folder-editor/folder-icon.css';\r\nimport './interface/folder-editor/folder-content.css';\r\n\r\nimport './interface/folder-creator/field.css';\r\nimport './interface/folder-creator/head.css';\r\nimport './interface/folder-creator/body.css';\r\nimport './interface/folder-creator/groups.css';\r\nimport './interface/folder-creator/folder-name.css';\r\nimport './interface/folder-creator/folder-icon.css';\r\n\r\nimport './interface/icon-selector/field.css';\r\nimport './interface/icon-selector/head.css';\r\nimport './interface/icon-selector/body.css';\r\nimport './interface/icon-selector/symbols.css';\r\nimport './interface/icon-selector/index.css';\r\n\r\nimport './interface/personal-schedule-manager/field.css';\r\nimport './interface/personal-schedule-manager/head.css';\r\nimport './interface/personal-schedule-manager/body.css';\r\nimport './interface/personal-schedule-manager/list.css';\r\nimport './interface/personal-schedule-manager/item.css';\r\n\r\nimport './interface/personal-schedule-creator/field.css';\r\nimport './interface/personal-schedule-creator/head.css';\r\nimport './interface/personal-schedule-creator/body.css';\r\nimport './interface/personal-schedule-creator/groups.css';\r\nimport './interface/personal-schedule-creator/schedule-name.css';\r\nimport './interface/personal-schedule-creator/schedule-start-time.css';\r\nimport './interface/personal-schedule-creator/schedule-end-time.css';\r\nimport './interface/personal-schedule-creator/schedule-days.css';\r\n\r\nimport './interface/personal-schedule-editor/field.css';\r\nimport './interface/personal-schedule-editor/head.css';\r\nimport './interface/personal-schedule-editor/body.css';\r\nimport './interface/personal-schedule-editor/groups.css';\r\nimport './interface/personal-schedule-editor/schedule-name.css';\r\nimport './interface/personal-schedule-editor/schedule-start-time.css';\r\nimport './interface/personal-schedule-editor/schedule-end-time.css';\r\nimport './interface/personal-schedule-editor/schedule-days.css';\r\n\r\nimport './interface/notification-schedule-manager/field.css';\r\nimport './interface/notification-schedule-manager/head.css';\r\nimport './interface/notification-schedule-manager/body.css';\r\nimport './interface/notification-schedule-manager/list.css';\r\nimport './interface/notification-schedule-manager/item.css';\r\n\r\nimport './interface/register-notification/field.css';\r\nimport './interface/register-notification/head.css';\r\nimport './interface/register-notification/body.css';\r\nimport './interface/register-notification/groups.css';\r\nimport './interface/register-notification/provider.css';\r\nimport './interface/register-notification/registration-key.css';\r\n\r\nimport './interface/schedule-notification/field.css';\r\nimport './interface/schedule-notification/head.css';\r\nimport './interface/schedule-notification/body.css';\r\nimport './interface/schedule-notification/list.css';\r\nimport './interface/schedule-notification/item.css';\r\n\r\nimport './interface/data-usage/field.css';\r\nimport './interface/data-usage/head.css';\r\nimport './interface/data-usage/body.css';\r\nimport './interface/data-usage/chart.css';\r\nimport './interface/data-usage/statistics.css';\r\n\r\nimport './interface/storage/field.css';\r\nimport './interface/storage/head.css';\r\nimport './interface/storage/body.css';\r\nimport './interface/storage/statistics.css';\r\nimport './interface/storage/index.css';\r\n\r\nimport './interface/qrcode/field.css';\r\nimport './interface/qrcode/head.css';\r\nimport './interface/qrcode/body.css';\r\nimport './interface/qrcode/qrcode.css';\r\n\r\nimport './interface/prompt/index.css';\r\n\r\nlet busInitialized = false;\r\nlet busSecondlyInitialized = false;\r\n\r\nwindow.bus = {\r\n  initialize: function () {\r\n    if (busInitialized === false) {\r\n      busInitialized = true;\r\n      setSplashScreenIconOffsetY();\r\n      initializeSettings().then(function () {\r\n        setUpRecentViewsFieldSkeletonScreen();\r\n        setUpFolderFieldSkeletonScreen();\r\n        checkAppVersion()\r\n          .then((status) => {\r\n            if (status === 'ok') {\r\n              initializeRouteSliding();\r\n              initializeLocationSliding();\r\n              resizeSearchInputSVG();\r\n              window.addEventListener('resize', () => {\r\n                resizeSearchInputSVG();\r\n              });\r\n              if (screen) {\r\n                if (screen.orientation) {\r\n                  screen.orientation.addEventListener('change', () => {\r\n                    resizeSearchInputSVG();\r\n                  });\r\n                }\r\n              }\r\n              initializeRecentViews();\r\n              initializeFolderList().then(() => {\r\n                initializeFolders();\r\n              });\r\n              initializeSearchInput();\r\n              initializeIconSelectorSearchInput();\r\n              openPermalink();\r\n              fadeOutSplashScreen(function () {\r\n                loadNotificationClient();\r\n                initializeNotificationSchedules().then(function () {\r\n                  discardExpiredNotificationSchedules();\r\n                });\r\n                document.addEventListener(\r\n                  'click',\r\n                  function () {\r\n                    askForPositioningPermission();\r\n                    askForCalibratingPermission();\r\n                  },\r\n                  { once: true }\r\n                );\r\n              });\r\n            }\r\n            if (status === 'fetchError' || status === 'unknownError') {\r\n              showErrorMessage();\r\n              fadeOutSplashScreen();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            showErrorMessage();\r\n            fadeOutSplashScreen();\r\n          });\r\n      });\r\n    }\r\n  },\r\n  secondlyInitialize: function () {\r\n    if (!busSecondlyInitialized) {\r\n      busSecondlyInitialized = true;\r\n      downloadData();\r\n      discardExpiredDataUsageStats();\r\n      recoverBusArrivalTimeDataFromWriteAheadLog();\r\n      discardExpiredRecentViews();\r\n      discardUpdateRateDataGroups().then(function () {\r\n        initializeUpdateRateDataGroups().then(function () {\r\n          recoverUpdateRateDataFromWriteAheadLog();\r\n        });\r\n      });\r\n    }\r\n  },\r\n  route: {\r\n    closeRoute,\r\n    closeRouteDetails\r\n  },\r\n  location: {\r\n    closeLocation,\r\n    closeLocationDetails\r\n  },\r\n  folder: {\r\n    closeSaveToFolder,\r\n    closeFolderManager,\r\n    closeIconSelector: closeIconSelector,\r\n    openFolderCreator,\r\n    closeFolderCreator,\r\n    createFormulatedFolder\r\n  },\r\n  search: {\r\n    openSearch,\r\n    closeSearch,\r\n    switchSearchTypeFilter\r\n  },\r\n  storage: {\r\n    closeStorage\r\n  },\r\n  dataUsage: {\r\n    closeDataUsage\r\n  },\r\n  personalSchedule: {\r\n    closePersonalScheduleManager,\r\n    openPersonalScheduleCreator,\r\n    closePersonalScheduleCreator,\r\n    createFormulatedPersonalSchedule,\r\n    switchPersonalScheduleCreatorDay,\r\n    openPersonalScheduleEditor,\r\n    closePersonalScheduleEditor,\r\n    switchPersonalScheduleEditorDay,\r\n    saveEditedPersonalSchedule\r\n  },\r\n  settings: {\r\n    openSettings,\r\n    closeSettings,\r\n    closeSettingsOptions\r\n  },\r\n  bus: {\r\n    closeBus\r\n  },\r\n  notification: {\r\n    closeNotificationScheduleManager,\r\n    openRegisterNotification,\r\n    closeRegisterNotification,\r\n    saveFormulatedRegisterNotification,\r\n    closeScheduleNotification\r\n  },\r\n  qrcode: {\r\n    closeQRCode\r\n  }\r\n};\r\n\r\nexport default window.bus;\r\n","import { integratedBus } from '../../data/bus/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentCreateDivElement, elementQuerySelector, elementQuerySelectorAll } from '../../tools/elements';\nimport { compareThings } from '../../tools/index';\nimport { getBlankIconElement, setIcon } from '../icons/index';\nimport { BusPropertiesGroupBodyElement } from './index';\n\nlet previousProperties = [];\nlet previousSkeletonScreen: boolean = false;\nlet previousAnimation: boolean = false;\n\nfunction generateElementOfBusProperty(): HTMLElement {\n  const element = documentCreateDivElement();\n  element.classList.add('css_bus_property');\n\n  const iconElement = documentCreateDivElement();\n  iconElement.classList.add('css_bus_property_icon');\n  iconElement.appendChild(getBlankIconElement());\n\n  const valueElement = documentCreateDivElement();\n  valueElement.classList.add('css_bus_property_value');\n\n  element.appendChild(iconElement);\n  element.appendChild(valueElement);\n\n  return element;\n}\n\nexport function setUpBusPropertiesFieldSkeletonScreen() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  let properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: '',\n      value: ''\n    });\n  }\n  updateBusPropertiesField(properties, true, playing_animation);\n}\n\nexport function updateBusPropertiesField(properties: integratedBus['properties'], skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      const thisPropertyIconElement = elementQuerySelector(thisElement, '.css_bus_property_icon');\n      setIcon(thisPropertyIconElement, thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', animation);\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', skeletonScreen);\n    }\n\n    if (previousProperty === null || previousProperty === undefined) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n  const propertyElements = Array.from(elementQuerySelectorAll(BusPropertiesGroupBodyElement, '.css_bus_property'));\n  const currentPropertyElementsLength = propertyElements.length;\n  if (propertyQuantity !== currentPropertyElementsLength) {\n    const difference = currentPropertyElementsLength - propertyQuantity;\n    if (difference < 0) {\n      const fragment = new DocumentFragment();\n      for (let o = 0; o > difference; o--) {\n        const newPropertyElement = generateElementOfBusProperty(skeletonScreen);\n        fragment.appendChild(newPropertyElement);\n        propertyElements.push(newPropertyElement);\n      }\n      BusPropertiesGroupBodyElement.append(fragment);\n    } else if (difference > 0) {\n      for (let p = currentPropertyElementsLength - 1, q = currentPropertyElementsLength - difference - 1; p > q; p--) {\n        propertyElements[p].remove();\n        propertyElements.splice(p, 1);\n      }\n    }\n  }\n\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties[i]) {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { integrateBus } from '../../data/bus/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { setUpBusPropertiesFieldSkeletonScreen, updateBusPropertiesField } from './properties';\n\nexport const BusField = documentQuerySelector('.css_bus_field');\nexport const BusHeadElement = elementQuerySelector(BusField, '.css_bus_head');\nexport const BusBodyElement = elementQuerySelector(BusField, '.css_bus_body');\nexport const BusGroupsElement = elementQuerySelector(BusBodyElement, '.css_bus_groups');\nexport const BusPropertiesGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"properties\"]');\nexport const BusPropertiesGroupBodyElement = elementQuerySelector(BusPropertiesGroupElement, '.css_bus_group_body');\nexport const BusLocationGroupElement = elementQuerySelector(BusGroupsElement, '.css_bus_group[group=\"location\"]');\n\nexport function openBus(id: number): void {\n  pushPageHistory('Bus');\n  logRecentView('bus', id);\n  BusField.setAttribute('displayed', 'true');\n  initializeBusPage(id);\n  closePreviousPage();\n}\n\nexport function closeBus(): void {\n  // revokePageHistory('Bus');\n  BusField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nasync function initializeBusPage(id: number) {\n  setUpBusPropertiesFieldSkeletonScreen();\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const integration = await integrateBus(id, requestID);\n  updateBusPropertiesField(integration.properties, false, playing_animation);\n}\n\nfunction updateBusField(integration: object, skeletonScreen: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisItem: object): void {}\n  function updateLocation(thisElement: HTMLElement, thisItem: object): void {}\n}\n","import { createFolder } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openIconSelector } from '../icon-selector/index';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderCreatorField = documentQuerySelector('.css_folder_creator_field');\nconst FolderCreatorBodyElement = elementQuerySelector(FolderCreatorField, '.css_folder_creator_body');\nconst FolderCreatorGroupsElement = elementQuerySelector(FolderCreatorBodyElement, '.css_folder_creator_groups');\nconst NameInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-name\"] .css_folder_creator_group_body input');\nconst IconInputElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input input');\nconst OpenIconSelectorElement = elementQuerySelector(FolderCreatorGroupsElement, '.css_folder_creator_field .css_folder_creator_body .css_folder_creator_groups .css_folder_creator_group[group=\"folder-icon\"] .css_folder_creator_group_body .css_folder_creator_icon_input .css_folder_creator_open_icon_selector');\n\nOpenIconSelectorElement.onclick = function () {\n  openIconSelector(IconInputElement);\n};\n\nexport function createFormulatedFolder(): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  createFolder(name, icon).then((e) => {\n    if (e) {\n      closeFolderCreator();\n      promptMessage('folder', '已建立資料夾');\n    } else {\n      promptMessage('error', '無法建立資料夾');\n    }\n  });\n}\n\nexport function openFolderCreator(): void {\n  pushPageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'true');\n  closePreviousPage();\n}\n\nexport function closeFolderCreator(): void {\n  // revokePageHistory('FolderCreator');\n  FolderCreatorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n","import { getDataUsageStats } from '../../data/analytics/data-usage/index';\nimport { convertBytes } from '../../tools/convert';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { dateToString } from '../../tools/time';\nimport { closePreviousPage, openPreviousPage, pushPageHistory, querySize } from '../index';\n\nconst dataUsageField = documentQuerySelector('.css_data_usage_field');\nconst dataUsageBodyElement = elementQuerySelector(dataUsageField, '.css_data_usage_body');\nconst chartElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_chart');\nconst statisticsElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_statistics');\nconst totalDataUsageElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"total-data-usage\"] .css_data_usage_statistics_item_value');\nconst maxDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"max-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst minDataUsagePerMinuteElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"min-data-usage-per-minute\"] .css_data_usage_statistics_item_value');\nconst startTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"start-time\"] .css_data_usage_statistics_item_value');\nconst endTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"end-time\"] .css_data_usage_statistics_item_value');\n\nasync function initializeDataUsage() {\n  const WindowSize = querySize('window');\n  const graphWidth = WindowSize.width;\n  const graphHeight = Math.min((5 / 18) * graphWidth, WindowSize.height * 0.33);\n  const stats = await getDataUsageStats(graphWidth, graphHeight, 20);\n  totalDataUsageElement.innerText = convertBytes(stats.stats.sum);\n  maxDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.max);\n  minDataUsagePerMinuteElement.innerText = convertBytes(stats.stats.min);\n  startTimeElement.innerText = dateToString(stats.period.start, 'YYYY-MM-DD');\n  endTimeElement.innerText = dateToString(stats.period.end, 'YYYY-MM-DD');\n  chartElement.innerHTML = stats.chart;\n}\n\nexport function openDataUsage(): void {\n  pushPageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'true');\n  initializeDataUsage();\n  closePreviousPage();\n}\n\nexport function closeDataUsage(): void {\n  // revokePageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n"],"names":["busInitialized","busSecondlyInitialized","window","bus","initialize","setSplashScreenIconOffsetY","initializeSettings","then","setUpRecentViewsFieldSkeletonScreen","setUpFolderFieldSkeletonScreen","checkAppVersion","status","initializeRouteSliding","initializeLocationSliding","resizeSearchInputSVG","addEventListener","screen","orientation","initializeRecentViews","initializeFolderList","initializeFolders","initializeSearchInput","initializeIconSelectorSearchInput","openPermalink","fadeOutSplashScreen","loadNotificationClient","initializeNotificationSchedules","discardExpiredNotificationSchedules","document","askForPositioningPermission","askForCalibratingPermission","once","showErrorMessage","secondlyInitialize","downloadData","discardExpiredDataUsageStats","recoverBusArrivalTimeDataFromWriteAheadLog","discardExpiredRecentViews","discardUpdateRateDataGroups","initializeUpdateRateDataGroups","recoverUpdateRateDataFromWriteAheadLog","route","closeRoute","closeRouteDetails","location","closeLocation","closeLocationDetails","folder","closeSaveToFolder","closeFolderManager","closeIconSelector","openFolderCreator","closeFolderCreator","createFormulatedFolder","search","openSearch","closeSearch","switchSearchTypeFilter","storage","closeStorage","dataUsage","closeDataUsage","personalSchedule","closePersonalScheduleManager","openPersonalScheduleCreator","closePersonalScheduleCreator","createFormulatedPersonalSchedule","switchPersonalScheduleCreatorDay","openPersonalScheduleEditor","closePersonalScheduleEditor","switchPersonalScheduleEditorDay","saveEditedPersonalSchedule","settings","openSettings","closeSettings","closeSettingsOptions","closeBus","notification","closeNotificationScheduleManager","openRegisterNotification","closeRegisterNotification","saveFormulatedRegisterNotification","closeScheduleNotification","qrcode","closeQRCode","previousProperties","previousSkeletonScreen","previousAnimation","generateElementOfBusProperty","element","documentCreateDivElement","classList","add","iconElement","appendChild","getBlankIconElement","valueElement","updateBusPropertiesField","properties","skeletonScreen","animation","updateProperty","thisElement","thisProperty","previousProperty","updateIcon","thisPropertyIconElement","elementQuerySelector","setIcon","icon","updateValue","innerText","value","updateAnimation","setAttribute","updateSkeletonScreen","compareThings","propertyQuantity","length","propertyElements","Array","from","elementQuerySelectorAll","BusPropertiesGroupBodyElement","currentPropertyElementsLength","difference","fragment","DocumentFragment","o","newPropertyElement","push","append","p","q","remove","splice","i","thisPropertyElement","BusField","documentQuerySelector","BusBodyElement","BusGroupsElement","BusPropertiesGroupElement","openBus","id","pushPageHistory","logRecentView","_x","_initializeBusPage","apply","arguments","initializeBusPage","closePreviousPage","openPreviousPage","_asyncToGenerator","playing_animation","getSettingOptionValue","key","setUpBusPropertiesFieldSkeletonScreen","requestID","generateIdentifier","integrateBus","FolderCreatorField","FolderCreatorBodyElement","FolderCreatorGroupsElement","NameInputElement","IconInputElement","name","createFolder","e","promptMessage","onclick","openIconSelector","dataUsageField","dataUsageBodyElement","chartElement","statisticsElement","totalDataUsageElement","maxDataUsagePerMinuteElement","minDataUsagePerMinuteElement","startTimeElement","endTimeElement","_initializeDataUsage","WindowSize","querySize","graphWidth","width","graphHeight","Math","min","height","stats","getDataUsageStats","convertBytes","sum","max","dateToString","period","start","end","innerHTML","chart","openDataUsage","initializeDataUsage"],"ignoreList":[],"sourceRoot":""}