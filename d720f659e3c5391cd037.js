"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[196],{4244(e,a,n){n.d(a,{default:()=>O});var t,i,o=n(467),r=n(6483),c=n(8925),d=n(5767),l=n(9566),s=n(3422),u=n(5314),p=n(3459),f=n(3251),b=n(1238),h=n(1531),v=n(4884),y=n(9499),g=n(6052),m=n(4294),C=n(8379),w=n(540),k=n(6082),L=n(6091),S=n(904),x=n(833),T=n(3030),_=n(2174),A=n(8380),D=n(5693),F=n(7891),E=n(8279),M=n(7908),P=n(4373),Y=n(4690),z=n(3041),q=n(752),B=n(5009),N=n(6104),R=n(6166),U=n(2994),$=n(9469),H=n(4131),j=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(5328),n(3796),n(9354),n(3377),n(1828),n(4680),n(7820),n(1580),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(9050),n(8550),n(5172),n(9151),n(5518),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(5297),n(7499),n(4953),n(7114),n(9657),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),I=!1;window.bus={initialize:(i=(0,o.a)(function*(){if(!j){j=!0,yield(0,p.d)(),yield(0,l.c)(),(0,L.b)(),(0,w.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,L.a)(),(0,w.a)(),(0,Y.c)(),(0,T.c)(),(0,B.c)(),(0,m.c)(),(0,B.e)(),window.addEventListener("resize",function(){(0,B.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,B.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,h.a)(),(0,b.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.g)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(t=(0,o.a)(function*(){I||(I=!0,yield(0,s.i)(),yield(0,s.g)(),yield(0,s.d)(),yield(0,k.b)(),yield(0,r.c)(),yield(0,d.b)(),yield(0,u.a)(),yield(0,c.b)(),yield(0,d.d)(),yield(0,d.e)())}),function(){return t.apply(this,arguments)}),route:{closeRoute:Y.a,closeRouteDetails:P.a,closeRouteCalendar:H.a},location:{closeLocation:T.a,closeLocationDetails:x.a},folder:{closeSaveToFolder:z.a,closeFolderManager:C.a,closeIconSelector:m.a,closeFolderCreator:g.a},search:{openSearch:B.d,closeSearch:B.a,switchSearchTypeFilter:B.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:F.a,openPersonalScheduleCreator:A.d,closePersonalScheduleCreator:A.a,createFormulatedPersonalSchedule:A.b,switchPersonalScheduleCreatorDay:A.f,openPersonalScheduleEditor:D.c,closePersonalScheduleEditor:D.a,switchPersonalScheduleEditorDay:D.f,saveEditedPersonalSchedule:D.d},settings:{openSettings:N.f,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:v.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:M.b,closeScheduleNotification:q.a},qrcode:{closeQRCode:E.a}};const O=window.bus},4884(e,a,n){n.d(a,{a:()=>C,b:()=>S,c:()=>k,d:()=>L,e:()=>w});var t=n(467),i=n(6160),o=n(5314),r=n(3459),c=n(8179),d=n(8024),l=n(904),s=n(4537),u=[],p=!1,f=!1;function b(){var e=(0,c.a)();e.classList.add("xa");var a=(0,c.a)();a.classList.add("ya"),a.appendChild((0,s.a)());var n=(0,c.a)();return n.classList.add("za"),e.appendChild(a),e.appendChild(n),e}function h(e,a,n){function t(e,t,i){function o(e,a){var n=(0,c.e)(e,".ya");(0,s.c)(n,a.icon)}function r(e,a){(0,c.e)(e,".za").innerText=a.value}function l(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(o(e,t),r(e,t),u(e,a),l(e,n)):((0,d.b)(i,t)||o(e,t),(0,d.b)(i,t)||r(e,t),a!==p&&u(e,a),n!==f&&l(e,n))}var i=e.length,o=Array.from((0,c.d)(C,".xa")),r=o.length;if(i!==r){var l=r-i;if(l<0){for(var h=new DocumentFragment,v=0;v>l;v--){var y=b();h.appendChild(y),o.push(y)}C.append(h)}else if(l>0)for(var g=r-1,m=r-l-1;g>m;g--)o[g].remove(),o.splice(g,1)}for(var w=0;w<i;w++){var k=o[w],L=e[w];u[w]?t(k,L,u[w]):t(k,L,null)}u=e,f=n,p=a}var v=(0,c.c)(".da"),y=((0,c.e)(v,".fa"),(0,c.e)(v,".oa")),g=(0,c.e)(y,".pa"),m=(0,c.e)(g,'.qa[group="properties"]'),C=(0,c.e)(m,".va");(0,c.e)(g,'.qa[group="location"]');function w(){v.setAttribute("displayed","true")}function k(){v.setAttribute("displayed","false")}function L(e){(0,l.c)("Bus"),(0,o.e)("bus",e),w(),function(e){x.apply(this,arguments)}(e),(0,l.b)()}function S(){k(),(0,l.h)(),(0,l.e)("Bus")}function x(){return(x=(0,t.a)(function*(e){!function(){for(var e=(0,r.b)("playing_animation"),a=[],n=0;n<5;n++)a.push({key:n,icon:"",value:""});h(a,!0,e)}();var a=(0,r.b)("playing_animation"),n=(0,d.c)();h((yield(0,i.a)(e,n)).properties,!1,a)})).apply(this,arguments)}},9499(e,a,n){n.d(a,{a:()=>k,b:()=>C,c:()=>w,d:()=>m});var t=n(467),i=n(8925),o=n(7183),r=n(8179),c=n(5579),d=n(904),l=(0,r.c)(".xc"),s=(0,r.e)(l,".ad"),u=(0,r.e)(s,".bd"),p=(0,r.e)(s,".cd"),f=(0,r.e)(p,'.dd[name="total-data-usage"] .fd'),b=(0,r.e)(p,'.dd[name="max-data-usage-per-minute"] .fd'),h=(0,r.e)(p,'.dd[name="min-data-usage-per-minute"] .fd'),v=(0,r.e)(p,'.dd[name="start-time"] .fd'),y=(0,r.e)(p,'.dd[name="end-time"] .fd');function g(){return(g=(0,t.a)(function*(){var e=(0,d.d)("window"),a=e.width,n=Math.min(5/18*a,.33*e.height),t=yield(0,i.c)(a,n,20);f.innerText=(0,o.a)(t.stats.sum),b.innerText=(0,o.a)(t.stats.max),h.innerText=(0,o.a)(t.stats.min),v.innerText=(0,c.c)(t.period.start,"YYYY-MM-DD"),y.innerText=(0,c.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function m(){l.setAttribute("displayed","true")}function C(){l.setAttribute("displayed","false")}function w(){(0,d.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,d.b)()}function k(){C(),(0,d.h)(),(0,d.e)("DataUsage")}},6052(e,a,n){n.d(a,{a:()=>T,b:()=>S,c:()=>x,d:()=>L});var t=n(467),i=n(9566),o=n(8179),r=n(4294),c=n(904),d=n(9119),l=(0,o.c)(".jc"),s=(0,o.e)(l,".kc"),u=(0,o.e)(s,".mc"),p=(0,o.e)(l,".oc"),f=(0,o.e)(p,".pc"),b=(0,o.e)(f,'.qc[group="folder-name"]'),h=(0,o.e)(b,".uc"),v=(0,o.e)(h,"input"),y=(0,o.e)(f,'.qc[group="folder-icon"]'),g=(0,o.e)(y,".uc"),m=(0,o.e)(g,".vc input"),C=(0,o.e)(f,".vc .wc");function w(){return(w=(0,t.a)(function*(e){var a=v.value,n=m.value;(yield(0,i.a)(a,n))?(T(),(0,d.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,d.a)("error","無法建立資料夾")})).apply(this,arguments)}function k(e){v.value="",m.value="",u.onclick=function(){!function(e){w.apply(this,arguments)}(e)},C.onclick=function(){(0,r.d)(m)}}function L(){l.setAttribute("displayed","true")}function S(){l.setAttribute("displayed","false")}function x(e){(0,c.c)("FolderCreator"),k(e),L(),(0,c.b)()}function T(){S(),(0,c.h)(),(0,c.e)("FolderCreator")}},9333(e,a,n){n.d(a,{a:()=>k,b:()=>L,c:()=>w});var t=n(467),i=n(9566),o=n(8179),r=n(4294),c=n(4537),d=n(904),l=n(9119),s=(0,o.c)(".nb"),u=(0,o.e)(s,".ob"),p=(0,o.e)(u,".pb"),f=(0,o.e)(s,".rb"),b=(0,o.e)(f,".sb"),h=(0,o.e)(b,'.tb[group="folder-name"] .xb input'),v=(0,o.e)(b,'.tb[group="folder-icon"] .xb .zb input'),y=(0,o.e)(b,'.tb[group="folder-icon"] .xb .zb ._b'),g=(0,o.e)(b,'.tb[group="folder-content"] .xb');function m(e,a){var n=(0,o.a)();n.classList.add("ac"),n.setAttribute("type",a.type);var t=(0,o.a)();t.classList.add("bc");var r="",d="",s="";switch(a.type){case"stop":s="location_on",r=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,d=a.name;break;case"route":s="route",r=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,d=a.name;break;case"location":s="location_on",r="地點",d=a.name;break;case"bus":r="",d=a.name;break;case"empty":s="lightbulb",r="提示",d="沒有內容";break;default:s="",r="null",d="null"}var u=(0,o.a)();u.classList.add("cc"),u.appendChild((0,c.b)(s));var p=(0,o.a)();p.classList.add("dc"),p.innerText=r;var f=(0,o.a)();f.classList.add("fc"),f.innerText=d;var b=(0,o.a)();b.classList.add("gc");var h=(0,o.a)();h.classList.add("hc"),h.appendChild((0,c.b)("keyboard_arrow_down")),h.onclick=function(){S(n,e.id,a.type,a.id,"up")};var v=(0,o.a)();v.classList.add("hc"),v.appendChild((0,c.b)("keyboard_arrow_down")),v.onclick=function(){S(n,e.id,a.type,a.id,"down")};var y=(0,o.a)();return y.classList.add("hc"),y.appendChild((0,c.b)("delete")),y.onclick=function(){!function(e,a,n,t){(0,i.k)(a,n,t).then(function(a){if(a)switch(e.remove(),n){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(n,e.id,a.type,a.id)},b.appendChild(h),b.appendChild(v),b.appendChild(y),t.appendChild(u),t.appendChild(p),t.appendChild(f),n.appendChild(t),n.appendChild(b),n}function C(){return C=(0,t.a)(function*(e,a){var n=(0,i.b)(e),t=yield(0,i.g)(e);"boolean"!=typeof n&&!1!==n&&(p.onclick=function(){!function(e,a){x.apply(this,arguments)}(n.id,a)},h.value=n.name,v.value=n.icon,function(e,a){g.innerHTML="";var n=new DocumentFragment;for(var t of a){var i=m(e,t);n.appendChild(i)}g.append(n)}(n,t))}),C.apply(this,arguments)}function w(){s.setAttribute("displayed","true")}function k(){s.setAttribute("displayed","false")}function L(e,a){(0,d.c)("FolderEditor"),w(),function(e,a){C.apply(this,arguments)}(e,a),(0,d.b)()}function S(e,a,n,t,o){(0,i.p)(a,n,t,o).then(function(a){if(a)switch(o){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}function x(){return(x=(0,t.a)(function*(e,a){var n=h.value,t=v.value;(yield(0,i.q)(e,n,t))?(k(),(0,d.h)(),(0,d.e)("FolderEditor"),"function"==typeof a&&a()):(0,l.a)("error","無法儲存變更")})).apply(this,arguments)}y.onclick=function(){(0,r.d)(v)}},8379(e,a,n){n.d(a,{a:()=>w,b:()=>m,c:()=>C,d:()=>g});var t=n(467),i=n(9566),o=n(8179),r=n(6052),c=n(9333),d=n(4537),l=n(904),s=(0,o.c)(".ab"),u=(0,o.e)(s,".fb"),p=(0,o.e)(u,".gb"),f=(0,o.e)(s,".bb"),b=(0,o.e)(f,".db");function h(e){var a=(0,o.a)();a.classList.add("hb"),a.onclick=function(){(0,c.b)(e.id,function(){v()})};var n=(0,o.a)();n.classList.add("ib"),n.appendChild((0,d.b)(e.icon));var t=(0,o.a)();t.classList.add("jb"),t.innerText=e.name;var i=(0,o.a)();i.classList.add("kb"),i.innerText=String(e.contentLength);var r=(0,o.a)();return r.classList.add("mb"),r.appendChild((0,d.b)("arrow_forward_ios")),a.appendChild(n),a.appendChild(t),a.appendChild(i),a.appendChild(r),a}function v(){return y.apply(this,arguments)}function y(){return(y=(0,t.a)(function*(){b.onclick=function(){(0,r.c)(function(){v()})};var e=yield(0,i.h)();p.innerHTML="";var a=new DocumentFragment;for(var n of e){var t=h(n);a.appendChild(t)}p.append(a)})).apply(this,arguments)}function g(){s.setAttribute("displayed","true")}function m(){s.setAttribute("displayed","false")}function C(){(0,l.c)("FolderManager"),g(),v(),(0,l.b)()}function w(){m(),(0,l.h)(),(0,l.e)("FolderManager")}}}]);
//# sourceMappingURL=d720f659e3c5391cd037.js.map