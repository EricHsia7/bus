"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[794],{904:(e,t,n)=>{n.d(t,{AE:()=>x,BM:()=>w,WR:()=>m,Z_:()=>y,gO:()=>k,kr:()=>b,l$:()=>A});var i=n(8024),a=n(3648),s=n(4927),r=n(6052),o=n(9333),c=n(8379),d=n(5693),l=n(7891),u=n(7908),v=n(5009),f=n(6104),g=100,h=(new Date).getTime(),p=["Home"];function m(e){var t=p.length;p[t-1]!==e&&p.push(e)}function b(e){if(p.indexOf(e)>-1){var t=p.length;p[t-1]===e&&p.pop()}}function y(){var e=p.length;if(e>1)switch(p[e-2]){case"Home":case"FolderIconSelector":case"Location":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":default:break;case"FolderCreator":(0,r.z1)();break;case"FolderEditor":(0,o.I6)();break;case"FolderManager":(0,c.m)();break;case"Search":(0,v.Bb)();break;case"Settings":(0,f.os)();break;case"PersonalScheduleManager":(0,l.Z)();break;case"PersonalScheduleEditor":(0,d.Xy)();break;case"Bus":(0,s.F)();break;case"RegisterNotification":(0,u.hy)()}}function A(){var e=p.length;if(e>1){var t=p[e-2];switch(p.pop(),t){case"Home":case"FolderIconSelector":case"Location":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":default:break;case"FolderCreator":(0,r.pd)();break;case"FolderEditor":(0,o.uy)();break;case"FolderManager":(0,c.g)();break;case"Search":(0,v.rf)();break;case"Settings":(0,f.Ow)();break;case"PersonalScheduleManager":(0,l.z)();break;case"PersonalScheduleEditor":(0,d.bF)();break;case"Bus":(0,s.$)();break;case"RegisterNotification":(0,u.XG)()}}}function w(){var e=0;(0,i.t9)()&&(e=-1*(window.outerHeight-window.innerHeight)/2),(0,a.bv)(".ze svg._e").style.setProperty("--af",`${e}px`)}function x(e){function t(){var t=(0,a.bv)(".ze");t.classList.add("bf"),t.addEventListener("animationend",(function(){t.setAttribute("displayed","false"),t.classList.remove("bf"),"function"==typeof e&&e()}),{once:!0})}var n=(new Date).getTime();n-h<g?setTimeout(t,Math.max(1,n-h)):t()}function k(e){var t=0,n=0,i=window.innerWidth,a=window.innerHeight;switch(e){case"window":t=i,n=a;break;case"head":t=i,n=55;break;case"head-one-button":t=i-55,n=55;break;case"head-two-button":t=i-110,n=55;break;case"route-details-canvas":t=i-20-20,n=1440;break;case"route-bus-arrival-time-chart":t=i-45-15-20,n=75;break;case"location-bus-arrival-time-chart":t=i-30-20,n=75;break;default:t=0,n=0}return{width:t,height:n}}},1521:(e,t,n)=>{var i=n(5072),a=n.n(i),s=n(7825),r=n.n(s),o=n(7659),c=n.n(o),d=n(5056),l=n.n(d),u=n(8159),v=n.n(u),f=n(1113),g=n.n(f),h=n(9660),p={};p.styleTagTransform=g(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=v();a()(h.A,p),h.A&&h.A.locals&&h.A.locals},2546:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(1354),a=n.n(i),s=n(6314),r=n.n(s)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/interface/home/recent-views/item.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=r},2879:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(1354),a=n.n(i),s=n(6314),r=n.n(s)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/interface/icons/index.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=r},3030:(e,t,n)=>{n.d(t,{az:()=>ce,dM:()=>de,eS:()=>oe,s_:()=>G,so:()=>re});var i=n(5767),a=n(9566),s=n(2757),r=n(4636),o=n(5314),c=n(3459),d=n(7968),l=n(8024),u=n(3648),v=n(5579),f=n(4537),g=n(904),h=n(9119);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t,n,i,a,s,r){try{var o=e[s](r),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var y=(0,u.bv)(".cf"),A=(0,u.aI)(y,".df"),w=(0,u.aI)(A,".ef"),x=(0,u.aI)(y,".ff"),k=(0,u.aI)(A,".gf"),I=(0,u.aI)(k,".hf"),T=(0,u.aI)(A,".if"),$=(0,u.aI)(T,".jf"),S=(0,u.aI)(A,".kf .lf"),L={},M=!0,_=!1,j=0,C=0,P=0,E={},Z=0,R=!1,H=1e4,F=15e3,O=5e3,z=15e3,N=!0,Q=0,B=0,D="",U=!1,q=!1,J=!1,W="",X=20;function G(){x.addEventListener("touchstart",(function(){j=Math.round(x.scrollLeft/Z)}),{passive:!0}),x.addEventListener("scroll",(function(e){R=!0;var t=e.target.scrollLeft/Z;C=t>j?j+1:j-1;var n=E[`g_${j}`]||{width:0,offset:0},i=E[`g_${C}`]||{width:0,offset:0},a=n.width+(i.width-n.width)*Math.abs(t-j),s=-1*(n.offset+(i.offset-n.offset)*Math.abs(t-j))+.5*Z-.5*a;K(P,s,a-X,t),t===C&&(j=Math.round(x.scrollLeft/Z),R=!1)}),{passive:!0})}function K(e,t,n,i){x.style.setProperty("--mf",e.toString()),$.style.setProperty("--nf",(n/10).toString()),I.style.setProperty("--of",`${t.toFixed(5)}px`),I.style.setProperty("--pf",i.toFixed(5))}function V(e){var t=e;if(U){var n=t.detail.progress-1;S.style.setProperty("--sf",n.toString())}"end"===t.detail.stage&&document.removeEventListener(t.detail.target,V)}function Y(){var e=(0,l.zx)("i"),t=document.createElement("div");return t.classList.add("tf"),t.id=e,t.setAttribute("stretched","false"),t.setAttribute("stretching","false"),t.setAttribute("push-direction","0"),t.setAttribute("push-state","0"),t.innerHTML=`<div class="uf"><div class="vf"><div class="wf" code="-1"></div><div class="xf" code="-1"></div></div><div class="yf"></div><div class="zf"></div><div class="_f"><div class="ag"><div class="jd" code="0"></div><div class="kd" code="0"></div></div><div class="bg" onclick="bus.location.stretchLocationItem('${e}')">${(0,f.Z)("keyboard_arrow_down")}</div><div class="cg"></div></div></div><div class="dg" displayed="false"><div class="eg"><div class="fg" highlighted="true" type="tab" onclick="bus.location.switchLocationBodyTab('${e}', 0)" code="0"><div class="gg">${(0,f.Z)("directions_bus")}</div>公車</div><div class="fg" highlighted="false" type="tab" onclick="bus.location.switchLocationBodyTab('${e}', 1)" code="1"><div class="gg">${(0,f.Z)("departure_board")}</div>抵達時間</div><div class="fg" highlighted="false" type="save-to-folder" onclick="bus.folder.openSaveToFolder('stop-on-location', ['${e}', null, null])"><div class="gg">${(0,f.Z)("folder")}</div>儲存至資料夾</div><div class="fg" highlighted="false" type="schedule-notification" onclick="bus.notification.openScheduleNotification('stop-on-location', ['${e}', null, null, null])" enabled="true"><div class="gg">${(0,f.Z)("notifications")}</div>設定到站通知</div></div><div class="hg" displayed="true"></div><div class="ig" displayed="false"></div></div>`,{element:t,id:e}}function ee(){var e=document.createElement("div");return e.classList.add("ng"),{element:e,id:""}}function te(){var e=document.createElement("div");return e.classList.add("og"),e.innerHTML='<div class="pg"></div><div class="qg"></div>',{element:e,id:""}}function ne(e,t,n){function i(e,i,s){function o(e,t,n){var i=e.getBoundingClientRect(),a=i.top,s=i.left,r=i.bottom,o=i.right,c=window.innerWidth,d=window.innerHeight,l=(0,u.aI)(e,".ag"),v=(0,u.aI)(l,".jd"),f=(0,u.aI)(l,".kd");v.setAttribute("code",t.status.code.toString()),v.innerText=t.status.text,n&&r>0&&a<d&&o>0&&s<c?(f.addEventListener("animationend",(function(){f.setAttribute("code",t.status.code.toString()),f.innerText=t.status.text,f.classList.remove("od")}),{once:!0}),f.classList.add("od")):(f.setAttribute("code",t.status.code.toString()),f.innerText=t.status.text)}function c(e,t,n){var i=e.getBoundingClientRect(),a=i.top,s=i.left,r=i.bottom,o=i.right,c=window.innerWidth,d=window.innerHeight,l=(0,u.aI)(e,".vf"),v=(0,u.aI)(l,".wf"),f=(0,u.aI)(l,".xf");v.setAttribute("code",t.ranking.code.toString()),v.innerText=t.ranking.text,n&&r>0&&a<d&&o>0&&s<c?(f.addEventListener("animationend",(function(){f.setAttribute("code",t.ranking.code.toString()),f.innerText=t.ranking.text,f.classList.remove("rg")}),{once:!0}),f.classList.add("rg")):(f.setAttribute("code",t.ranking.code.toString()),f.innerText=t.ranking.text)}function d(e,t){(0,u.aI)(e,".yf").innerText=t.route_direction}function g(e,t){(0,u.aI)(e,".zf").innerText=t.route_name}function h(e,t){(0,u.aI)(e,".hg").innerHTML=0===t.buses.length?'<div class="sg">目前沒有公車可顯示</div>':t.buses.map((function(e){return`<div class="tg" on-this-route="${e.onThisRoute}"><div class="ug"><div class="vg">${(0,f.Z)("directions_bus")}</div><div class="wg">${e.carNumber}</div></div><div class="xg"><div class="yg">路線：${e.RouteName}</div><div class="zg">狀態：${e.status.text}</div><div class="_g">類型：${e.type}</div></div></div>`})).join("")}function p(e,t){(0,u.aI)(e,".ig").innerHTML=0===t.busArrivalTimes.length?'<div class="ah">目前沒有抵達時間可顯示</div>':t.busArrivalTimes.map((function(e){return`<div class="bh"><div class="ch"><div class="dh">${(0,f.Z)("calendar_view_day")}</div><div class="eh">${e.personalSchedule.name}</div><div class="fh">週${(0,v.kd)(e.day).name} ${(0,v.pn)(e.personalSchedule.period.start)} - ${(0,v.pn)(e.personalSchedule.period.end)}</div></div><div class="gh">${e.chart}</div></div>`})).join("")}function m(e,t){t&&e.setAttribute("stretched","false")}function b(e,t){e.setAttribute("animation",(0,l.xZ)(t))}function y(e,t){e.setAttribute("skeleton-screen",(0,l.xZ)(t))}function A(e,t){var n=(0,u.aI)(e,".dg"),i=(0,u.aI)(n,".eg"),s=(0,u.aI)(i,'.fg[type="save-to-folder"]');s.setAttribute("onclick",`bus.folder.openSaveToFolder('stop-on-location', ['${e.id}', ${t.stopId}, ${t.routeId}])`),(0,a.LH)("stop",t.stopId).then((function(e){s.setAttribute("highlighted",(0,l.xZ)(e))}))}function w(e,t){var n=(0,u.aI)(e,".dg"),i=(0,u.aI)(n,".eg"),a=(0,u.aI)(i,'.fg[type="schedule-notification"]');a.setAttribute("onclick",`bus.notification.openScheduleNotification('stop-on-location', ['${e.id}', ${t.stopId}, ${t.routeId}, ${t.status.time}])`);var s=(0,r.Zc)(t.stopId);a.setAttribute("highlighted",(0,l.xZ)(s))}null===s?(o(e,i,n),c(e,i,n),d(e,i),g(e,i),h(e,i),p(e,i),m(e,t),b(e,n),y(e,t),A(e,i),w(e,i)):(i.status.time!==s.status.time&&(o(e,i,n),w(e,i)),s.ranking.number===i.ranking.number&&s.ranking.code===i.ranking.code||c(e,i,n),s.stopId!==i.stopId&&(d(e,i),g(e,i),A(e,i)),(0,l.hw)(s.buses,i.buses)||h(e,i),(0,l.hw)(s.busArrivalTimes,i.busArrivalTimes)||p(e,i),n!==M&&b(e,n),t!==_&&(m(e,t),y(e,t)))}function s(e,i,a){function s(e,t){(0,u.aI)(e,".pg").innerHTML=(0,f.Z)(t.icon)}function r(e,t){(0,u.aI)(e,".qg").innerHTML=t.value}function o(e,t){e.setAttribute("animation",(0,l.xZ)(t))}function c(e,t){e.setAttribute("skeleton-screen",(0,l.xZ)(t))}null===a?(s(e,i),r(e,i),o(e,n),c(e,t)):((0,l.hw)(a.icon,i.icon)||s(e,i),(0,l.hw)(a.value,i.value)||r(e,i),n!==M&&o(e,n),t!==_&&c(e,t))}var o=(0,g.gO)("window"),c=o.width,h=o.height,p=e.groupQuantity,m=e.itemQuantity,b=e.groupedItems,y=e.groups;P=p,Z=c;for(var A=0,$=0;$<p;$++){var S=(0,d.q_)(y[`g_${$}`].name,500,"17px",'"Noto Sans TC", sans-serif')+X;E[`g_${$}`]={width:S,offset:A},A+=S}var C=-1*E[`g_${j}`].offset+.5*Z-.5*E[`g_${j}`].width;R||K(P,C,E[`g_${j}`].width-X,j),w.innerHTML=`<span>${e.LocationName}</span>`,w.setAttribute("animation",(0,l.xZ)(n)),w.setAttribute("skeleton-screen",(0,l.xZ)(t)),k.setAttribute("animation",(0,l.xZ)(n)),k.setAttribute("skeleton-screen",(0,l.xZ)(t)),T.setAttribute("skeleton-screen",(0,l.xZ)(t));var H,F=(0,u.jg)(x,".jg").length;if(p!==F){var O=F-p;if(O<0)for(var z=0;z<Math.abs(O);z++){var N=(H=void 0,(H=document.createElement("div")).classList.add("jg"),H.innerHTML='<div class="kg"><div class="lg"></div></div><div class="mg"></div>',{element:H,id:""});x.appendChild(N.element);var Q=ee();I.appendChild(Q.element)}else for(var B=(0,u.jg)(x,".jg"),D=(0,u.jg)(I,".ng"),U=0;U<Math.abs(O);U++){var q=F-1-U;B[q].remove(),D[q].remove()}}for(var J=(0,u.jg)(x,".jg"),W=0;W<p;W++){var G=`g_${W}`,V=J[W],ne=(0,u.jg)(V,".mg .tf").length;if(m[G]!==ne){var ie=ne-m[G];if(ie<0)for(var ae=(0,u.aI)(V,".mg"),se=0;se<Math.abs(ie);se++){var re=Y();ae.appendChild(re.element)}else for(var oe=(0,u.jg)(V,".mg .tf"),ce=0;ce<Math.abs(ie);ce++){oe[ne-1-ce].remove()}}var de=(0,u.jg)((0,u.jg)(x,".jg")[W],".kg .lg .og").length,le=y[G].properties.length;if(le!==de){var ue=de-le;if(ue<0)for(var ve=(0,u.aI)(V,".kg"),fe=(0,u.aI)(ve,".lg"),ge=0;ge<Math.abs(ue);ge++){var he=te();fe.appendChild(he.element)}else for(var pe=(0,u.aI)(V,".kg"),me=(0,u.aI)(pe,".lg"),be=(0,u.jg)(me,".og"),ye=0;ye<Math.abs(ue);ye++){be[de-1-ye].remove()}}}for(var Ae=0;Ae<p;Ae++){var we=`g_${Ae}`,xe=(0,u.jg)(I,".ng")[Ae];xe.innerHTML=`<span>${y[we].name}</span>`,xe.style.setProperty("--hh",`${E[we].width}px`),xe.style.setProperty("--ih",Ae.toString());for(var ke=(0,u.jg)(x,".jg")[Ae],Ie=y[we].properties.length,Te=0;Te<Ie;Te++){var $e=y[we].properties[Te],Se=(0,u.jg)(ke,".kg .lg .og")[Te];if(L.hasOwnProperty("groups"))if(L.groups.hasOwnProperty(we))if(L.groups[we].properties[Te])s(Se,$e,L.groups[we].properties[Te]);else s(Se,$e,null);else s(Se,$e,null);else s(Se,$e,null)}for(var Le=0;Le<m[we];Le++){var Me=(0,u.jg)(ke,".mg .tf")[Le],_e=b[we][Le];if(L.hasOwnProperty("groupedItems"))if(L.groupedItems.hasOwnProperty(we))if(L.groupedItems[we][Le])i(Me,_e,L.groupedItems[we][Le]);else i(Me,_e,null);else i(Me,_e,null);else i(Me,_e,null)}}L=e,M=n,_=t}function ie(){return ae.apply(this,arguments)}function ae(){var e;return e=function*(){var e=(0,c.Js)("playing_animation"),t=(0,c.Js)("refresh_interval"),n=(0,g.gO)("location-bus-arrival-time-chart");N=t.dynamic,F=t.baseInterval,U=!0,D=(0,l.zx)("r"),S.setAttribute("refreshing","true"),S.classList.remove("rf"),document.addEventListener(D,V);var a=yield(0,s.R)(W,n.width,n.height,D);ne(a,!1,e);var r=0;N&&(r=yield(0,i.wz)()),Q=(new Date).getTime(),B=N?Math.max(Q+O,a.dataUpdateTime+F/r):Q+F,z=Math.max(O,B-Q),U=!1,S.setAttribute("refreshing","false"),S.style.setProperty("--qf",`${z}ms`),S.classList.add("rf")},ae=function(){var t=this,n=arguments;return new Promise((function(i,a){var s=e.apply(t,n);function r(e){b(s,i,a,r,o,"next",e)}function o(e){b(s,i,a,r,o,"throw",e)}r(void 0)}))},ae.apply(this,arguments)}function se(){ie().then((function(){q?setTimeout((function(){se()}),Math.max(O,B-(new Date).getTime())):J=!1})).catch((function(e){console.error(e),q?((0,h.a)(`地點網路連線中斷，將在${H/1e3}秒後重試。`,"error"),setTimeout((function(){se()}),H)):J=!1}))}function re(e){(0,g.WR)("Location"),(0,o.XK)("location",e),W=e,j=0,y.setAttribute("displayed","true"),x.scrollLeft=0,function(){for(var e=(0,c.Js)("playing_animation"),t=(0,g.gO)("window"),n=(t.width,t.height),i={g_0:Math.floor(n/50)+5,g_1:Math.floor(n/50)+5},a={},s=0;s<2;s++){var r=`g_${s}`;a[r]=[];for(var o=0;o<i[r];o++)a[r].push({route_name:"",route_direction:"",routeId:0,stopId:0,status:{code:8,text:"",time:-6},ranking:{number:0,text:"--",code:-1},buses:[],busArrivalTimes:[]})}ne({groupedItems:a,groupQuantity:2,groups:{g_0:{name:"載入中",properties:[{key:"0",icon:"",value:""},{key:"1",icon:"",value:""},{key:"2",icon:"",value:""}]},g_1:{name:"載入中",properties:[{key:"0",icon:"",value:""},{key:"1",icon:"",value:""},{key:"2",icon:"",value:""}]}},itemQuantity:i,LocationName:"載入中",dataUpdateTime:0},!0,e)}(),q||(q=!0,J?ie():(J=!0,se())),(0,g.Z_)()}function oe(){y.setAttribute("displayed","false"),q=!1,(0,g.l$)()}function ce(e){var t=(0,u.aI)(x,`.jg .mg .tf#${e}`),n=(0,u.aI)(t,".dg"),i=t.parentElement,a=(0,u.ji)(t,"tf"),s=a.length,r=i.getBoundingClientRect(),o=t.getBoundingClientRect().top-r.top,c="true"===t.getAttribute("stretched"),d="true"===t.getAttribute("animation");if(d){var l=c?"2":"1";t.setAttribute("stretching","true"),t.style.setProperty("--kh",`${o}px`);for(var v=0;v<s;v++){var f=a[v];f.setAttribute("push-direction",l),f.setAttribute("push-state","1")}t.addEventListener("transitionend",(function(){for(var e=0;e<s;e++){var n=a[e];n.setAttribute("push-direction","0"),n.setAttribute("push-state","0")}t.setAttribute("stretching","false")}),{once:!0}),t.addEventListener("transitionstart",(function(){for(var e=0;e<s;e++){a[e].setAttribute("push-state","2")}}),{once:!0})}c?(d?n.addEventListener("transitionend",(function(){n.setAttribute("displayed","false")}),{once:!0}):n.setAttribute("displayed","false"),t.setAttribute("stretched","false")):(n.setAttribute("displayed","true"),t.setAttribute("stretched","true"))}function de(e,t){var n,i=(0,u.aI)(x,`.jg .mg .tf#${e}`),a=(0,u.aI)(i,".dg"),s=(0,u.aI)(a,".eg"),r=p((0,u.jg)(s,'.fg[highlighted="true"][type="tab"]'));try{for(r.s();!(n=r.n()).done;){n.value.setAttribute("highlighted","false")}}catch(e){r.e(e)}finally{r.f()}switch((0,u.aI)(s,`.fg[code="${t}"]`).setAttribute("highlighted","true"),t){case 0:(0,u.aI)(i,".hg").setAttribute("displayed","true"),(0,u.aI)(i,".ig").setAttribute("displayed","false");break;case 1:(0,u.aI)(i,".hg").setAttribute("displayed","false"),(0,u.aI)(i,".ig").setAttribute("displayed","true")}}},3170:(e,t,n)=>{var i=n(5072),a=n.n(i),s=n(7825),r=n.n(s),o=n(7659),c=n.n(o),d=n(5056),l=n.n(d),u=n(8159),v=n.n(u),f=n(1113),g=n.n(f),h=n(2879),p={};p.styleTagTransform=g(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=v();a()(h.A,p),h.A&&h.A.locals&&h.A.locals},4537:(e,t,n)=>{function i(e){return`<span class="ob">${e}</span>`}n.d(t,{Z:()=>i})},4587:(e,t,n)=>{var i=n(5072),a=n.n(i),s=n(7825),r=n.n(s),o=n(7659),c=n.n(o),d=n(5056),l=n.n(d),u=n(8159),v=n.n(u),f=n(1113),g=n.n(f),h=n(6834),p={};p.styleTagTransform=g(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=v();a()(h.A,p),h.A&&h.A.locals&&h.A.locals},6082:(e,t,n)=>{n.d(t,{X:()=>m,m:()=>u});var i=n(9734),a=n(8011),s=n(9930),r=n(4293),o=n(6788),c=n(3648);function d(e,t,n,i,a,s,r){try{var o=e[s](r),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var l="downloadData",u=!1,v=(0,c.bv)(".ma"),f=(0,c.aI)(v,".ub"),g=(0,c.aI)(f,".bc"),h=(0,c.aI)(g,'svg#download-svg path[progress="progress"]');function p(e){var t=e,n=189*(1-(0,o._M)(l));h.style.setProperty("--qb",`${n}px`),"end"===t.detail.stage&&(document.removeEventListener(t.detail.target,p),h.addEventListener("transitionend",(function(){g.setAttribute("complete","true")}),{once:!0}),h.style.setProperty("--qb","0px"),u=!0)}function m(){return b.apply(this,arguments)}function b(){var e;return e=function*(){(0,o.Mf)(l,"getLocation_0",0,!1),(0,o.Mf)(l,"getLocation_1",0,!1),(0,o.Mf)(l,"getCarInfo_0",0,!1),(0,o.Mf)(l,"getCarInfo_1",0,!1),(0,o.Mf)(l,"getMaterialSymbols",0,!1),document.addEventListener(l,p),yield(0,r.a)(l,!0),yield(0,a.g)(l,1),yield(0,i.j)(l,!0),yield(0,s.z)(l),(0,o.LQ)(l),(0,o.gC)(l)},b=function(){var t=this,n=arguments;return new Promise((function(i,a){var s=e.apply(t,n);function r(e){d(s,i,a,r,o,"next",e)}function o(e){d(s,i,a,r,o,"throw",e)}r(void 0)}))},b.apply(this,arguments)}},6091:(e,t,n)=>{n.d(t,{Q:()=>S,u:()=>C});var i=n(5767),a=n(5314),s=n(3459),r=n(8024),o=n(3648),c=n(4537),d=n(904);function l(e,t,n,i,a,s,r){try{var o=e[s](r),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var s=e.apply(t,n);function r(e){l(s,i,a,r,o,"next",e)}function o(e){l(s,i,a,r,o,"throw",e)}r(void 0)}))}}var v=(0,o.bv)(".ma"),f=(0,o.aI)(v,".na"),g=(0,o.aI)(f,".oa"),h={},p=!0,m=!1,b=15e3,y=5e3,A=!0,w=!1,x=0,k=0,I="",T=!1;function $(e,t,n,i){function a(e,t,a){function s(e,t){var n=(0,o.aI)(e,".ud .vd"),i="";switch(t.type){case"route":i="route";break;case"location":i="location_on";break;case"bus":i="directions_bus";break;case"empty":i="lightbulb"}n.innerHTML=(0,c.Z)(i)}function d(e,t){var n=(0,o.aI)(e,".ud .wd"),i="";switch(t.type){case"route":i="路線";break;case"location":i="地點";break;case"bus":i="公車";break;case"empty":i="提示"}n.innerText=i}function l(e,t){(0,o.aI)(e,".ud .xd").innerText=t.time.relative}function u(e,t){(0,o.aI)(e,".yd").innerText=t.name}function v(e,t){var n="";switch(t.type){case"route":n=`bus.route.openRoute(${t.id}, [${t.pid.join(",")}])`;break;case"location":n=`bus.location.openLocation('${t.hash}')`;break;case"bus":n=`bus.bus.openBus(${t.id})`;break;case"empty":n=""}e.setAttribute("onclick",n)}function f(e,t){e.setAttribute("animation",(0,r.xZ)(t))}function g(e,t){e.setAttribute("skeleton-screen",(0,r.xZ)(t))}if(null===a)s(e,t),d(e,t),l(e,t),u(e,t),v(e,t),f(e,i),g(e,n);else if(t.type!==a.type)s(e,t),d(e,t),l(e,t),u(e,t),v(e,t),f(e,i),g(e,n);else{switch(t.type){case"location":(0,r.hw)(a.name,t.name)||u(e,t),a.time!==t.time&&l(e,t),(0,r.hw)(a.hash,t.hash)||v(e,t);break;case"route":(0,r.hw)(a.name,t.name)||u(e,t),a.time!==t.time&&l(e,t),(0,r.hw)(a.id,t.id)&&(0,r.hw)(a.pid,t.pid)||v(e,t);break;case"bus":(0,r.hw)(a.name,t.name)||u(e,t),a.time!==t.time&&l(e,t),(0,r.hw)(a.id,t.id)||v(e,t);break;case"empty":a.time!==t.time&&l(e,t)}i!==p&&f(e,i),n!==m&&g(e,n)}}var s,d=t.itemQuantity,l=(0,o.jg)(e,".sd .td").length;if(d!==l){var u=l-d;if(u<0)for(var v=(0,o.aI)(e,".sd"),f=0;f<Math.abs(u);f++){var g=(s=void 0,(s=document.createElement("div")).classList.add("td"),s.innerHTML='<div class="ud"><div class="vd"></div><div class="wd"></div><div class="xd"></div></div><div class="yd"></div>',{element:s,id:""});v.appendChild(g.element)}else for(var b=(0,o.aI)(e,".sd"),y=(0,o.jg)(b,".td"),A=0;A<Math.abs(u);A++){y[l-1-A].remove()}}for(var w=0;w<d;w++){var x=(0,o.jg)(e,".sd .td")[w];x.setAttribute("skeleton-screen",(0,r.xZ)(n));var k=t.items[w];if(h.hasOwnProperty("items"))if(h.items[w])a(x,k,h.items[w]);else a(x,k,null);else a(x,k,null)}h=t,p=i,m=n}function S(e){for(var t=(0,s.Js)("playing_animation"),n=(0,d.gO)("window"),i=Math.floor(n.height/70/3)+2,a=[],r=0;r<i;r++)a.push({type:"route",id:0,pid:[],time:{absolute:0,relative:""},name:""});$(e,{items:a,itemQuantity:a.length,dataUpdateTime:0},!0,t)}function L(){return M.apply(this,arguments)}function M(){return(M=u((function*(){var e=(0,s.Js)("playing_animation"),t=(0,s.Js)("refresh_interval");A=t.dynamic,b=t.baseInterval,I=(0,r.zx)("r");var n=yield(0,a.$i)(I);$(g,n,!1,e);var o=0;A&&(o=yield(0,i.wz)()),x=(new Date).getTime(),k=A?Math.max(x+y,n.dataUpdateTime+b/o):x+b,Math.max(y,k-x)}))).apply(this,arguments)}function _(){return j.apply(this,arguments)}function j(){return(j=u((function*(){L().then((function(){w?setTimeout((function(){_()}),Math.max(y,k-(new Date).getTime())):T=!1})).catch((function(e){console.error(e),w?setTimeout((function(){_()}),1e4):T=!1}))}))).apply(this,arguments)}function C(){S(g),w||(w=!0,T?L():(T=!0,_()))}},6741:(e,t,n)=>{var i=n(5072),a=n.n(i),s=n(7825),r=n.n(s),o=n(7659),c=n.n(o),d=n(5056),l=n.n(d),u=n(8159),v=n.n(u),f=n(1113),g=n.n(f),h=n(2546),p={};p.styleTagTransform=g(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=v();a()(h.A,p),h.A&&h.A.locals&&h.A.locals},6834:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(1354),a=n.n(i),s=n(6314),r=n.n(s)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/interface/index.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=r},9622:(e,t,n)=>{var i=n(5072),a=n.n(i),s=n(7825),r=n.n(s),o=n(7659),c=n.n(o),d=n(5056),l=n.n(d),u=n(8159),v=n.n(u),f=n(1113),g=n.n(f),h=n(9689),p={};p.styleTagTransform=g(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=v();a()(h.A,p),h.A&&h.A.locals&&h.A.locals},9660:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(1354),a=n.n(i),s=n(6314),r=n.n(s)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/interface/home/head.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=r},9689:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(1354),a=n.n(i),s=n(6314),r=n.n(s)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/interface/home/recent-views/recent-views.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=r}}]);
//# sourceMappingURL=625d98b11c5ceedf0c75.js.map