"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[1717,8289],{574(n,r,t){t.d(r,{AE:()=>o,DK:()=>y});var e=t(5428),o={vector:[0,0],id:-1,name:"未知",symbol:"?",icon:"explore"},a={vector:[0,1],id:0,name:"北",symbol:"↑",icon:"north"},u={vector:[1,0],id:1,name:"東",symbol:"→",icon:"east"},i={vector:[0,-1],id:2,name:"南",symbol:"↓",icon:"south"},l={vector:[-1,0],id:3,name:"西",symbol:"←",icon:"west"},c={vector:[Math.SQRT1_2,Math.SQRT1_2],id:4,name:"東北",symbol:"↗",icon:"north_east"},f={vector:[Math.SQRT1_2,-Math.SQRT1_2],id:5,name:"東南",symbol:"↘",icon:"south_east"},s={vector:[-Math.SQRT1_2,-Math.SQRT1_2],id:6,name:"西南",symbol:"↙",icon:"south_west"},h={vector:[-Math.SQRT1_2,Math.SQRT1_2],id:7,name:"西北",symbol:"↖",icon:"north_west"};function y(n){for(var r=[o,a,l,i,u,c,f,s,h],t=(0,e.hF)(n),y=-1/0,v=r[0],m=0,p=r;m<p.length;m++){var d=p[m],b=d.vector[0]*t[0]+d.vector[1]*t[1];b>y&&(y=b,v=d)}return v}},2129(n,r,t){function e(n,r){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,r){if(n){if("string"==typeof n)return o(n,r);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,r):void 0}}(n))||r&&n&&"number"==typeof n.length){t&&(n=t);var e=0,a=function(){};return{s:a,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){l=!0,u=n},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw u}}}}function o(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=Array(r);t<r;t++)e[t]=n[t];return e}function a(n){for(var r=0;r<n.length;r++)for(var t=r+1;t<n.length;t++)if(n[r]===n[t])return!1;return!0}function u(n,r){var t=[];if(n.length<=r.length){var o,a=e(n);try{for(a.s();!(o=a.n()).done;){var u=o.value;r.indexOf(u)>-1&&t.push(u)}}catch(n){a.e(n)}finally{a.f()}}else{var i,l=e(r);try{for(l.s();!(i=l.n()).done;){var c=i.value;n.indexOf(c)>-1&&t.push(c)}}catch(n){l.e(n)}finally{l.f()}}return t}t.d(r,{W8:()=>a,_N:()=>u})},2945(n,r,t){t.d(r,{M:()=>i,V:()=>u});var e=t(7183);function o(n,r){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,r){if(n){if("string"==typeof n)return a(n,r);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,r):void 0}}(n))||r&&n&&"number"==typeof n.length){t&&(n=t);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){l=!0,u=n},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw u}}}}function a(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=Array(r);t<r;t++)e[t]=n[t];return e}function u(n){for(var r=[],t=0;t<n;t++)r.push(`地點${(0,e.D5)(t+1)}`);return r}function i(n){var r,t=[],e=o(n);try{for(e.s();!(r=e.n()).done;){var a=r.value;t.push(`向${a.name}${a.symbol}`)}}catch(n){e.e(n)}finally{e.f()}return t}},4256(n,r,t){t.d(r,{_q:()=>c,bj:()=>i,pD:()=>l});var e=t(2129),o=t(2945);function a(n,r){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,r){if(n){if("string"==typeof n)return u(n,r);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(n,r):void 0}}(n))||r&&n&&"number"==typeof n.length){t&&(n=t);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){l=!0,a=n},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function u(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=Array(r);t<r;t++)e[t]=n[t];return e}function i(n){var r=[{suffixes:"市",key:"city",process:function(n){return null===n?null:n.map(function(n){return n.trim()})},type:0},{suffixes:"區",key:"district",process:function(n){return null===n?null:n.map(function(n){return n.trim()})},type:0},{suffixes:"鄉鎮村里",key:"area",process:function(n){return null===n?null:n.map(function(n){return n.trim()})},type:0},{suffixes:"路街道",key:"road",process:function(n){return null===n?null:n.map(function(n){return n.replaceAll(/[\(\)（）]/gim,"").trim()})},type:0},{suffixes:"段",key:"road_section",process:function(n){for(var r=function(n){switch(n){case"一":return 1;case"二":return 2;case"三":return 3;case"四":return 4;case"五":return 5;case"六":return 6;case"七":return 7;case"八":return 8;case"九":return 9;case"十":return 10}return isNaN(parseInt(n))?0:parseInt(n)},t=String(n).length,e=[],o=0;o<t;o++){var a=r(String(n).charAt(o));10===a?e.length>0&&(e=[10*e.reduce(function(n,r){return n+r},0)]):e=[e.reduce(function(n,r){return n+r},0)+a]}return e},type:0},{suffixes:"巷",key:"alley",process:function(n){return null===n?null:n.map(function(n){return parseInt(n.trim().replaceAll(/[巷]/gim))})},type:0},{suffixes:"弄",key:"alley_branch",process:function(n){return null===n?null:n.map(function(n){return parseInt(n.trim().replaceAll(/[弄]/gim))})},type:0},{suffixes:"號",key:"doorplate",process:function(n){var r,t=String(n).match(/[0-9]+/gim);return t=(null===(r=t)||void 0===r?void 0:r.map(function(n){return null===n?null:parseInt(n)}))||null},type:0},{suffixes:"樓",key:"floornumber",process:function(n){return null===n?null:n.map(function(n){return n.trim()})},type:0},{key:"exit",process:function(n){return null===n?null:n.map(function(n){return n.trim()})},type:2},{key:"direction",process:function(n){return null===n?null:n.map(function(n){return n.trim().replace(/[往向]/gim,"")})},type:1}];function t(n){function t(n,r){return 0===r?new RegExp(`([^市區鄉鎮村里路段街道巷弄號樓與]+[${n}])`,"gmi"):1===r?new RegExp("([往向]+[東南西北])","gmi"):2===r?new RegExp("([0-9]+[號]出口)","gmi"):void 0}for(var e={},o=0,a=r;o<a.length;o++){var u,i=a[o],l=t(null===(u=i)||void 0===u?void 0:u.suffixes,i.type);e[i.key]=i.process(String(n).match(l))}return e}return function(n){var e,o={},u=a(n);try{for(u.s();!(e=u.n()).done;)for(var i=t(e.value),l=0,c=r;l<c.length;l++){var f=c[l];o.hasOwnProperty(f.key)||(o[f.key]=[]),o[f.key]=o[f.key].concat(i[f.key])}}catch(n){u.e(n)}finally{u.f()}for(var s in o)o[s]=Array.from(new Set(o[s])).filter(function(n){return!!n}).sort(function(n,r){return"number"==typeof n&&"number"==typeof r?n-r:String(n).charCodeAt(0)-String(r).charCodeAt(0)});return o}(n)}function l(n){return`${n.city.join("")}${n.district.join("")}${n.road.join("、")}${n.road_section.sort(function(n,r){return n-r}).length>0?n.road_section.join("、")+"段":""}${n.alley.length>0?n.alley.sort(function(n,r){return n-r}).join("、")+"巷":""}${n.alley_branch.length>0?n.alley_branch.sort(function(n,r){return n-r}).join("、")+"弄":""}${n.doorplate.length>0?n.doorplate.sort(function(n,r){return n-r}).join("、")+"號":""}${n.floornumber.length>0?n.floornumber.join("、")+"樓":""}${n.direction.length>0?"（朝"+n.direction.join("、")+"）":""}`}function c(n){var r,t=[],u={},i=a(n);try{for(i.s();!(r=i.n()).done;){var l=r.value;for(var c in l)u.hasOwnProperty(c)||(u[c]=0),l[c].length>0&&(u[c]=u[c]+1)}}catch(n){i.e(n)}finally{i.f()}var f=Object.entries(u).map(function(n){return{key:n[0],value:n[1]}}).filter(function(r){return r.value===n.length}).sort(function(n,r){return n.value-r.value});if(f.length>0){var s,h=a(f);try{for(h.s();!(s=h.n()).done;){var y,v=s.value,m=[],p=-1/0,d=a(n);try{for(d.s();!(y=d.n()).done;){var b=y.value[v.key].join("");m.push(b);var g=b.length;g>p&&(p=g)}}catch(n){d.e(n)}finally{d.f()}(0,e.W8)(m)&&t.push({components:m,len:p})}}catch(n){h.e(n)}finally{h.f()}}if(t.length>0)return t.sort(function(n,r){return n.len-r.len}),t[0].components;var $=n.length;return(0,o.V)($)}},7183(n,r,t){function e(n,r,t,e){var o=t*Math.PI/180-n*Math.PI/180,a=e*Math.PI/180-r*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 1e3*(6378.137*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))))}function o(n){for(var r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=0;n>=1e3&&t<r.length-1;)n/=1e3,t++;return`${Math.floor(100*n)/100} ${r[t]}`}function a(n){for(var r="";n>0;){var t=(n-1)%26;r=String.fromCharCode(t+65)+r,n=Math.floor((n-1)/26)}return r}t.d(r,{D5:()=>a,aV:()=>e,tH:()=>o})},7968(n,r,t){function e(n,r,t,o){var a=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d"),u=`${r} ${t} ${o}`;return a.font=u,a.measureText(n).width}function o(n,r,t,e,o,a,u){a="number"==typeof a?{tl:a,tr:a,br:a,bl:a}:{tl:a.tl||0,tr:a.tr||0,br:a.br||0,bl:a.bl||0},n.beginPath(),n.moveTo(r+a.tl,t),n.lineTo(r+e-a.tr,t),n.quadraticCurveTo(r+e,t,r+e,t+a.tr),n.lineTo(r+e,t+o-a.br),n.quadraticCurveTo(r+e,t+o,r+e-a.br,t+o),n.lineTo(r+a.bl,t+o),n.quadraticCurveTo(r,t+o,r,t+o-a.bl),n.lineTo(r,t+a.tl),n.quadraticCurveTo(r,t,r+a.tl,t),n.closePath(),n.fillStyle=u,n.fill()}function a(n,r,t,e,o,a){var u=o="number"==typeof o?{tl:o,tr:o,br:o,bl:o}:{tl:o.tl||0,tr:o.tr||0,br:o.br||0,bl:o.bl||0},i=u.tl,l=u.tr,c=u.br,f=u.bl,s=[];return a?(0!==i&&s.push(`M${n} ${r+i}`,`Q${n} ${r} ${n+i} ${r}`,`H${n}`,`V${r+i}`),0!==l&&s.push(`M${n+t-l} ${r}`,`Q${n+t} ${r} ${n+t} ${r+l}`,`V${r}`,"H"+(n+t-l)),0!==c&&s.push(`M${n+t} ${r+e-c}`,`Q${n+t} ${r+e} ${n+t-c} ${r+e}`,`H${n+t}`,"V"+(r+e-c)),0!==f&&s.push(`M${n+f} ${r+e}`,`Q${n} ${r+e} ${n} ${r+e-f}`,`V${r+e}`,`H${n+f}`)):s.push(`M${n+i} ${r}`,"H"+(n+t-l),`Q${n+t} ${r} ${n+t} ${r+l}`,"V"+(r+e-c),`Q${n+t} ${r+e} ${n+t-c} ${r+e}`,`H${n+f}`,`Q${n} ${r+e} ${n} ${r+e-f}`,`V${r+i}`,`Q${n} ${r} ${n+i} ${r}`),s}t.d(r,{mX:()=>a,q_:()=>e,wg:()=>o})},8024(n,r,t){t.d(r,{FU:()=>l,Fx:()=>o,MR:()=>f,Zf:()=>a,hw:()=>u,p1:()=>s,xZ:()=>h,zx:()=>i});var e=t(9119),o=t(3503),a=t(4462).sha512;function u(n,r){function t(n){return JSON.stringify({e:n})}var e=t(n),a=t(r),u=e.length,i=a.length;if(u===i){if(u>32||i>32){for(var l=o(e),c=o(a),f=!0,s=0;s<8;s++){if(l.charAt(s)!==c.charAt(s)){f=!1;break}}return f}return e===a}return!1}function i(){var n=[[48,10],[97,26],[65,26]],r=Math.floor(268435456*Math.random()),t=Math.floor(268435456*Math.random()),e=new Uint8Array(17);e[0]=95;for(var o=16;o>0;o--){var a=n[t%3],u=a[0]+r%a[1];e[o]=u,r>>>=1,t>>>=1}return String.fromCharCode.apply(null,e)}function l(n){return((new Date).getTime()/n|0).toString(16)}function c(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32e3,e=URL.createObjectURL(n),o=document.createElement("a");return o.href=e,o.download=r,document.body.appendChild(o),o.click(),o.remove(),setTimeout(function(){URL.revokeObjectURL(e)},t),e}function f(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",t=arguments.length>2?arguments[2]:void 0,o=new Blob([n],{type:r}),a=new File([o],t,{type:r});navigator.canShare&&navigator.canShare({files:[a]})?navigator.share({files:[a]}).catch(function(n){(0,e.a)("download","下載資料",{text:"下載",action:function(){c(o,t)}})}):c(o,t)}function s(){return!(!("ontouchstart"in window)&&!navigator.maxTouchPoints)}function h(n){if("boolean"==typeof n)return n?"true":"false"}},8179(n,r,t){function e(n){return document.querySelector(n)}function o(n){return document.querySelectorAll(n)}function a(n,r){return n.querySelector(r)}function u(n,r){return n.querySelectorAll(r)}function i(n,r){for(var t=[],e=n.nextElementSibling;e;)e.classList.contains(r)&&t.push(e),e=e.nextElementSibling;return t}t.d(r,{aI:()=>a,bv:()=>e,e0:()=>o,jg:()=>u,ji:()=>i})},9519(n,r,t){t(4668)}}]);
//# sourceMappingURL=756b5ff0aaf7662d4127.js.map