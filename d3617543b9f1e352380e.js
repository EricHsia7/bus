"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[196],{3441(e,n,t){t.d(n,{default:()=>z});var r=t(6483),a=t(8925),i=t(5767),o=t(9566),c=t(3422),d=t(5314),l=t(3459),u=t(3251),s=t(1238),f=t(1531),p=t(4884),v=t(9499),h=t(6052),m=t(6189),y=t(8379),g=t(540),b=t(6082),w=t(6091),I=t(904),C=t(1351),k=t(3030),A=t(2174),E=t(8380),S=t(5693),L=t(7891),_=t(8279),F=t(7908),T=t(5286),x=t(4690),M=t(3041),P=t(752),D=t(5009),$=t(6104),Y=t(6166),N=t(2994),R=t(9469),H=t(8179),U=(t(4800),t(5259),t(6764),t(2547),t(8933),t(6971),t(7336),t(6561),t(6110),t(9080),t(1818),t(9590),t(1844),t(2239),t(6597),t(9991),t(3777),t(2696),t(5461),t(2421),t(3058),t(1102),t(7868),t(6388),t(3127),t(1743),t(1306),t(9731),t(245),t(4071),t(5135),t(8969),t(1003),t(4472),t(4620),t(9714),t(2681),t(124),t(3381),t(9351),t(1077),t(7037),t(9205),t(3534),t(6018),t(5392),t(1308),t(7225),t(9598),t(626),t(5504),t(6780),t(969),t(7943),t(4721),t(4263),t(3963),t(1542),t(6153),t(112),t(5374),t(5666),t(8558),t(1452),t(2676),t(1195),t(5068),t(1469),t(4935),t(321),t(6907),t(3257),t(7537),t(2503),t(1511),t(4305),t(8983),t(5995),t(5228),t(1078),t(1603),t(3749),t(7723),t(7287),t(7217),t(3425),t(6171),t(8073),t(928),t(7113),t(6340),t(6384),t(3382),t(3011),t(1484),!1),W=!1;window.bus={initialize:function(){!1===U&&(U=!0,(0,I.BM)(),(0,l.Yq)().then(function(){(0,w.Q)(),(0,g.F)(),(0,u.A)().then(function(e){if("ok"===e){(0,x.S5)(),(0,k.s_)(),(0,D.HI)(),window.addEventListener("resize",function(){(0,D.HI)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,D.HI)()}),(0,w.u)(),(0,o.Rh)().then(function(){(0,g.a)()}),(0,D.x6)();var n=(0,H.bv)(".nd .pd .qd #search_material_symbols_input");n.addEventListener("paste",function(){(0,m.Pk)(n.value)}),n.addEventListener("cut",function(){(0,m.Pk)(n.value)}),n.addEventListener("selectionchange",function(){(0,m.Pk)(n.value)}),document.addEventListener("selectionchange",function(){(0,m.Pk)(n.value)}),n.addEventListener("keyup",function(){(0,m.Pk)(n.value)}),(0,R._)(),(0,I.AE)(function(){(0,c.Db)(),(0,c.cS)().then(function(){(0,c.z9)()}),document.addEventListener("click",function(){(0,f.to)(),(0,s.q)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,I.f1)(),(0,I.AE)())}).catch(function(){(0,I.f1)(),(0,I.AE)()})}))},secondlyInitialize:function(){W||(W=!0,(0,b.X)(),(0,a.Ir)(),(0,r.$t)(),(0,d.FU)(),(0,i.g4)().then(function(){(0,i.MN)().then(function(){(0,i.cy)()})}))},route:{closeRoute:x.U7,closeRouteDetails:T.GZ},location:{closeLocation:k.eS,closeLocationDetails:C.co},folder:{closeSaveToFolder:M.n,closeFolderManager:y.m,closeFolderIconSelector:m.jW,openFolderCreator:h.pd,closeFolderCreator:h.z1,createFormulatedFolder:h.c6},search:{openSearch:D.rf,closeSearch:D.Bb,switchSearchTypeFilter:D.H2},storage:{closeStorage:N.Q},dataUsage:{closeDataUsage:v.i},personalSchedule:{closePersonalScheduleManager:L.Z,openPersonalScheduleCreator:E.I1,closePersonalScheduleCreator:E.GJ,createFormulatedPersonalSchedule:E.Ps,switchPersonalScheduleCreatorDay:E.om,openPersonalScheduleEditor:S.bF,closePersonalScheduleEditor:S.Xy,switchPersonalScheduleEditorDay:S.Dn,saveEditedPersonalSchedule:S.gv},settings:{openSettings:$.Ow,closeSettings:$.os,closeSettingsOptions:Y.wx},bus:{closeBus:p.FN},notification:{closeNotificationScheduleManager:A.m_,openRegisterNotification:F.XG,closeRegisterNotification:F.hy,saveFormulatedRegisterNotification:F.NW,closeScheduleNotification:P.b$},qrcode:{closeQRCode:_.Vc}};const z=window.bus},4884(e,n,t){t.d(n,{N4:()=>w,FN:()=>C,$l:()=>I});var r=t(467),a=t(6160),i=t(5314),o=t(3459),c=t(8179),d=t(8024),l=t(904),u=t(4537),s=[],f=!1,p=!1;function v(){var e=document.createElement("div");e.classList.add("db");var n=document.createElement("div");n.classList.add("eb"),n.appendChild((0,u.oC)());var t=document.createElement("div");return t.classList.add("fb"),e.appendChild(n),e.appendChild(t),e}function h(e,n,t){function r(e,r,a){function i(e,n){var t=(0,c.aI)(e,".eb");(0,u.yD)(t,n.icon)}function o(e,n){(0,c.aI)(e,".fb").innerText=n.value}function l(e,n){e.setAttribute("animation",n)}function s(e,n){e.setAttribute("skeleton-screen",n)}null==a?(i(e,r),o(e,r),s(e,n),l(e,t)):((0,d.hw)(a,r)||i(e,r),(0,d.hw)(a,r)||o(e,r),n!==f&&s(e,n),t!==p&&l(e,t))}var a=e.length,i=Array.from((0,c.jg)(w,".db")),o=i.length;if(a!==o){var l=o-a;if(l<0){for(var h=new DocumentFragment,m=0;m>l;m--){var y=v();h.appendChild(y),i.push(y)}w.append(h)}else if(l>0)for(var g=o-1,b=o-l-1;g>b;g--)i[g].remove(),i.splice(g,1)}for(var I=0;I<a;I++){var C=i[I],k=e[I];s[I]?r(C,k,s[I]):r(C,k,null)}s=e,p=t,f=n}var m=(0,c.bv)(".la"),y=((0,c.aI)(m,".na"),(0,c.aI)(m,".ua")),g=(0,c.aI)(y,".va"),b=(0,c.aI)(g,'.wa[group="properties"]'),w=(0,c.aI)(b,".ab");(0,c.aI)(g,'.wa[group="location"]');function I(e){(0,l.WR)("Bus"),(0,i.XK)("bus",e),m.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,l.Z_)()}function C(){m.setAttribute("displayed","false"),(0,l.l$)()}function k(){return(k=(0,r.A)(function*(e){!function(){for(var e=(0,o.Js)("playing_animation"),n=[],t=0;t<5;t++)n.push({key:t,icon:"",value:""});h(n,!0,e)}();var n=(0,o.Js)("playing_animation"),t=(0,d.zx)();h((yield(0,a.i)(e,t)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,t){t.d(n,{c6:()=>p,pd:()=>v,z1:()=>h});var r=t(9566),a=t(8179),i=t(6189),o=t(904),c=t(9119),d=(0,a.bv)("._c"),l=(0,a.aI)(d,".ed"),u=(0,a.aI)(l,".fd"),s=(0,a.aI)(u,'.gd[group="folder-name"] .kd input'),f=(0,a.aI)(u,'.gd[group="folder-icon"] .kd .ld input');function p(){var e=s.value,n=f.value;(0,r.vV)(e,n).then(function(e){e?(h(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function v(){(0,o.WR)("FolderCreator"),d.setAttribute("displayed","true"),(0,o.Z_)()}function h(){d.setAttribute("displayed","false"),(0,o.l$)()}(0,a.aI)(u,'._c .ed .fd .gd[group="folder-icon"] .kd .ld .md').onclick=function(){(0,i.r7)("creator")}},6189(e,n,t){t.d(n,{Pk:()=>C,jW:()=>A,r7:()=>k});var r=t(467),a=t(9218),i=t(6788),o=t(972),c=t(8179),d=t(8024),l=t(4781),u=t(6082),s=t(4537),f=t(904),p=t(9119);function v(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return h(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw i}}}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var m="",y=(0,c.bv)(".bc"),g=(0,c.bv)("._c"),b=(0,c.bv)(".nd");function w(e){var n=document.createElement("div");return n.classList.add("vd"),n.onclick=function(){!function(e){var n;switch(m){case"editor":n=(0,c.aI)(y,'.fc .gc .hc[group="folder-icon"] .lc .nc input');break;case"creator":n=(0,c.aI)(g,'.ed .fd .gd[group="folder-icon"] .kd .ld input')}n.value=e,A()}(e)},n.appendChild((0,s.YC)(e)),n}function I(){return(I=(0,r.A)(function*(){var e=(0,c.aI)(b,".sd .td");e.innerHTML="";var n=(0,d.zx)(),t=yield(0,a.l)(n);(0,i.LQ)(n);var r=new DocumentFragment,o=t.dictionary.split(",");for(var l in t.symbols){for(var u=l.split("_"),s=u.length-1;s>=0;s--)u.splice(s,1,o[parseInt(u[s])]);var f=w(u.join("_"));r.appendChild(f)}e.append(r)})).apply(this,arguments)}function C(e){var n=(0,c.aI)(b,".sd .ud"),t=(0,c.aI)(b,".sd .td");if(!(0,l.iO)(e)){var r,a=(0,o.U)(e),i=new DocumentFragment,d=v(a);try{for(d.s();!(r=d.n()).done;){var u=w(r.value.item);i.appendChild(u)}}catch(e){d.e(e)}finally{d.f()}n.innerHTML="",n.append(i),n.setAttribute("displayed",a.length>0?"true":"false"),t.setAttribute("displayed",a.length>0?"false":"true")}}function k(e){switch((0,f.WR)("FolderIconSelector"),e){case"editor":m="editor",(0,c.aI)(y,'.fc .gc .hc[group="folder-icon"] .lc .nc .oc');break;case"creator":m="creator",(0,c.aI)(g,'.ed .fd .gd[group="folder-icon"] .kd .ld .md')}u.m?(b.setAttribute("displayed","true"),function(){I.apply(this,arguments)}(m),(0,o.L)()):(0,p.a)("download_for_offline","資料還在下載中")}function A(){(0,f.kr)("FolderIconSelector"),b.setAttribute("displayed","false")}},8379(e,n,t){t.d(n,{g:()=>m,m:()=>y});var r=t(467),a=t(9566),i=t(8179),o=t(9333),c=t(4537),d=t(904);function l(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return u(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw i}}}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var s=(0,i.bv)(".mb"),f=(0,i.aI)(s,".rb"),p=(0,i.aI)(f,".sb");function v(e){var n=document.createElement("div");n.classList.add("tb"),n.onclick=function(){(0,o.uy)(e.id)};var t=document.createElement("div");t.classList.add("ub"),t.appendChild((0,c.YC)(e.icon));var r=document.createElement("div");r.classList.add("vb"),r.innerText=e.name;var a=document.createElement("div");a.classList.add("wb"),a.innerText=String(e.contentLength);var i=document.createElement("div");return i.classList.add("ac"),i.appendChild((0,c.YC)("arrow_forward_ios")),n.appendChild(t),n.appendChild(r),n.appendChild(a),n.appendChild(i),n}function h(){return(h=(0,r.A)(function*(){var e=yield(0,a.l9)();p.innerHTML="";var n,t=new DocumentFragment,r=l(e);try{for(r.s();!(n=r.n()).done;){var i=v(n.value);t.appendChild(i)}}catch(e){r.e(e)}finally{r.f()}p.append(t)})).apply(this,arguments)}function m(){(0,d.WR)("FolderManager"),s.setAttribute("displayed","true"),function(){h.apply(this,arguments)}()}function y(){(0,d.kr)("FolderManager"),s.setAttribute("displayed","false")}},9333(e,n,t){t.d(n,{I6:()=>E,uy:()=>A});var r=t(467),a=t(9566),i=t(8179),o=t(6189),c=t(4537),d=t(904),l=t(9119);function u(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return s(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw i}}}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var f=(0,i.bv)(".bc"),p=(0,i.aI)(f,".cc"),v=(0,i.aI)(p,".dc"),h=(0,i.aI)(f,".fc"),m=(0,i.aI)(h,".gc"),y=(0,i.aI)(m,'.hc[group="folder-name"] .lc input'),g=(0,i.aI)(m,'.hc[group="folder-icon"] .lc .nc input'),b=(0,i.aI)(m,'.hc[group="folder-icon"] .lc .nc .oc'),w=(0,i.aI)(m,'.hc[group="folder-content"] .lc');function I(e,n){var t=document.createElement("div");t.classList.add("pc"),t.setAttribute("type",n.type);var r="",i="",o="";switch(n.type){case"stop":o="location_on",r=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,i=n.name;break;case"route":o="route",r=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,i=n.name;break;case"location":o="location_on",r="地點",i=n.name;break;case"bus":r="",i=n.name;break;case"empty":o="lightbulb",r="提示",i="沒有內容";break;default:o="",r="null",i="null"}var d=document.createElement("div");d.classList.add("qc"),d.appendChild((0,c.YC)(o));var u=document.createElement("div");u.classList.add("rc"),u.innerText=r;var s=document.createElement("div");s.classList.add("tc"),s.innerText=i;var f=document.createElement("div");f.classList.add("uc");var p=document.createElement("div");p.classList.add("vc"),p.appendChild((0,c.YC)("keyboard_arrow_down")),p.onclick=function(){S(t,e.id,n.type,n.id,"up")};var v=document.createElement("div");v.classList.add("wc"),v.appendChild((0,c.YC)("keyboard_arrow_down")),v.onclick=function(){S(t,e.id,n.type,n.id,"down")};var h=document.createElement("div");h.classList.add("xc"),h.appendChild((0,c.YC)("delete")),h.onclick=function(){!function(e,n,t,r){(0,a.NC)(n,t,r).then(function(n){if(n)switch(e.remove(),t){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(t,e.id,n.type,n.id)};var m=document.createElement("div");m.classList.add("yc");var y=document.createElement("div");return y.classList.add("yc"),f.appendChild(p),f.appendChild(v),f.appendChild(h),f.appendChild(m),f.appendChild(y),t.appendChild(d),t.appendChild(u),t.appendChild(s),t.appendChild(f),t}function C(e,n){y.value=e.name,g.value=e.icon,v.onclick=function(){var n,t,r;n=e.id,t=y.value,r=g.value,(0,a.g$)(n,t,r).then(function(e){e?(E(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},w.innerHTML="";var t,r=new DocumentFragment,i=u(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=I(e,o);r.appendChild(c)}}catch(e){i.e(e)}finally{i.f()}w.append(r)}function k(){return(k=(0,r.A)(function*(e){C((0,a.L2)(e),yield(0,a.eD)(e))})).apply(this,arguments)}function A(e){(0,d.WR)("FolderEditor"),f.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,d.Z_)()}function E(){f.setAttribute("displayed","false"),(0,d.l$)()}function S(e,n,t,r,i){(0,a.bq)(n,t,r,i).then(function(n){if(n)switch(i){case"up":var t=e.previousElementSibling;t&&e.parentNode.insertBefore(e,t),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var r=e.nextElementSibling;r&&e.parentNode.insertBefore(r,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}b.onclick=function(){(0,o.r7)("editor")}},9499(e,n,t){t.d(n,{i:()=>w,k:()=>b});var r=t(467),a=t(8925),i=t(7183),o=t(8179),c=t(5579),d=t(904),l=(0,o.bv)(".wd"),u=(0,o.aI)(l,"._d"),s=(0,o.aI)(u,".ae"),f=(0,o.aI)(u,".be"),p=(0,o.aI)(f,'.ce[name="total-data-usage"] .ee'),v=(0,o.aI)(f,'.ce[name="max-data-usage-per-minute"] .ee'),h=(0,o.aI)(f,'.ce[name="min-data-usage-per-minute"] .ee'),m=(0,o.aI)(f,'.ce[name="start-time"] .ee'),y=(0,o.aI)(f,'.ce[name="end-time"] .ee');function g(){return(g=(0,r.A)(function*(){var e=(0,d.gO)("window"),n=e.width,t=Math.min(5/18*n,.33*e.height),r=yield(0,a.LN)(n,t,20);p.innerText=(0,i.tH)(r.stats.sum),v.innerText=(0,i.tH)(r.stats.max),h.innerText=(0,i.tH)(r.stats.min),m.innerText=(0,c.$T)(r.period.start,"YYYY-MM-DD"),y.innerText=(0,c.$T)(r.period.end,"YYYY-MM-DD"),s.innerHTML=r.chart})).apply(this,arguments)}function b(){(0,d.WR)("DataUsage"),l.setAttribute("displayed","true"),function(){g.apply(this,arguments)}(),(0,d.Z_)()}function w(){l.setAttribute("displayed","false"),(0,d.l$)()}}}]);
//# sourceMappingURL=d3617543b9f1e352380e.js.map