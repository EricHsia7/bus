{"version":3,"file":"75f7049e32ab8856db59.js","mappings":"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","sources":["webpack://bus/./src/index.ts","webpack://bus/./src/interface/bus/properties.ts","webpack://bus/./src/interface/bus/index.ts","webpack://bus/./src/interface/data-usage/index.ts"],"sourcesContent":["import { recoverBusArrivalTimeDataFromWriteAheadLog } from './data/analytics/bus-arrival-time/index';\r\nimport { discardExpiredDataUsageStats } from './data/analytics/data-usage/index';\r\nimport { discardExpiredUpdateRateDataGroups, initializeUpdateRateDataGroups, recoverUpdateRateDataFromWriteAheadLog } from './data/analytics/update-rate/index';\r\nimport { initializeFolderList } from './data/folder/index';\r\nimport { discardExpiredNotificationSchedules, initializeNotificationSchedules, loadNotificationClient } from './data/notification/index';\r\nimport { discardExpiredRecentViews } from './data/recent-views/index';\r\nimport { initializeSettings } from './data/settings/index';\r\nimport { checkAppVersion } from './data/settings/version';\r\nimport { askForCalibratingPermission } from './data/user-orientation/index';\r\nimport { askForPositioningPermission } from './data/user-position/index';\r\nimport { closeBus, openBus } from './interface/bus/index';\r\nimport { closeDataUsage } from './interface/data-usage/index';\r\nimport { closeFolderCreator, createFormulatedFolder, openFolderCreator } from './interface/folder-creator/index';\r\nimport { closeFolderEditor, saveEditedFolder } from './interface/folder-editor/index';\r\nimport { closeFolderIconSelector, openFolderIconSelector, updateMaterialSymbolsSearchResult } from './interface/folder-icon-selector/index';\r\nimport { closeFolderManager } from './interface/folder-manager/index';\r\nimport { initializeFolders, setUpFolderFieldSkeletonScreen } from './interface/home/folders/index';\r\nimport { downloadData } from './interface/home/index';\r\nimport { initializeRecentViews, setUpRecentViewsFieldSkeletonScreen } from './interface/home/recent-views/index';\r\nimport { fadeOutSplashScreen, setSplashScreenIconOffsetY, showErrorMessage } from './interface/index';\r\nimport { closeLocationDetails } from './interface/location/details/index';\r\nimport { closeLocation, initializeLocationSliding, openLocation } from './interface/location/index';\r\nimport { cancelNotificationOnNotificationScheduleManager, closeNotificationScheduleManager, openNotificationScheduleManager } from './interface/notification-schedule-manager/index';\r\nimport { closePersonalScheduleCreator, createFormulatedPersonalSchedule, openPersonalScheduleCreator, switchPersonalScheduleCreatorDay } from './interface/personal-schedule-creator/index';\r\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor, saveEditedPersonalSchedule, switchPersonalScheduleEditorDay } from './interface/personal-schedule-editor/index';\r\nimport { closePersonalScheduleManager } from './interface/personal-schedule-manager/index';\r\nimport { closeQRCode, openQRCode } from './interface/qrcode/index';\r\nimport { closeRegisterNotification, openRegisterNotification, saveFormulatedRegisterNotification } from './interface/register-notification/index';\r\nimport { closeRouteDetails } from './interface/route/details/index';\r\nimport { closeRoute, initializeRouteSliding, switchRoute } from './interface/route/index';\r\nimport { closeSaveToFolder, openSaveToFolder } from './interface/save-to-folder/index';\r\nimport { closeScheduleNotification, openScheduleNotification, scheduleNotificationForStopItemOnLocation, scheduleNotificationForStopItemOnRoute } from './interface/schedule-notification/index';\r\nimport { closeSearch, openSearch, resizeSearchInputCanvas, switchSearchTypeFilter, updateSearchInput, updateSearchResult } from './interface/search/index';\r\nimport { closeSettings, downloadExportFile, openFileToImportData, openSettings, showPromptToAskForPersistentStorage, viewCommitOfCurrentVersion } from './interface/settings/index';\r\nimport { closeSettingsOptions, openSettingsOptions, settingsOptionsHandler } from './interface/settings/options';\r\nimport { closeStorage } from './interface/storage/index';\r\nimport { openPermalink } from './tools/permalink';\r\nimport { documentQuerySelector } from './tools/query-selector';\r\n\r\nimport './interface/theme.css';\r\n\r\nimport './interface/index.css';\r\n\r\nimport './interface/icons/index.css';\r\n\r\nimport './interface/animation.css';\r\n\r\nimport './interface/home/field.css';\r\nimport './interface/home/head.css';\r\nimport './interface/home/body.css';\r\n\r\nimport './interface/home/recent-views/recent-views.css';\r\nimport './interface/home/recent-views/item.css';\r\n\r\nimport './interface/home/folders/folders.css';\r\nimport './interface/home/folders/item.css';\r\n\r\nimport './interface/search/field.css';\r\nimport './interface/search/head.css';\r\nimport './interface/search/body.css';\r\nimport './interface/search/keyboard.css';\r\n\r\nimport './interface/route/field.css';\r\nimport './interface/route/head.css';\r\nimport './interface/route/groups.css';\r\nimport './interface/route/item.css';\r\nimport './interface/route/thread.css';\r\nimport './interface/route/index.css';\r\n\r\nimport './interface/route/details/field.css';\r\nimport './interface/route/details/head.css';\r\nimport './interface/route/details/body.css';\r\nimport './interface/route/details/groups.css';\r\nimport './interface/route/details/actions.css';\r\nimport './interface/route/details/properties.css';\r\nimport './interface/route/details/calendar.css';\r\n\r\nimport './interface/location/field.css';\r\nimport './interface/location/head.css';\r\nimport './interface/location/groups.css';\r\nimport './interface/location/group-details.css';\r\nimport './interface/location/group-items.css';\r\nimport './interface/location/index.css';\r\n\r\nimport './interface/location/details/field.css';\r\nimport './interface/location/details/head.css';\r\nimport './interface/location/details/body.css';\r\nimport './interface/location/details/actions.css';\r\nimport './interface/location/details/index.css';\r\n\r\nimport './interface/bus/field.css';\r\nimport './interface/bus/head.css';\r\nimport './interface/bus/body.css';\r\nimport './interface/bus/groups.css';\r\nimport './interface/bus/properties.css';\r\n\r\nimport './interface/settings/index.css';\r\n\r\nimport './interface/save-to-folder/field.css';\r\nimport './interface/save-to-folder/head.css';\r\nimport './interface/save-to-folder/body.css';\r\nimport './interface/save-to-folder/list.css';\r\nimport './interface/save-to-folder/item.css';\r\n\r\nimport './interface/folder-manager/field.css';\r\nimport './interface/folder-manager/head.css';\r\nimport './interface/folder-manager/body.css';\r\nimport './interface/folder-manager/list.css';\r\nimport './interface/folder-manager/item.css';\r\n\r\nimport './interface/folder-editor/field.css';\r\nimport './interface/folder-editor/head.css';\r\nimport './interface/folder-editor/body.css';\r\nimport './interface/folder-editor/groups.css';\r\nimport './interface/folder-editor/folder-name.css';\r\nimport './interface/folder-editor/folder-icon.css';\r\nimport './interface/folder-editor/folder-content.css';\r\n\r\nimport './interface/folder-creator/field.css';\r\nimport './interface/folder-creator/head.css';\r\nimport './interface/folder-creator/body.css';\r\nimport './interface/folder-creator/groups.css';\r\nimport './interface/folder-creator/folder-name.css';\r\nimport './interface/folder-creator/folder-icon.css';\r\n\r\nimport './interface/folder-icon-selector/field.css';\r\nimport './interface/folder-icon-selector/head.css';\r\nimport './interface/folder-icon-selector/body.css';\r\nimport './interface/folder-icon-selector/symbols.css';\r\n\r\nimport './interface/personal-schedule-manager/field.css';\r\nimport './interface/personal-schedule-manager/head.css';\r\nimport './interface/personal-schedule-manager/body.css';\r\nimport './interface/personal-schedule-manager/list.css';\r\nimport './interface/personal-schedule-manager/item.css';\r\n\r\nimport './interface/personal-schedule-creator/field.css';\r\nimport './interface/personal-schedule-creator/head.css';\r\nimport './interface/personal-schedule-creator/body.css';\r\nimport './interface/personal-schedule-creator/groups.css';\r\nimport './interface/personal-schedule-creator/schedule-name.css';\r\nimport './interface/personal-schedule-creator/schedule-start-time.css';\r\nimport './interface/personal-schedule-creator/schedule-end-time.css';\r\nimport './interface/personal-schedule-creator/schedule-days.css';\r\n\r\nimport './interface/personal-schedule-editor/field.css';\r\nimport './interface/personal-schedule-editor/head.css';\r\nimport './interface/personal-schedule-editor/body.css';\r\nimport './interface/personal-schedule-editor/groups.css';\r\nimport './interface/personal-schedule-editor/schedule-name.css';\r\nimport './interface/personal-schedule-editor/schedule-start-time.css';\r\nimport './interface/personal-schedule-editor/schedule-end-time.css';\r\nimport './interface/personal-schedule-editor/schedule-days.css';\r\n\r\nimport './interface/notification-schedule-manager/field.css';\r\nimport './interface/notification-schedule-manager/head.css';\r\nimport './interface/notification-schedule-manager/body.css';\r\nimport './interface/notification-schedule-manager/list.css';\r\nimport './interface/notification-schedule-manager/item.css';\r\n\r\nimport './interface/register-notification/field.css';\r\nimport './interface/register-notification/head.css';\r\nimport './interface/register-notification/body.css';\r\nimport './interface/register-notification/groups.css';\r\nimport './interface/register-notification/provider.css';\r\nimport './interface/register-notification/registration-key.css';\r\n\r\nimport './interface/schedule-notification/field.css';\r\nimport './interface/schedule-notification/head.css';\r\nimport './interface/schedule-notification/body.css';\r\nimport './interface/schedule-notification/list.css';\r\nimport './interface/schedule-notification/item.css';\r\n\r\nimport './interface/data-usage/field.css';\r\nimport './interface/data-usage/head.css';\r\nimport './interface/data-usage/body.css';\r\nimport './interface/data-usage/chart.css';\r\nimport './interface/data-usage/statistics.css';\r\n\r\nimport './interface/storage/field.css';\r\nimport './interface/storage/head.css';\r\nimport './interface/storage/body.css';\r\nimport './interface/storage/statistics.css';\r\nimport './interface/storage/index.css';\r\n\r\nimport './interface/qrcode/field.css';\r\nimport './interface/qrcode/head.css';\r\nimport './interface/qrcode/body.css';\r\nimport './interface/qrcode/qrcode.css';\r\n\r\nimport './interface/prompt/index.css';\r\n\r\nlet busInitialized = false;\r\nlet busSecondlyInitialized = false;\r\n\r\nwindow.bus = {\r\n  initialize: function () {\r\n    if (busInitialized === false) {\r\n      busInitialized = true;\r\n      setSplashScreenIconOffsetY();\r\n      initializeSettings().then(function () {\r\n        setUpRecentViewsFieldSkeletonScreen();\r\n        setUpFolderFieldSkeletonScreen();\r\n        checkAppVersion()\r\n          .then((status) => {\r\n            if (status === 'ok') {\r\n              initializeRouteSliding();\r\n              initializeLocationSliding();\r\n              resizeSearchInputCanvas();\r\n              window.addEventListener('resize', () => {\r\n                resizeSearchInputCanvas();\r\n              });\r\n              if (screen) {\r\n                if (screen.orientation) {\r\n                  screen.orientation.addEventListener('change', () => {\r\n                    resizeSearchInputCanvas();\r\n                  });\r\n                }\r\n              }\r\n              initializeRecentViews();\r\n              initializeFolderList().then(() => {\r\n                initializeFolders();\r\n              });\r\n              const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n              const searchInputElement = documentQuerySelector('.css_search_field .css_search_head .css_search_search_input #search_input') as HTMLInputElement;\r\n              mediaQuery.addEventListener('change', function () {\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('paste', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('cut', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('selectionchange', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              document.addEventListener('selectionchange', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('keyup', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n\r\n              const searchMaterialSymbolsInputElement = documentQuerySelector('.css_folder_icon_selector_field .css_folder_icon_selector_head .css_folder_icon_selector_search_input #search_material_symbols_input') as HTMLInputElement;\r\n              searchMaterialSymbolsInputElement.addEventListener('paste', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('cut', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              document.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('keyup', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              openPermalink();\r\n              fadeOutSplashScreen(function () {\r\n                loadNotificationClient();\r\n                initializeNotificationSchedules().then(function () {\r\n                  discardExpiredNotificationSchedules();\r\n                });\r\n                document.addEventListener(\r\n                  'click',\r\n                  function () {\r\n                    askForPositioningPermission();\r\n                    askForCalibratingPermission();\r\n                  },\r\n                  { once: true }\r\n                );\r\n              });\r\n            }\r\n            if (status === 'fetchError' || status === 'unknownError') {\r\n              showErrorMessage();\r\n              fadeOutSplashScreen();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            showErrorMessage();\r\n            fadeOutSplashScreen();\r\n          });\r\n      });\r\n    }\r\n  },\r\n  secondlyInitialize: function () {\r\n    if (!busSecondlyInitialized) {\r\n      busSecondlyInitialized = true;\r\n      downloadData();\r\n      discardExpiredUpdateRateDataGroups();\r\n      discardExpiredDataUsageStats();\r\n      recoverBusArrivalTimeDataFromWriteAheadLog();\r\n      discardExpiredRecentViews();\r\n      discardExpiredUpdateRateDataGroups().then(function () {\r\n        initializeUpdateRateDataGroups().then(function () {\r\n          recoverUpdateRateDataFromWriteAheadLog();\r\n        });\r\n      });\r\n    }\r\n  },\r\n  route: {\r\n    closeRoute,\r\n    switchRoute,\r\n    closeRouteDetails\r\n  },\r\n  location: {\r\n    openLocation,\r\n    closeLocation,\r\n    closeLocationDetails\r\n  },\r\n  folder: {\r\n    openSaveToFolder,\r\n    closeSaveToFolder,\r\n    closeFolderManager,\r\n    closeFolderEditor,\r\n    openFolderIconSelector,\r\n    closeFolderIconSelector,\r\n    openFolderCreator,\r\n    closeFolderCreator,\r\n    createFormulatedFolder,\r\n    saveEditedFolder\r\n  },\r\n  search: {\r\n    openSearch,\r\n    closeSearch,\r\n    switchSearchTypeFilter\r\n  },\r\n  storage: {\r\n    closeStorage\r\n  },\r\n  dataUsage: {\r\n    closeDataUsage\r\n  },\r\n  personalSchedule: {\r\n    closePersonalScheduleManager,\r\n    openPersonalScheduleCreator,\r\n    closePersonalScheduleCreator,\r\n    createFormulatedPersonalSchedule,\r\n    switchPersonalScheduleCreatorDay,\r\n    openPersonalScheduleEditor,\r\n    closePersonalScheduleEditor,\r\n    switchPersonalScheduleEditorDay,\r\n    saveEditedPersonalSchedule\r\n  },\r\n  settings: {\r\n    openSettings,\r\n    closeSettings,\r\n    openSettingsOptions,\r\n    closeSettingsOptions,\r\n    settingsOptionsHandler,\r\n    downloadExportFile,\r\n    openFileToImportData,\r\n    viewCommitOfCurrentVersion,\r\n    showPromptToAskForPersistentStorage\r\n  },\r\n  bus: {\r\n    openBus,\r\n    closeBus\r\n  },\r\n  notification: {\r\n    openNotificationScheduleManager,\r\n    closeNotificationScheduleManager,\r\n    openRegisterNotification,\r\n    closeRegisterNotification,\r\n    saveFormulatedRegisterNotification,\r\n    openScheduleNotification,\r\n    closeScheduleNotification,\r\n    scheduleNotificationForStopItemOnRoute,\r\n    scheduleNotificationForStopItemOnLocation,\r\n    cancelNotificationOnNotificationScheduleManager\r\n  },\r\n  qrcode: {\r\n    openQRCode,\r\n    closeQRCode\r\n  }\r\n};\r\n\r\nexport default window.bus;\r\n","import { getSettingOptionValue } from '../../data/settings/index';\nimport { compareThings } from '../../tools/index';\nimport { elementQuerySelector, elementQuerySelectorAll } from '../../tools/query-selector';\nimport { getIconHTML } from '../icons/index';\nimport { GeneratedElement } from '../index';\n\nlet previousProperties = [];\nlet previousSkeletonScreen: boolean = false;\nlet previousAnimation: boolean = true;\n\nfunction generateElementOfBusProperty(): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_bus_property');\n\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_bus_property_icon');\n\n  const valueElement = document.createElement('div');\n  valueElement.classList.add('css_bus_property_value');\n\n  element.appendChild(iconElement);\n  element.appendChild(valueElement);\n\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nexport function setUpBusPropertiesFieldSkeletonScreen(Field: HTMLElement) {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  let properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: 'none',\n      value: ''\n    });\n  }\n  updateBusPropertiesField(Field, properties, true, playing_animation);\n}\n\nexport function updateBusPropertiesField(Field: HTMLElement, properties: Array, skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_icon').innerHTML = getIconHTML(thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', animation);\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', skeletonScreen);\n    }\n\n    if (previousProperty === null) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n\n  // Field.setAttribute('skeleton-screen', skeletonScreen);\n\n  const currentPropertySeatQuantity = elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`).length;\n  if (propertyQuantity !== currentPropertySeatQuantity) {\n    const capacity = currentPropertySeatQuantity - propertyQuantity;\n    if (capacity < 0) {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        // const propertyIndex = currentPropertySeatQuantity + o;\n        const newPropertyElement = generateElementOfBusProperty(skeletonScreen);\n        elementQuerySelector(Field, '.css_bus_group_body').appendChild(newPropertyElement.element);\n      }\n    } else {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const propertyIndex = currentPropertySeatQuantity - 1 - o;\n        elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`)[propertyIndex].remove();\n      }\n    }\n  }\n\n  const propertyElements = elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`);\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties.length === 0) {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { integrateBus } from '../../data/bus/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { generateIdentifier } from '../../tools/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/query-selector';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { setUpBusPropertiesFieldSkeletonScreen, updateBusPropertiesField } from './properties';\n\nconst BusField = documentQuerySelector('.css_bus_field');\nconst BusHead = elementQuerySelector(BusField, '.css_bus_head');\nconst BusBody = elementQuerySelector(BusField, '.css_bus_body');\nconst BusGroups = elementQuerySelector(BusBody, '.css_bus_groups');\nconst BusGroupProperties = elementQuerySelector(BusGroups, '.css_bus_group[group=\"properties\"]');\nconst BusGroupLocation = elementQuerySelector(BusGroups, '.css_bus_group[group=\"location\"]');\n\nexport function openBus(id: number): void {\n  pushPageHistory('Bus');\n  logRecentView('bus', id);\n  BusField.setAttribute('displayed', 'true');\n  initializeBusPage(id);\n  closePreviousPage();\n}\n\nexport function closeBus(): void {\n  // revokePageHistory('Bus');\n  BusField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nasync function initializeBusPage(id: number) {\n  setUpBusPropertiesFieldSkeletonScreen(BusGroupProperties);\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const integration = await integrateBus(id, requestID);\n  updateBusPropertiesField(BusGroupProperties, integration.properties, false, playing_animation);\n}\n\nfunction updateBusField(Field: HTMLElement, integration: object, skeletonScreen: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisItem: object): void {}\n  function updateLocation(thisElement: HTMLElement, thisItem: object): void {}\n}\n","import { getDataUsageStats } from '../../data/analytics/data-usage/index';\nimport { convertBytes } from '../../tools/convert';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/query-selector';\nimport { dateToString } from '../../tools/time';\nimport { closePreviousPage, openPreviousPage, pushPageHistory, querySize } from '../index';\n\nconst dataUsageField = documentQuerySelector('.css_data_usage_field');\nconst dataUsageBodyElement = elementQuerySelector(dataUsageField, '.css_data_usage_body');\nconst chartElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_chart');\nconst statisticsElement = elementQuerySelector(dataUsageBodyElement, '.css_data_usage_statistics');\nconst totalDataUsageElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"total-data-usage\"] .css_data_usage_statistics_item_value');\nconst startTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"start-time\"] .css_data_usage_statistics_item_value');\nconst endTimeElement = elementQuerySelector(statisticsElement, '.css_data_usage_statistics_item[name=\"end-time\"] .css_data_usage_statistics_item_value');\n\nasync function initializeDataUsage() {\n  const WindowSize = querySize('window');\n  const graphWidth = WindowSize.width;\n  const graphHeight = Math.min((5 / 18) * graphWidth, WindowSize.height * 0.33);\n  const stats = await getDataUsageStats(graphWidth, graphHeight, 20);\n  totalDataUsageElement.innerText = convertBytes(stats.stats.sum);\n  startTimeElement.innerText = dateToString(stats.period.start, 'YYYY-MM-DD');\n  endTimeElement.innerText = dateToString(stats.period.end, 'YYYY-MM-DD');\n  chartElement.innerHTML = stats.chart;\n}\n\nexport function openDataUsage(): void {\n  pushPageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'true');\n  initializeDataUsage();\n  closePreviousPage();\n}\n\nexport function closeDataUsage(): void {\n  // revokePageHistory('DataUsage');\n  dataUsageField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n"],"names":["busInitialized","busSecondlyInitialized","window","bus","initialize","setSplashScreenIconOffsetY","initializeSettings","then","setUpRecentViewsFieldSkeletonScreen","setUpFolderFieldSkeletonScreen","checkAppVersion","status","initializeRouteSliding","initializeLocationSliding","resizeSearchInputCanvas","addEventListener","screen","orientation","initializeRecentViews","initializeFolderList","initializeFolders","mediaQuery","matchMedia","searchInputElement","documentQuerySelector","updateSearchInput","selectionStart","selectionEnd","updateSearchResult","document","searchMaterialSymbolsInputElement","updateMaterialSymbolsSearchResult","value","openPermalink","fadeOutSplashScreen","loadNotificationClient","initializeNotificationSchedules","discardExpiredNotificationSchedules","askForPositioningPermission","askForCalibratingPermission","once","showErrorMessage","secondlyInitialize","downloadData","discardExpiredUpdateRateDataGroups","discardExpiredDataUsageStats","recoverBusArrivalTimeDataFromWriteAheadLog","discardExpiredRecentViews","initializeUpdateRateDataGroups","recoverUpdateRateDataFromWriteAheadLog","route","closeRoute","switchRoute","closeRouteDetails","location","openLocation","closeLocation","closeLocationDetails","folder","openSaveToFolder","closeSaveToFolder","closeFolderManager","closeFolderEditor","openFolderIconSelector","closeFolderIconSelector","openFolderCreator","closeFolderCreator","createFormulatedFolder","saveEditedFolder","search","openSearch","closeSearch","switchSearchTypeFilter","storage","closeStorage","dataUsage","closeDataUsage","personalSchedule","closePersonalScheduleManager","openPersonalScheduleCreator","closePersonalScheduleCreator","createFormulatedPersonalSchedule","switchPersonalScheduleCreatorDay","openPersonalScheduleEditor","closePersonalScheduleEditor","switchPersonalScheduleEditorDay","saveEditedPersonalSchedule","settings","openSettings","closeSettings","openSettingsOptions","closeSettingsOptions","settingsOptionsHandler","downloadExportFile","openFileToImportData","viewCommitOfCurrentVersion","showPromptToAskForPersistentStorage","openBus","closeBus","notification","openNotificationScheduleManager","closeNotificationScheduleManager","openRegisterNotification","closeRegisterNotification","saveFormulatedRegisterNotification","openScheduleNotification","closeScheduleNotification","scheduleNotificationForStopItemOnRoute","scheduleNotificationForStopItemOnLocation","cancelNotificationOnNotificationScheduleManager","qrcode","openQRCode","closeQRCode","previousProperties","previousSkeletonScreen","previousAnimation","generateElementOfBusProperty","element","createElement","classList","add","iconElement","valueElement","appendChild","id","updateBusPropertiesField","Field","properties","skeletonScreen","animation","updateProperty","thisElement","thisProperty","previousProperty","updateIcon","elementQuerySelector","innerHTML","getIconHTML","icon","updateValue","innerText","updateAnimation","setAttribute","updateSkeletonScreen","compareThings","propertyQuantity","length","currentPropertySeatQuantity","elementQuerySelectorAll","capacity","o","Math","abs","newPropertyElement","propertyIndex","remove","propertyElements","i","thisPropertyElement","BusField","BusBody","BusGroups","BusGroupProperties","pushPageHistory","logRecentView","_x","_initializeBusPage","apply","arguments","initializeBusPage","closePreviousPage","openPreviousPage","playing_animation","getSettingOptionValue","push","key","setUpBusPropertiesFieldSkeletonScreen","requestID","generateIdentifier","integration","integrateBus","dataUsageField","dataUsageBodyElement","chartElement","statisticsElement","totalDataUsageElement","startTimeElement","endTimeElement","_initializeDataUsage","WindowSize","querySize","graphWidth","width","graphHeight","min","height","stats","getDataUsageStats","convertBytes","sum","dateToString","period","start","end","chart","openDataUsage","initializeDataUsage"],"sourceRoot":""}