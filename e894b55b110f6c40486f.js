"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,a,n){n.d(a,{default:()=>O});var t,i,r=n(467),o=n(6483),d=n(8925),c=n(5767),l=n(9566),s=n(3422),u=n(5314),p=n(3459),f=n(3251),h=n(1238),v=n(1531),b=n(4884),y=n(9499),g=n(6052),m=n(4294),w=n(8379),q=n(540),C=n(6082),k=n(6091),L=n(904),S=n(1351),x=n(3030),T=n(2174),_=n(8380),A=n(5693),D=n(7891),F=n(8279),E=n(7908),M=n(4373),P=n(4690),z=n(3041),Y=n(752),B=n(5009),N=n(6104),R=n(6166),U=n(2994),$=n(9469),j=n(4131),H=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(5328),n(3796),n(9354),n(3377),n(1828),n(4680),n(7820),n(1580),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(5297),n(7499),n(4953),n(7114),n(9657),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),I=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!H){H=!0,(0,L.g)(),yield(0,p.d)(),yield(0,l.c)(),(0,k.b)(),(0,q.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,k.a)(),(0,q.a)(),(0,P.c)(),(0,x.c)(),(0,B.c)(),(0,m.c)(),(0,B.e)(),window.addEventListener("resize",function(){(0,B.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,B.e)()}),(0,L.a)(function(){document.addEventListener("click",function(){(0,v.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,L.h)(),(0,L.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(t=(0,r.a)(function*(){I||(I=!0,yield(0,s.i)(),yield(0,s.g)(),yield(0,s.d)(),yield(0,C.b)(),yield(0,o.c)(),yield(0,c.b)(),yield(0,u.a)(),yield(0,d.b)(),yield(0,c.d)(),yield(0,c.e)())}),function(){return t.apply(this,arguments)}),route:{closeRoute:P.a,closeRouteDetails:M.a,closeRouteCalendar:j.a},location:{closeLocation:x.a,closeLocationDetails:S.a},folder:{closeSaveToFolder:z.a,closeFolderManager:w.a,closeIconSelector:m.a,closeFolderCreator:g.a},search:{openSearch:B.d,closeSearch:B.a,switchSearchTypeFilter:B.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:_.d,closePersonalScheduleCreator:_.a,createFormulatedPersonalSchedule:_.b,switchPersonalScheduleCreatorDay:_.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:N.f,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:b.b},notification:{closeNotificationScheduleManager:T.a,openRegisterNotification:E.b,closeScheduleNotification:Y.a},qrcode:{closeQRCode:F.a}};const O=window.bus},4884(e,a,n){n.d(a,{a:()=>w,b:()=>L,c:()=>C,d:()=>k,e:()=>q});var t=n(467),i=n(6160),r=n(5314),o=n(3459),d=n(8179),c=n(8024),l=n(904),s=n(4537),u=[],p=!1,f=!1;function h(){var e=(0,d.a)();e.classList.add("vp");var a=(0,d.a)();a.classList.add("wp"),a.appendChild((0,s.a)());var n=(0,d.a)();return n.classList.add("xp"),e.appendChild(a),e.appendChild(n),e}function v(e,a,n){function t(e,t,i){function r(e,a){var n=(0,d.e)(e,".wp");(0,s.c)(n,a.icon)}function o(e,a){(0,d.e)(e,".xp").innerText=a.value}function l(e,a){e.setAttribute("animation",a)}function u(e,a){e.setAttribute("skeleton-screen",a)}null==i?(r(e,t),o(e,t),u(e,a),l(e,n)):((0,c.b)(i,t)||r(e,t),(0,c.b)(i,t)||o(e,t),a!==p&&u(e,a),n!==f&&l(e,n))}var i=e.length,r=Array.from((0,d.d)(w,".vp")),o=r.length;if(i!==o){var l=o-i;if(l<0){for(var v=new DocumentFragment,b=0;b>l;b--){var y=h();v.appendChild(y),r.push(y)}w.append(v)}else if(l>0)for(var g=o-1,m=o-l-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var q=0;q<i;q++){var C=r[q],k=e[q];u[q]?t(C,k,u[q]):t(C,k,null)}u=e,f=n,p=a}var b=(0,d.c)(".jp"),y=((0,d.e)(b,".kp"),(0,d.e)(b,".op")),g=(0,d.e)(y,".pp"),m=(0,d.e)(g,'.qp[group="properties"]'),w=(0,d.e)(m,".up");(0,d.e)(g,'.qp[group="location"]');function q(){b.setAttribute("displayed","true")}function C(){b.setAttribute("displayed","false")}function k(e){(0,l.c)("Bus"),(0,r.e)("bus",e),q(),function(e){S.apply(this,arguments)}(e),(0,l.b)()}function L(){C(),(0,l.i)(),(0,l.e)("Bus")}function S(){return(S=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),a=[],n=0;n<5;n++)a.push({key:n,icon:"",value:""});v(a,!0,e)}();var a=(0,o.b)("playing_animation"),n=(0,c.c)();v((yield(0,i.a)(e,n)).properties,!1,a)})).apply(this,arguments)}},9499(e,a,n){n.d(a,{a:()=>C,b:()=>w,c:()=>q,d:()=>m});var t=n(467),i=n(8925),r=n(7183),o=n(8179),d=n(5579),c=n(904),l=(0,o.c)(".sr"),s=(0,o.e)(l,".wr"),u=(0,o.e)(s,".xr"),p=(0,o.e)(s,".yr"),f=(0,o.e)(p,'.zr[name="total-data-usage"] .as'),h=(0,o.e)(p,'.zr[name="max-data-usage-per-minute"] .as'),v=(0,o.e)(p,'.zr[name="min-data-usage-per-minute"] .as'),b=(0,o.e)(p,'.zr[name="start-time"] .as'),y=(0,o.e)(p,'.zr[name="end-time"] .as');function g(){return(g=(0,t.a)(function*(){var e=(0,c.d)("window"),a=e.width,n=Math.min(5/18*a,.33*e.height),t=yield(0,i.c)(a,n,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),v.innerText=(0,r.a)(t.stats.min),b.innerText=(0,d.c)(t.period.start,"YYYY-MM-DD"),y.innerText=(0,d.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function m(){l.setAttribute("displayed","true")}function w(){l.setAttribute("displayed","false")}function q(){(0,c.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,c.b)()}function C(){w(),(0,c.i)(),(0,c.e)("DataUsage")}},6052(e,a,n){n.d(a,{a:()=>x,b:()=>L,c:()=>S,d:()=>k});var t=n(467),i=n(9566),r=n(8179),o=n(4294),d=n(904),c=n(9119),l=(0,r.c)(".er"),s=(0,r.e)(l,".fr"),u=(0,r.e)(s,".hr"),p=(0,r.e)(l,".jr"),f=(0,r.e)(p,".kr"),h=(0,r.e)(f,'.lr[group="folder-name"]'),v=(0,r.e)(h,".pr"),b=(0,r.e)(v,"input"),y=(0,r.e)(f,'.lr[group="folder-icon"]'),g=(0,r.e)(y,".pr"),m=(0,r.e)(g,".qr input"),w=(0,r.e)(f,".qr .rr");function q(){return(q=(0,t.a)(function*(e){var a=b.value,n=m.value;(yield(0,i.a)(a,n))?(x(),(0,c.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,c.a)("error","無法建立資料夾")})).apply(this,arguments)}function C(e){b.value="",m.value="",u.onclick=function(){!function(e){q.apply(this,arguments)}(e)},w.onclick=function(){(0,o.d)(m)}}function k(){l.setAttribute("displayed","true")}function L(){l.setAttribute("displayed","false")}function S(e){(0,d.c)("FolderCreator"),C(e),k(),(0,d.b)()}function x(){L(),(0,d.i)(),(0,d.e)("FolderCreator")}},9333(e,a,n){n.d(a,{a:()=>C,b:()=>k,c:()=>q});var t=n(467),i=n(9566),r=n(8179),o=n(4294),d=n(4537),c=n(904),l=n(9119),s=(0,r.c)(".jq"),u=(0,r.e)(s,".kq"),p=(0,r.e)(u,".lq"),f=(0,r.e)(s,".nq"),h=(0,r.e)(f,".oq"),v=(0,r.e)(h,'.pq[group="folder-name"] .tq input'),b=(0,r.e)(h,'.pq[group="folder-icon"] .tq .uq input'),y=(0,r.e)(h,'.pq[group="folder-icon"] .tq .uq .vq'),g=(0,r.e)(h,'.pq[group="folder-content"] .tq');function m(e,a){var n=(0,r.a)();n.classList.add("wq"),n.setAttribute("type",a.type);var t="",o="",c="";switch(a.type){case"stop":c="location_on",t=`${a.route?a.route.name:""} - 往${a.route?[a.route.endPoints.destination,a.route.endPoints.departure,""][a.direction?a.direction:0]:""}`,o=a.name;break;case"route":c="route",t=`${a.endPoints.departure} ↔ ${a.endPoints.destination}`,o=a.name;break;case"location":c="location_on",t="地點",o=a.name;break;case"bus":t="",o=a.name;break;case"empty":c="lightbulb",t="提示",o="沒有內容";break;default:c="",t="null",o="null"}var s=(0,r.a)();s.classList.add("xq"),s.appendChild((0,d.b)(c));var u=(0,r.a)();u.classList.add("yq"),u.innerText=t;var p=(0,r.a)();p.classList.add("zq"),p.innerText=o;var f=(0,r.a)();f.classList.add("_q");var h=(0,r.a)();h.classList.add("ar"),h.appendChild((0,d.b)("keyboard_arrow_down")),h.onclick=function(){L(n,e.id,a.type,a.id,"up")};var v=(0,r.a)();v.classList.add("br"),v.appendChild((0,d.b)("keyboard_arrow_down")),v.onclick=function(){L(n,e.id,a.type,a.id,"down")};var b=(0,r.a)();b.classList.add("cr"),b.appendChild((0,d.b)("delete")),b.onclick=function(){!function(e,a,n,t){(0,i.k)(a,n,t).then(function(a){if(a)switch(e.remove(),n){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(n,e.id,a.type,a.id)};var y=(0,r.a)();y.classList.add("dr");var g=(0,r.a)();return g.classList.add("dr"),f.appendChild(h),f.appendChild(v),f.appendChild(b),f.appendChild(y),f.appendChild(g),n.appendChild(s),n.appendChild(u),n.appendChild(p),n.appendChild(f),n}function w(){return w=(0,t.a)(function*(e,a){var n=(0,i.b)(e),t=yield(0,i.g)(e);"boolean"!=typeof n&&!1!==n&&(p.onclick=function(){!function(e,a){S.apply(this,arguments)}(n.id,a)},v.value=n.name,b.value=n.icon,function(e,a){g.innerHTML="";var n=new DocumentFragment;for(var t of a){var i=m(e,t);n.appendChild(i)}g.append(n)}(n,t))}),w.apply(this,arguments)}function q(){s.setAttribute("displayed","true")}function C(){s.setAttribute("displayed","false")}function k(e,a){(0,c.c)("FolderEditor"),q(),function(e,a){w.apply(this,arguments)}(e,a),(0,c.b)()}function L(e,a,n,t,r){(0,i.p)(a,n,t,r).then(function(a){if(a)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}function S(){return(S=(0,t.a)(function*(e,a){var n=v.value,t=b.value;(yield(0,i.q)(e,n,t))?(C(),(0,c.i)(),(0,c.e)("FolderEditor"),"function"==typeof a&&a()):(0,l.a)("error","無法儲存變更")})).apply(this,arguments)}y.onclick=function(){(0,o.d)(b)}},8379(e,a,n){n.d(a,{a:()=>q,b:()=>m,c:()=>w,d:()=>g});var t=n(467),i=n(9566),r=n(8179),o=n(6052),d=n(9333),c=n(4537),l=n(904),s=(0,r.c)(".yp"),u=(0,r.e)(s,".cq"),p=(0,r.e)(u,".dq"),f=(0,r.e)(s,".zp"),h=(0,r.e)(f,".aq");function v(e){var a=(0,r.a)();a.classList.add("eq"),a.onclick=function(){(0,d.b)(e.id,function(){b()})};var n=(0,r.a)();n.classList.add("fq"),n.appendChild((0,c.b)(e.icon));var t=(0,r.a)();t.classList.add("gq"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("hq"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("iq"),o.appendChild((0,c.b)("arrow_forward_ios")),a.appendChild(n),a.appendChild(t),a.appendChild(i),a.appendChild(o),a}function b(){return y.apply(this,arguments)}function y(){return(y=(0,t.a)(function*(){h.onclick=function(){(0,o.c)(function(){b()})};var e=yield(0,i.h)();p.innerHTML="";var a=new DocumentFragment;for(var n of e){var t=v(n);a.appendChild(t)}p.append(a)})).apply(this,arguments)}function g(){s.setAttribute("displayed","true")}function m(){s.setAttribute("displayed","false")}function w(){(0,l.c)("FolderManager"),g(),b(),(0,l.b)()}function q(){m(),(0,l.i)(),(0,l.e)("FolderManager")}}}]);
//# sourceMappingURL=e894b55b110f6c40486f.js.map