"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[680],{313(e,t,n){n.d(t,{s:()=>o});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return f=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,9],[1,9]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getProvider_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var o="bus_provider_cache",f=yield(0,r.Ct)(0,`${o}_timestamp`);if(null===f){var p=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(p)),u||(u=!0,l=p),p}if((new Date).getTime()-parseInt(f)>5184e6){var y=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(y)),y}if(!u){var m=yield(0,r.Ct)(0,o);u=!0,l=JSON.parse(m)}return(0,s.Mf)(e,"getProvider_0",0,!0),(0,s.Mf)(e,"getProvider_1",0,!0),(0,s.ZL)(e,-1),l}),f.apply(this,arguments)}},424(e,t,n){n.d(t,{T:()=>p});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return(f=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(132),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return y.apply(this,arguments)}function y(){return y=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,11],[1,11]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getStop_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var f="bus_stop_cache",p=yield(0,r.Ct)(0,`${f}_timestamp`);if(null===p){var y=yield t(),m=yield o(y);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(m)),u||(u=!0,l=m),m}if((new Date).getTime()-parseInt(p)>3888e6){var d=yield t(),c=yield o(d);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(c)),c}if(!u){var g=yield(0,r.Ct)(0,f);u=!0,l=JSON.parse(g)}return(0,s.Mf)(e,"getStop_0",0,!0),(0,s.Mf)(e,"getStop_1",0,!0),(0,s.ZL)(e,-1),l}),y.apply(this,arguments)}},1932(e,t,n){n.d(t,{L:()=>m});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return(f=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(234),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return y.apply(this,arguments)}function y(){return(y=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(319),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t="",n=0,i=[[0,15],[1,15]];n<i.length;n++){var r=i[n],u=(0,a.y)(r[0],r[1]);t+=(yield(0,s.Fd)(u,e,`getSegmentBuffers_${r[0]}`,"xml")),(0,s.ZL)(e,-1)}return t}),n.apply(this,arguments)}var f="bus_segment_buffers_cache",y=yield(0,r.Ct)(0,`${f}_timestamp`);if(null===y){var m=yield t(),d=yield o(m),c=yield p(d);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(c)),u||(u=!0,l=c),c}if((new Date).getTime()-parseInt(y)>2592e6){var g=yield t(),h=yield o(g),v=yield p(h);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(v)),v}if(!u){var _=yield(0,r.Ct)(0,f);u=!0,l=JSON.parse(_)}return(0,s.Mf)(e,"getSegmentBuffers_0",0,!0),(0,s.Mf)(e,"getSegmentBuffers_1",0,!0),(0,s.ZL)(e,-1),l}),d.apply(this,arguments)}},2063(e,t,n){n.d(t,{K:()=>s});var i=n(467),r=n(3153),a=n(6788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.A)(function*(e){for(var t=[],n=0,i=[[0,4],[1,4]];n<i.length;n++){for(var s=i[n],u=(0,r.y)(s[0],s[1]),l=yield(0,a.Fd)(u,e,`getEstimateTime_${s[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,a.ZL)(e,l.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},3153(e,t,n){n.d(t,{Y:()=>s,y:()=>a});var i=n(8024),r=n(3459);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,s=["blobbus","ntpcbus"],u=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],l=(0,r.Js)("proxy");return n?`http://erichsia7.github.io/bus-alternative-static-apis/${s[e]}/Get${u[t]}.gz?_=${(0,i.FU)(a)}`:l?`https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/${s[e]}/Get${u[t]}.gz&_=${(0,i.FU)(a)}`:`https://tcgbusfs.blob.core.windows.net/${s[e]}/Get${u[t]}.gz?_=${(0,i.FU)(a)}`}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return`https://erichsia7.github.io/material-symbols-list/search-index.gz?_=${(0,i.FU)(e)}`}},4293(e,t,n){n.d(t,{a:()=>p});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return(f=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(660),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function p(e){return y.apply(this,arguments)}function y(){return y=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,10],[1,10]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getRoute_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}if(!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))return yield t();var f="bus_route_cache",p=yield(0,r.Ct)(0,`${f}_timestamp`);if(null===p){var y=yield t(),m=yield o(y);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(m)),u||(u=!0,l=m),m}if((new Date).getTime()-parseInt(p)>864e5){var d=yield t(),c=yield o(d);return yield(0,r.mL)(0,`${f}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,f,JSON.stringify(c)),u||(u=!0,l=c),c}if(!u){var g=yield(0,r.Ct)(0,f);u=!0,l=JSON.parse(g)}return(0,s.Mf)(e,"getRoute_0",0,!0),(0,s.Mf)(e,"getRoute_1",0,!0),(0,s.ZL)(e,-1),l}),y.apply(this,arguments)}},6802(e,t,n){n.d(t,{d:()=>s});var i=n(467),r=n(3153),a=n(6788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.A)(function*(e){for(var t=[],n=0,i=[[0,0],[1,0]];n<i.length;n++){for(var s=i[n],u=(0,r.y)(s[0],s[1]),l=yield(0,a.Fd)(u,e,`getBusData_${s[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,a.ZL)(e,l.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},7810(e,t,n){n.d(t,{J:()=>s});var i=n(467),r=n(3153),a=n(6788);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.A)(function*(e){for(var t=[],n=0,i=[[0,1],[1,1]];n<i.length;n++){for(var s=i[n],u=(0,r.y)(s[0],s[1]),l=yield(0,a.Fd)(u,e,`getBusEvent_${s[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,a.ZL)(e,l.EssentialInfo.UpdateTime)}return t})).apply(this,arguments)}},8011(e,t,n){n.d(t,{g:()=>d});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u={simplified:{available:!1,data:{}},merged:{available:!1,data:{}},indexed:{available:!1,data:{}}};function l(e){return o.apply(this,arguments)}function o(){return(o=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(367),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(327),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function y(e){return m.apply(this,arguments)}function m(){return(m=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(625),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function d(e,t){return c.apply(this,arguments)}function c(){return c=(0,i.A)(function*(e,t){function n(){return o.apply(this,arguments)}function o(){return o=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,11],[1,11]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getLocation_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),o.apply(this,arguments)}var p=["simplified","merged","indexed"][t],m=`bus_${p}_location_cache`,c=yield(0,r.Ct)(0,`${m}_timestamp`);if(null===c){var g;switch(t){case 0:var h=yield n();g=yield l(h);break;case 1:var v=yield d(e,0);g=yield f(v);break;case 2:var _=yield d(e,1);g=yield y(_)}return yield(0,r.mL)(0,`${m}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,m,JSON.stringify(g)),u[p].available||(u[p].available=!0,u[p].data=g),g}if((new Date).getTime()-parseInt(c)>2592e6){var b;switch(t){case 0:var L=yield n();b=yield l(L);break;case 1:var w=yield d(e,0);b=yield f(w);break;case 2:var T=yield d(e,1);b=yield y(T)}return yield(0,r.mL)(0,`${m}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,m,JSON.stringify(b)),u[p].available||(u[p].available=!0,u[p].data=b),b}if(!u[p].available){var $=yield(0,r.Ct)(0,m);u[p].available=!0,u[p].data=JSON.parse($)}return(0,s.Mf)(e,"getLocation_0",0,!0),(0,s.Mf)(e,"getLocation_1",0,!0),(0,s.ZL)(e,-1),u[p].data}),c.apply(this,arguments)}},8201(e,t,n){n.d(t,{Y:()=>o});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return f=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,12],[1,12]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getSemiTimeTable_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var o="bus_semi_timetable_cache",f=yield(0,r.Ct)(0,`${o}_timestamp`);if(null===f){var p=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(p)),u||(u=!0,l=p),p}if((new Date).getTime()-parseInt(f)>12096e5){var y=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(y)),y}if(!u){var m=yield(0,r.Ct)(0,o);u=!0,l=JSON.parse(m)}return(0,s.Mf)(e,"getSemiTimeTable_0",0,!0),(0,s.Mf)(e,"getSemiTimeTable_1",0,!0),(0,s.ZL)(e,-1),l}),f.apply(this,arguments)}},8671(e,t,n){n.d(t,{s:()=>o});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l={};function o(e){return f.apply(this,arguments)}function f(){return f=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return n=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,14],[1,14]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getTimeTable_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),n.apply(this,arguments)}var o="bus_timetable_cache",f=yield(0,r.Ct)(0,`${o}_timestamp`);if(null===f){var p=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(p)),u||(u=!0,l=p),p}if((new Date).getTime()-parseInt(f)>12096e5){var y=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(y)),y}if(!u){var m=yield(0,r.Ct)(0,o);u=!0,l=JSON.parse(m)}return(0,s.Mf)(e,"getTimeTable_0",0,!0),(0,s.Mf)(e,"getTimeTable_1",0,!0),(0,s.ZL)(e,-1),l}),f.apply(this,arguments)}},9218(e,t,n){n.d(t,{l:()=>o});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u=!1,l=[];function o(e){return f.apply(this,arguments)}function f(){return f=(0,i.A)(function*(e){function t(){return n.apply(this,arguments)}function n(){return(n=(0,i.A)(function*(){var t=(0,a.Y)();return yield(0,s.Fd)(t,e,"getMaterialSymbolsSearchIndex","json")})).apply(this,arguments)}var o="bus_material_symbols_search_index_v2_cache",f=yield(0,r.Ct)(0,`${o}_timestamp`);if(null===f){var p=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(p)),u||(u=!0,l=p),p}if((new Date).getTime()-parseInt(f)>6048e5){var y=yield t();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,JSON.stringify(y)),u||(u=!0,l=y),y}if(!u){var m=yield(0,r.Ct)(0,o);u=!0,l=JSON.parse(m)}return(0,s.Mf)(e,"getMaterialSymbolsSearchIndex",0,!0),l}),f.apply(this,arguments)}},9734(e,t,n){n.d(t,{j:()=>f});var i=n(467),r=n(4311),a=n(3153),s=n(6788),u={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function l(e){return o.apply(this,arguments)}function o(){return(o=(0,i.A)(function*(e){var t=new Worker(new URL(n.p+n.u(355),n.b));return yield new Promise(function(n,i){t.onmessage=function(e){n(e.data),t.terminate()},t.onerror=function(e){i(e.message),t.terminate()},t.postMessage(e)})})).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=(0,i.A)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){return o.apply(this,arguments)}function o(){return o=(0,i.A)(function*(){for(var t=[],n=0,i=[[0,2],[1,2]];n<i.length;n++){for(var r=i[n],u=(0,a.y)(r[0],r[1]),l=yield(0,s.Fd)(u,e,`getCarInfo_${r[0]}`,"json"),o=0,f=l.BusInfo.length;o<f;o++)t.push(l.BusInfo[o]);(0,s.ZL)(e,l.EssentialInfo.UpdateTime)}return t}),o.apply(this,arguments)}var f=t?"simplified":"raw",p=`bus_${f}_car_info_cache`,y=yield(0,r.Ct)(0,`${p}_timestamp`);if(null===y){var m,d=yield n();return m=t?yield l(d):d,yield(0,r.mL)(0,`${p}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,p,JSON.stringify(m)),u[f].available||(u[f].available=!0,u[f].data=m),m}if((new Date).getTime()-parseInt(y)>2592e6){var c,g=yield n();return c=t?yield l(g):g,yield(0,r.mL)(0,`${p}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,p,JSON.stringify(c)),c}if(!u[f].available){var h=yield(0,r.Ct)(0,p);u[f].available=!0,u[f].data=JSON.parse(h)}return(0,s.Mf)(e,"getCarInfo_0",0,!0),(0,s.Mf)(e,"getCarInfo_1",0,!0),(0,s.ZL)(e,-1),u[f].data}),p.apply(this,arguments)}}}]);
//# sourceMappingURL=68fc9cb6e3865b8c51f2.js.map