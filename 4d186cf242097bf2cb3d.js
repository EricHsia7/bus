"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[927],{752:(t,e,n)=>{n.d(e,{H9:()=>m,Ho:()=>p,b$:()=>y,b6:()=>g});var r=n(4636),i=n(3648),a=n(4537),o=n(904),u=n(9119);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n,r,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var f=(0,i.bv)(".or"),d=(0,i.aI)(f,".sr"),v=(0,i.aI)(d,".tr");function h(t,e,n){var r=document.createElement("div");switch(r.classList.add("ur"),e){case"stop-on-route":r.setAttribute("onclick",`bus.notification.scheduleNotificationForStopItemOnRoute('${n[0]}', ${n[1]}, ${n[2]}, ${n[3]}, ${t.index})`);break;case"stop-on-location":r.setAttribute("onclick",`bus.notification.scheduleNotificationForStopItemOnLocation('${n[0]}', ${n[1]}, ${n[2]}, ${n[3]}, ${t.index})`)}return r.innerHTML=`<div class="vr">${(0,a.Z)(t.icon)}</div><div class="wr">${t.name}</div>`,{element:r,id:""}}function b(){var t;return t=function*(t,e){v.innerHTML="";var n,i=new DocumentFragment,a=c(r.FX);try{for(a.s();!(n=a.n()).done;){var o=h(n.value,t,e);i.append(o.element)}}catch(t){a.e(t)}finally{a.f()}v.append(i)},b=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))},b.apply(this,arguments)}function p(t,e){(0,o.WR)("ScheduleNotification"),f.setAttribute("displayed","true"),function(t,e){b.apply(this,arguments)}(t,e)}function y(){(0,o.kr)("ScheduleNotification"),f.setAttribute("displayed","false")}function m(t,e,n,a,o){var c=(0,i.bv)(`.jk .kk .lk .mk .ok ._m#${t}`),l=(0,i.aI)(c,'.gn .hn .in[type="schedule-notification"]');(0,u.a)("處理中","manufacturing"),l.setAttribute("enabled","false"),y(),(0,r.mD)(e,n,a,o).then((function(t){switch(t){case 0:(0,u.a)("設定失敗","error"),l.setAttribute("enabled","true");break;case 1:(0,u.a)("設定成功","check_circle"),l.setAttribute("enabled","true"),l.setAttribute("highlighted","true");break;case 2:(0,u.a)("在設定中註冊後才可設定到站通知","warning"),l.setAttribute("enabled","true")}}))}function g(t,e,n,a,o){var c=(0,i.bv)(`.j .m .sa .va ._#${t}`),l=(0,i.aI)(c,'.ma .na .oa[type="schedule-notification"]');(0,u.a)("處理中","manufacturing"),l.setAttribute("enabled","false"),y(),(0,r.mD)(e,n,a,o).then((function(t){switch(t){case 0:(0,u.a)("設定失敗","error"),l.setAttribute("enabled","true");break;case 1:(0,u.a)("設定成功","check_circle"),l.setAttribute("enabled","true"),l.setAttribute("highlighted","true");break;case 2:(0,u.a)("在設定中註冊後才可設定到站通知","warning"),l.setAttribute("enabled","true")}}))}},2994:(t,e,n)=>{n.d(e,{G:()=>f,Q:()=>d});var r=n(4225),i=n(3648);function a(t,e,n,r,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var o=(0,i.bv)(".xr"),u=(0,i.aI)(o,".as"),c=(0,i.aI)(u,".bs");function l(t){var e=document.createElement("div");return e.classList.add("cs"),e.innerHTML=`<div class="ds">${t.category.name}</div><div class="es">${t.size}</div>`,{element:e,id:""}}function s(){var t;return t=function*(){var t=yield(0,r.F)();for(var e in c.innerHTML="",t.categorizedSizes){var n=l(t.categorizedSizes[e]);c.appendChild(n.element)}},s=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(t){a(o,r,i,u,c,"next",t)}function c(t){a(o,r,i,u,c,"throw",t)}u(void 0)}))},s.apply(this,arguments)}function f(){o.setAttribute("displayed","true"),function(){s.apply(this,arguments)}()}function d(){o.setAttribute("displayed","false")}},3041:(t,e,n)=>{n.d(e,{BI:()=>y,Dh:()=>w,JL:()=>g,Lb:()=>A,jD:()=>$,nS:()=>m});var r=n(3648),i=n(904),a=n(8024),o=n(9566),u=n(4537),c=n(9119);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e,n,r,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}var d=(0,r.bv)(".fr"),v=(0,r.aI)(d,".jr"),h=(0,r.aI)(v,".kr");function b(t,e,n){var r=document.createElement("div");switch(r.classList.add("lr"),e){case"stop-on-route":r.setAttribute("onclick",`bus.folder.saveStopItemOnRoute('${n[0]}', '${t.id}', ${n[1]}, ${n[2]})`);break;case"stop-on-location":r.setAttribute("onclick",`bus.folder.saveStopItemOnLocation('${n[0]}', '${t.id}', ${n[1]}, ${n[2]})`);break;case"route":r.setAttribute("onclick",`bus.folder.saveRouteOnDetailsPage('${t.id}', ${n[0]})`);break;case"route-on-route":r.setAttribute("onclick",`bus.folder.saveRouteOnRoute('${t.id}', ${n[0]})`)}return r.innerHTML=`<div class="mr">${(0,u.Z)(t.icon)}</div><div class="nr">${t.name}</div>`,{element:r,id:""}}function p(){var t;return t=function*(t,e){h.innerHTML="";var n,r=l(yield(0,o.Xi)());try{for(r.s();!(n=r.n()).done;){var i=b(n.value,t,e);h.appendChild(i.element)}}catch(t){r.e(t)}finally{r.f()}},p=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){f(a,r,i,o,u,"next",t)}function u(t){f(a,r,i,o,u,"throw",t)}o(void 0)}))},p.apply(this,arguments)}function y(t,e){(0,i.WR)("SaveToFolder"),d.setAttribute("displayed","true"),function(t,e){p.apply(this,arguments)}(t,e)}function m(){(0,i.kr)("SaveToFolder"),d.setAttribute("displayed","false")}function g(t,e,n,i){var u=(0,r.bv)(`.jk .kk .lk .mk .ok ._m#${t}`),l=(0,r.aI)(u,'.gn .hn .in[type="save-to-folder"]');(0,o.aq)(e,n,i).then((function(t){t?(0,o.LH)("stop",n).then((function(t){t&&(l.setAttribute("highlighted",(0,a.xZ)(t)),(0,c.a)("已儲存至資料夾","folder"),m())})):(0,c.a)("無法儲存","warning")}))}function A(t,e,n,i){var u=(0,r.bv)(`.j .m .sa .va ._#${t}`),l=(0,r.aI)(u,'.ma .na .oa[type="save-to-folder"]');(0,o.aq)(e,n,i).then((function(t){t?(0,o.LH)("stop",n).then((function(t){t&&(l.setAttribute("highlighted",(0,a.xZ)(t)),(0,c.a)("已儲存至資料夾","folder"),m())})):(0,c.a)("無法儲存","warning")}))}function w(t,e){var n=(0,r.bv)('.pk .uk .vk .wk[group="actions"] ._k .al[action="save-to-folder"]');(0,o.Fq)(t,e).then((function(t){t?(0,o.LH)("route",e).then((function(t){t&&(n.setAttribute("highlighted","true"),(0,c.a)("已儲存至資料夾","folder"),m())})):(0,c.a)("無法儲存","warning")}))}function $(t,e){(0,o.Fq)(t,e).then((function(t){t?(0,o.LH)("route",e).then((function(t){t&&((0,c.a)("已儲存至資料夾","folder"),m())})):(0,c.a)("無法儲存","warning")}))}},5009:(t,e,n)=>{n.d(e,{Bb:()=>A,H2:()=>$,RC:()=>w,rf:()=>g});var r=n(9856),i=n(8134),a=n(4537),o=n(6082),u=n(9119),c=n(3648),l=n(4781),s=n(904);function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var v=(0,c.bv)(".fd"),h=(0,c.aI)(v,".gd"),b=(0,c.aI)(v,"._p"),p=(0,c.aI)(h,".hd #search_input"),y=(0,c.aI)(h,".id"),m=(0,c.aI)(b,".aq");function g(){o.m?((0,s.WR)("Search"),v.setAttribute("displayed","true"),(0,r.El)(),(0,i.dD)()):(0,u.a)("資料還在下載中","download_for_offline")}function A(){(0,s.kr)("Search"),(0,r.k_)(),v.setAttribute("displayed","false")}function w(t,e){if(!(0,l.iO)(t)){var n,r=["route","location_on","directions_bus"],o=[],u=f((0,i.GU)(t,e,30));try{for(u.s();!(n=u.n()).done;){var c=n.value,s=c.item.n,d=(0,a.Z)(r[c.item.type]),v="";switch(c.item.type){case 0:v=`bus.route.openRoute(${c.item.id}, [${c.item.pid.join(",")}])`;break;case 1:v=`bus.location.openLocation('${c.item.hash}')`;break;case 2:v=`bus.bus.openBus(${c.item.id})`}o.push(`<div class="bq" onclick="${v}"><div class="cq">${d}</div><div class="dq">${s}</div></div>`)}}catch(t){u.e(t)}finally{u.f()}m.innerHTML=o.join("")}}function $(){var t=parseInt(y.getAttribute("type")),e=-1;e=t>=-1&&t<2?t+1:-1;y.innerHTML=(0,a.Z)(["filter_list","route","location_on","directions_bus"][e+1]),y.setAttribute("type",e.toString()),w(p.value,e)}},6104:(t,e,n)=>{n.d(e,{Ow:()=>g,hP:()=>I,jk:()=>S,os:()=>A,rY:()=>k,vv:()=>w});var r=n(8024),i=n(3648),a=n(3459),o=n(5976),u=n(5427),c=n(4537),l=n(904),s=n(9119),f=n(3251),d=n(4311);function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e,n,r,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){b(a,r,i,o,u,"next",t)}function u(t){b(a,r,i,o,u,"throw",t)}o(void 0)}))}}function y(t){var e=(0,r.zx)("i"),n=document.createElement("div");return n.classList.add("uq"),n.id=e,n.setAttribute("onclick",t.action),n.setAttribute("type",t.type),n.innerHTML=`<div class="wq">${(0,c.Z)(t.icon)}</div><div class="xq">${t.name}</div><div class="zq">${t.status}</div><div class="_q">${(0,c.Z)("arrow_forward_ios")}</div>`,{element:n,id:e}}function m(){return(m=p((function*(t){var e=yield(0,a.cl)();(0,i.aI)(t,".qq .sq").innerHTML="";var n,r=v(e);try{for(r.s();!(n=r.n()).done;){var o=y(n.value);(0,i.aI)(t,".qq .sq").appendChild(o.element)}}catch(t){r.e(t)}finally{r.f()}}))).apply(this,arguments)}function g(){(0,l.WR)("Settings");var t=(0,i.bv)(".gq");t.setAttribute("displayed","true"),function(t){m.apply(this,arguments)}(t)}function A(){(0,l.kr)("Settings"),(0,i.bv)(".gq").setAttribute("displayed","false")}function w(){return $.apply(this,arguments)}function $(){return($=p((function*(){var t=yield(0,o.R)();(0,r.MR)(t,"application/json","bus-export.json")}))).apply(this,arguments)}function k(){var t=(0,r.zx)("i"),e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","application/json"),e.setAttribute("name",t),e.id=t,e.classList.add("er"),e.addEventListener("change",(function(e){if(0===e.target.files.length)(0,i.bv)(`body #${t}`).remove();else{var n=e.target.files[0],r=new FileReader;r.onload=function(e){var n=e.target.result;(0,u.Qx)(n).then((function(e){e?(0,s.a)("已匯入資料","check_circle"):(0,s.a)("無法匯入資料","error"),(0,i.bv)(`body #${t}`).remove()}))},r.readAsText(n)}}),{once:!0}),e.addEventListener("cancel",(function(e){(0,i.bv)(`body #${t}`).remove()}),{once:!0}),document.body.append(e),(0,i.bv)(`body #${t}`).click()}function I(){var t=(0,f.NO)();window.open(t)}function S(){(0,d.VC)().then((function(t){switch(t){case"granted":(0,s.a)("已開啟永久儲存","check_circle");break;case"denied":(0,s.a)("永久儲存權限已被拒絕","cancel");break;case"unsupported":(0,s.a)("此瀏覽器不支援永久儲存","warning");break;default:(0,s.a)("發生錯誤","error")}}))}},6166:(t,e,n)=>{n.d(e,{Yi:()=>d,wx:()=>f,yH:()=>s});var r=n(8024),i=n(3648),a=n(3459),o=n(904);function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n){var i=(0,r.zx)("i"),a=document.createElement("div");return a.classList.add("vq"),a.id=i,a.innerHTML=`<div class="yq">${e.name}</div><div class="ar"><input type="checkbox" onclick="bus.settings.settingsOptionsHandler(event, '${t.key}', ${n})" ${t.option===n?"checked":""}/></div>`,{element:a,id:i}}function s(t){(0,o.WR)("SettingsOptions");var e=(0,a.PL)(t),n=(0,i.bv)(".hq");n.setAttribute("displayed","true"),(0,i.aI)(n,".jq .pq").innerText=e.name,function(t,e){var n=(0,a.PL)(e),r=(0,i.aI)(t,".rq"),o=(0,i.aI)(r,".tq");(0,i.aI)(r,".dr").innerText=n.description,o.innerHTML="";var c,s=0,f=u(n.options);try{for(f.s();!(c=f.n()).done;){var d=l(n,c.value,s);o.appendChild(d.element),s+=1}}catch(t){f.e(t)}finally{f.f()}}(n,t),(0,o.Z_)()}function f(){(0,i.bv)(".hq").setAttribute("displayed","false"),(0,o.l$)()}function d(t,e,n){var r,o=u((0,i.e0)('.hq .rq .tq .vq .ar input[type="checkbox"]'));try{for(o.s();!(r=o.n()).done;){r.value.checked=!1}}catch(t){o.e(t)}finally{o.f()}t.target.checked=!0,(0,a.aN)(e,n).then((function(t){}))}},9856:(t,e,n)=>{n.d(e,{El:()=>N,Wb:()=>Q,_O:()=>B,d$:()=>G,gn:()=>X,k_:()=>U,mr:()=>D,vp:()=>W});var r=n(5009),i=n(8024),a=n(7968),o=n(3648),u=n(4537),c=n(904),l=n(6141);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var d=[["紅","藍","1","2","3"],["綠","棕","4","5","6"],["橘","小","7","8","9"],["鍵盤","幹線","清空","0","刪除"]],v=(0,o.bv)(".fd"),h=(0,o.aI)(v,".gd"),b=(0,o.aI)(v,"._p"),p=(0,o.aI)(h,".hd #search_input"),y=(0,o.aI)(h,".hd canvas"),m=(0,o.aI)(h,".id"),g=(0,o.aI)(b,".eq"),A=y.getContext("2d"),w="搜尋路線、地點、公車",$=window.devicePixelRatio,k=15*$,I=1.8*$,S=.9*$,x=4*$,q=25*$,L=20*$,T='"Noto Sans TC", sans-serif',M=(0,l.t)("--a"),_=(0,l.t)("--nf"),j=(0,l.t)("--b"),H=0,O=0,R=0,C=!1,E=0,P=(0,c.gO)("head-two-button"),F=P.width*$,Z=P.height*$,z=!1;function D(){P=(0,c.gO)("head-two-button"),F=P.width,Z=P.height,y.width=F*$,y.height=Z*$,X(p.value,-1,-1)}function N(){!function(){var t,e=[],n=s(d);try{for(n.s();!(t=n.n()).done;){var r,a=s(t.value);try{for(a.s();!(r=a.n()).done;){var o=r.value,c="",l="onmousedown",f="";switch(o){case"刪除":c="bus.search.deleteCharFromInout()",f=(0,u.Z)("backspace");break;case"清空":c="bus.search.emptyInput()",f=o;break;case"鍵盤":c="bus.search.openSystemKeyboard(event)",f=(0,u.Z)("keyboard");break;default:c=`bus.search.typeTextIntoInput('${o}')`,f=o}(0,i.p1)()&&(l="ontouchstart"),e.push(`<button class="fq" ${l}="${c}">${f}</button>`)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}g.innerHTML=e.join("")}(),g.setAttribute("displayed","true"),z=!0,Y(),X(p.value,-1,-1)}function U(){g.setAttribute("displayed","false"),z=!1}function W(t){t.preventDefault(),p.focus()}function B(t){var e=parseInt(m.getAttribute("type")),n=`${String(p.value)}${t}`;p.value=n,(0,r.RC)(n,e),X(n,-1,-1)}function G(){var t=parseInt(m.getAttribute("type")),e=String(p.value),n=e.substring(0,e.length-1);p.value=n,(0,r.RC)(n,t),X(n,-1,-1)}function Q(){var t=parseInt(m.getAttribute("type"));p.value="",(0,r.RC)("",t),X("",-1,-1)}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1;0===t.length?(t=w,r=!0,e=0,n=0):-1===e&&-1===n&&(n=1*(e=t.length)),P=(0,c.gO)("head-two-button"),F=P.width*$,Z=P.height*$,M=(0,l.t)("--a"),_=(0,l.t)("--nf"),j=(0,l.t)("--b"),A.font=`500 ${L}px ${T}`,A.textAlign="center",A.textBaseline="middle",H=A.measureText(t).width,O=A.measureText(t.substring(0,e)).width,R=A.measureText(t.substring(e,n)).width,E=r?1:Math.max(1,O),A.clearRect(0,0,F,Z),e===n?(C=!0,A.globalAlpha=1,A.fillStyle=r?_:M,A.fillText(t,H/2+(Math.min(E,F-k)-E),Z/2),(0,a.wg)(A,Math.min(E,F-k),(Z-q)/2,I,q,S,j)):(C=!1,A.globalAlpha=.27,(0,a.wg)(A,Math.min(E,F-k),(Z-q)/2,R,q,x,j),A.globalAlpha=1,A.fillStyle=r?_:M,A.fillText(t,H/2+(Math.min(E,F-k)-E),Z/2),A.globalAlpha=.08,(0,a.wg)(A,Math.min(E,F-k),(Z-q)/2,R,q,x,j))}function Y(){var t=(new Date).getTime()/400,e=Math.abs(Math.sin(t));C&&(A.globalAlpha=e,A.clearRect(Math.min(E,F-k)-1,0,I+2,Z),(0,a.wg)(A,Math.min(E,F-k),(Z-q)/2,I,q,S,j)),z&&window.requestAnimationFrame(Y)}}}]);
//# sourceMappingURL=4d186cf242097bf2cb3d.js.map