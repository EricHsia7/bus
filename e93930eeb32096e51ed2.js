"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[3817],{13611(r,t,e){var n=e(46518),o=e(44576),a=e(62106),i=e(43724),u=TypeError,f=Object.defineProperty,s=o.self!==o;try{if(i){var l=Object.getOwnPropertyDescriptor(o,"self");!s&&l&&l.get&&l.enumerable||a(o,"self",{get:function(){return o},set:function(r){if(this!==o)throw new u("Illegal invocation");f(o,"self",{value:r,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:s},{self:o})}catch(r){}},25276(r,t,e){var n=e(46518),o=e(27476),a=e(19617).indexOf,i=e(34598),u=o([].indexOf),f=!!u&&1/u([1],1,-0)<0;n({target:"Array",proto:!0,forced:f||!i("indexOf")},{indexOf:function(r){var t=arguments.length>1?arguments[1]:void 0;return f?u(this,r,t)||0:a(this,r,t)}})},33110(r,t,e){var n=e(46518),o=e(97751),a=e(18745),i=e(69565),u=e(79504),f=e(79039),s=e(34376),l=e(94901),c=e(65810),h=e(10757),v=e(22195),d=e(655),p=e(67680),g=e(616),y=e(33392),$=e(4495),b=e(27819),m=String,w=o("JSON","stringify"),x=u(/./.exec),S=u("".charAt),O=u("".charCodeAt),A=u("".replace),D=u("".slice),k=u([].push),j=u(1.1.toString),M=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,T=/^[\uDC00-\uDFFF]$/,F=y(),E=F.length,B=!$||f(function(){var r=o("Symbol")("stringify detection");return"[null]"!==w([r])||"{}"!==w({a:r})||"{}"!==w(Object(r))}),I=f(function(){return'"\\udf06\\ud834"'!==w("\udf06\ud834")||'"\\udead"'!==w("\udead")}),L=B?function(r,t){var e=p(arguments),n=P(t);if(l(n)||void 0!==r&&!h(r))return e[1]=function(r,t){if(l(n)&&(t=i(n,this,m(r),t)),!h(t))return t},a(w,null,e)}:w,N=function(r,t,e){var n=S(e,t-1),o=S(e,t+1);return x(C,r)&&!x(T,o)||x(T,r)&&!x(C,n)?"\\u"+j(O(r,0),16):r},P=function(r){if(l(r))return r;if(s(r)){for(var t=r.length,e=[],n=0;n<t;n++){var o=r[n];"string"==typeof o?k(e,o):"number"!=typeof o&&"Number"!==v(o)&&"String"!==v(o)||k(e,d(o))}var a=e.length,i=!0;return function(r,t){if(i)return i=!1,t;if(s(this))return t;for(var n=0;n<a;n++)if(e[n]===r)return t}}};w&&n({target:"JSON",stat:!0,arity:3,forced:B||I||!b},{stringify:function(r,t,e){var n=P(t),o=[],a=L(r,function(r,t){var e=l(n)?i(n,this,m(r),t):t;return!b&&c(e)?F+(k(o,e.rawJSON)-1):e},e);if("string"!=typeof a)return a;if(I&&(a=A(a,M,N)),b)return a;for(var u="",f=a.length,s=0;s<f;s++){var h=S(a,s);if('"'===h){var v=g(a,++s).end-1,d=D(a,s,v);u+=D(d,0,E)===F?o[D(d,E)]:'"'+d+'"',s=v}else u+=h}return u}})},34782(r,t,e){var n=e(46518),o=e(34376),a=e(33517),i=e(20034),u=e(35610),f=e(26198),s=e(25397),l=e(97040),c=e(34527),h=e(78227),v=e(70597),d=e(67680),p=v("slice"),g=h("species"),y=Array,$=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(r,t){var e,n,h,v=s(this),p=f(v),b=u(r,p),m=u(void 0===t?p:t,p);if(o(v)&&(e=v.constructor,(a(e)&&(e===y||o(e.prototype))||i(e)&&null===(e=e[g]))&&(e=void 0),e===y||void 0===e))return d(v,b,m);for(n=new(void 0===e?y:e)($(m-b,0)),h=0;b<m;b++,h++)b in v&&l(n,h,v[b]);return c(n,h),n}})},44114(r,t,e){var n=e(46518),o=e(48981),a=e(26198),i=e(34527),u=e(96837);n({target:"Array",proto:!0,arity:1,forced:e(79039)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}}()},{push:function(r){var t=o(this),e=a(t),n=arguments.length;u(e+n);for(var f=0;f<n;f++)t[e]=arguments[f],e++;return i(t,e),e}})},48773(r,t){var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!e.call({1:2},1);t.f=o?function(r){var t=n(this,r);return!!t&&t.enumerable}:e},60533(r,t,e){var n=e(79504),o=e(18014),a=e(655),i=e(72333),u=e(67750),f=n(i),s=n("".slice),l=Math.ceil,c=function(r){return function(t,e,n){var i,c,h=a(u(t)),v=o(e),d=h.length,p=void 0===n?" ":a(n);return v<=d||""===p?h:((c=f(p,l((i=v-d)/p.length))).length>i&&(c=s(c,0,i)),r?h+c:c+h)}};r.exports={start:c(!1),end:c(!0)}},68156(r,t,e){var n=e(46518),o=e(60533).start;n({target:"String",proto:!0,forced:e(83063)},{padStart:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}})},70597(r,t,e){var n=e(79039),o=e(78227),a=e(39519),i=o("species");r.exports=function(r){return a>=51||!n(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[r](Boolean).foo})}},72333(r,t,e){var n=e(91291),o=e(655),a=e(67750),i=RangeError;r.exports=function(r){var t=o(a(this)),e="",u=n(r);if(u<0||u===1/0)throw new i("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(e+=t);return e}},73525(r,t,e){function n(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function o(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,o,a,i,u=[],f=!0,s=!1;try{if(a=(e=e.call(r)).next,0===t){if(Object(e)!==e)return;f=!1}else for(;!(f=(n=a.call(e)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(r){s=!0,o=r}finally{try{if(!f&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}(r,t)||function(r,t){if(r){if("string"==typeof r)return n(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(r,t):void 0}}(r,t)||function(){throw new TypeError("E1")}()}e(76918),e(25276),e(23792),e(44114),e(34782),e(23288),e(26099),e(38781),e(47764),e(68156),e(62953),e(13611);var a=e(82284);e(64346),e(54743),e(11745),e(38309),e(16573),e(78100),e(77936),e(60739),e(33110),e(8085),e(21489),e(48140),e(81630),e(72170),e(75044),e(69539),e(31694),e(89955),e(21903),e(91134),e(33206),e(44496),e(66651),e(12887),e(19369),e(66812),e(8995),e(31575),e(36072),e(88747),e(28845),e(29423),e(57301),e(373),e(86614),e(41405),e(37467),e(44732),e(33684),e(79577),e(41549),e(49797),e(49631),e(35623),e(76031),e(3296),e(27208),e(48408),e(14603),e(47566),e(98721),e(83503),e(34462).sha512;function i(r,t){return null!=r&&"object"===(0,a.a)(r)&&!Array.isArray(r)&&Object.prototype.hasOwnProperty.call(r,t)}var u=[],f=!1;if("onconnect"in self)self.onconnect=function(r){var t=r.ports[0];t.onmessage=function(r){var e=o(r.data,5),n=e[0],a=e[1],i=e[2],f=e[3],s=e[4];u.push({personalSchedules:n,busArrivalTimeDataGroups:a,chartWidth:i,chartHeight:f,taskID:s,port:t}),d()}};else{var s=self;self.onmessage=function(r){var t=o(r.data,5),e=t[0],n=t[1],a=t[2],i=t[3],f=t[4];u.push({personalSchedules:e,busArrivalTimeDataGroups:n,chartWidth:a,chartHeight:i,taskID:f,port:s}),d()}}var l,c,h="'Noto Sans TC', sans-serif",v=!1;function d(){if(!f&&0!==u.length){f=!0;var r=u.shift(),t=r.personalSchedules,e=r.busArrivalTimeDataGroups,n=r.chartWidth,o=r.chartHeight,a=r.taskID,s=r.port,l={};for(var p of t){var g=60*p.period.start.hours+p.period.start.minutes,y=60*p.period.end.hours+p.period.end.minutes,$=n/(y-g);for(var b of e)if(!(p.days.indexOf(b.day)<0)){var m=b.max,w=b.stats.slice(g,y),x=w.length,S="",O="",A=0;A=x/30<=3?10:30;for(var D=Math.floor(x/A),k=n/D,j=D-1;j>=0;j--){var M=.175+j*k;O+=` M${M} 0`,O+=` L${M} ${o}`;var C=g+j*A,T=C%60,F=`${((C-T)/60).toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`,E=30,B=12;if(v){var I=c.measureText(F);E=I.width,B=I.actualBoundingBoxDescent}var L=(o-B)/2;S+=`<text x="${M+3}" y="${L}" transform="rotate(-90 ${(M+3+M+3+E)/2} ${(L+L+B)/2})" font-weight="400" font-size="10" font-family="${h}" component="label">${F}</text>`}var N=`<path d="${O}" fill="none" stroke-width="0.35" component="vertical-gridline"/>`,P=`<path d="${`M0 ${o} L${n} ${o-.175}`}" fill="none" stroke-width="0.35" component="bottom-line"/>`,W="";if(W+=`M${n} ${o}`,0!==m)for(var G=x-1;G>=0;G--){var H=(G+1)/x*n,J=(1-w[G]/m)*o;W+=` L${H} ${J}`,W+=` L${H-$} ${J}`,W+=` L${H-$} ${o}`}var z=`<svg width="${n}" height="${o}" viewBox="0 0 ${n} ${o}" xmlns="http://www.w3.org/2000/svg">${N}${S}${P}${`<path d="${W+=" Z"}" stroke="none" stroke-width="0" component="bars"/>`}</svg>`,R=`s_${b.id}`;i(l,R)||(l[R]=[]),l[R].push({personalSchedule:p,chart:z,day:b.day})}}s.postMessage([l,a]),f=!1,d()}}"undefined"!=typeof OffscreenCanvas&&(l=new OffscreenCanvas(64,64),(c=l.getContext("2d")).font=`400 10px ${h}`,c.textBaseline="top",v=!0)},83063(r,t,e){var n=e(82839);r.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},96837(r){var t=TypeError;r.exports=function(r){if(r>9007199254740991)throw t("Maximum allowed index exceeded");return r}}}]);
//# sourceMappingURL=e93930eeb32096e51ed2.js.map