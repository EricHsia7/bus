"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[512],{904(e,t,n){n.d(t,{AE:()=>I,BM:()=>C,WR:()=>y,Z_:()=>k,f1:()=>S,gO:()=>A,kr:()=>g,l$:()=>w,p9:()=>L});var a=n(8179),r=n(8024),o=n(4884),i=n(6052),c=n(9333),s=n(8379),d=n(5693),l=n(7891),u=n(7908),f=n(5009),p=n(6104),v=(0,a.bv)(".ug"),m=(0,a.bv)(".yg"),h=(new Date).getTime(),b=["Home"];function y(e){var t=b.length;b[t-1]!==e&&b.push(e)}function g(e){if(b.indexOf(e)>-1){var t=b.length;b[t-1]===e&&b.pop()}}function k(){var e=b.length;if(e>1)switch(b[e-2]){case"Home":case"FolderIconSelector":case"Location":case"LocationDetails":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":case"QRCode":default:break;case"FolderCreator":(0,i.z1)();break;case"FolderEditor":(0,c.I6)();break;case"FolderManager":(0,s.m)();break;case"Search":(0,f.Bb)();break;case"Settings":(0,p.os)();break;case"PersonalScheduleManager":(0,l.Z)();break;case"PersonalScheduleEditor":(0,d.Xy)();break;case"Bus":(0,o.FN)();break;case"RegisterNotification":(0,u.hy)()}}function w(){var e=b.length;if(e>1){var t=b[e-2];switch(b.pop(),t){case"Home":case"FolderIconSelector":case"Location":case"LocationDetails":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":case"QRCode":default:break;case"FolderCreator":(0,i.pd)();break;case"FolderEditor":(0,c.uy)();break;case"FolderManager":(0,s.g)();break;case"Search":(0,f.rf)();break;case"Settings":(0,p.Ow)();break;case"PersonalScheduleManager":(0,l.z)();break;case"PersonalScheduleEditor":(0,d.bF)();break;case"Bus":(0,o.$l)();break;case"RegisterNotification":(0,u.XG)()}}}function C(){var e=0;(0,r.t9)()&&(e=-1*(window.outerHeight-window.innerHeight)/2),(0,a.bv)(".ug svg.vg").style.setProperty("--wg",`${e}px`)}function I(e){function t(){v.classList.add("xg"),v.addEventListener("animationend",function(){v.setAttribute("displayed","false"),v.classList.remove("xg"),"function"==typeof e&&e()},{once:!0})}var n=(new Date).getTime();n-h<100?setTimeout(t,Math.max(1,n-h)):t()}function S(){m.setAttribute("displayed","true")}function A(e){var t=0,n=0,a=window.innerWidth,r=window.innerHeight;switch(e){case"window":t=a,n=r;break;case"head":t=a,n=55;break;case"head-one-button":t=a-55,n=55;break;case"head-two-button":t=a-110,n=55;break;case"route-details-canvas":t=a-20-20,n=1680;break;case"route-bus-arrival-time-chart":t=a-45-15-20,n=75;break;case"location-bus-arrival-time-chart":t=a-30-20,n=75;break;default:t=0,n=0}return{width:t,height:n}}function L(){window.scrollTo({top:0,behavior:"instant"})}},1143(){},1677(){},1853(){},1924(){},2706(){},3951(){},4504(){},4526(){},4537(e,t,n){n.d(t,{YC:()=>o,Zf:()=>r,oC:()=>i,yD:()=>c});var a=n(8179);function r(e){return`<span class="ya">${e}</span>`}function o(e){var t=document.createElement("span");return t.classList.add("ya"),t.innerText=e,t}function i(){var e=document.createElement("span");return e.classList.add("ya"),e}function c(e,t){(0,a.aI)(e,"span.ya").innerText=t}},4946(){},5259(){},5337(){},6052(e,t,n){n.d(t,{c6:()=>p,pd:()=>v,z1:()=>m});var a=n(9566),r=n(8179),o=n(6189),i=n(904),c=n(9119),s=(0,r.bv)(".us"),d=(0,r.aI)(s,".zs"),l=(0,r.aI)(d,"._s"),u=(0,r.aI)(l,'.at[group="folder-name"] .et input'),f=(0,r.aI)(l,'.at[group="folder-icon"] .et .ft input');function p(){var e=u.value,t=f.value;(0,a.vV)(e,t).then(function(e){e?(m(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function v(){(0,i.WR)("FolderCreator"),s.setAttribute("displayed","true"),(0,i.Z_)()}function m(){s.setAttribute("displayed","false"),(0,i.l$)()}(0,r.aI)(l,'.us .zs ._s .at[group="folder-icon"] .et .ft .gt').onclick=function(){(0,o.r7)("creator")}},6189(e,t,n){n.d(t,{Pk:()=>C,jW:()=>S,r7:()=>I});var a=n(467),r=n(9218),o=n(6788),i=n(972),c=n(8179),s=n(8024),d=n(4781),l=n(6082),u=n(4537),f=n(904),p=n(9119);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var h="",b=(0,c.bv)(".zr"),y=(0,c.bv)(".us"),g=(0,c.bv)(".r");function k(e){var t=document.createElement("div");return t.classList.add("lt"),t.onclick=function(){!function(e){var t;switch(h){case"editor":t=(0,c.aI)(b,'.cs .ds .es[group="folder-icon"] .is .js input');break;case"creator":t=(0,c.aI)(y,'.zs ._s .at[group="folder-icon"] .et .ft input')}t.value=e,S()}(e)},t.appendChild((0,u.YC)(e)),{element:t,id:""}}function w(){return(w=(0,a.A)(function*(){var e=(0,c.aI)(g,".it .jt");e.innerHTML="";var t=(0,s.zx)(),n=yield(0,r.l)(t);(0,o.LQ)(t);var a=new DocumentFragment;for(var i in n.symbols){for(var d=i.split("_"),l=d.length-1;l>=0;l--)d.splice(l,1,n.dictionary[parseInt(d[l])]);var u=k(d.join("_"));a.appendChild(u.element)}e.append(a)})).apply(this,arguments)}function C(e){var t=(0,c.aI)(g,".it .kt"),n=(0,c.aI)(g,".it .jt");if(!(0,d.iO)(e)){var a,r=(0,i.U)(e),o=new DocumentFragment,s=v(r);try{for(s.s();!(a=s.n()).done;){var l=k(a.value.item);o.appendChild(l.element)}}catch(e){s.e(e)}finally{s.f()}t.innerHTML="",t.append(o),t.setAttribute("displayed",r.length>0?"true":"false"),n.setAttribute("displayed",r.length>0?"false":"true")}}function I(e){switch((0,f.WR)("FolderIconSelector"),e){case"editor":h="editor",(0,c.aI)(b,'.cs .ds .es[group="folder-icon"] .is .js .ks');break;case"creator":h="creator",(0,c.aI)(y,'.zs ._s .at[group="folder-icon"] .et .ft .gt')}l.m?(g.setAttribute("displayed","true"),function(){w.apply(this,arguments)}(h),(0,i.L)()):(0,p.a)("download_for_offline","資料還在下載中")}function S(){(0,f.kr)("FolderIconSelector"),g.setAttribute("displayed","false")}},6585(){},6590(){},6732(){},6738(){},6764(){},7482(){},8268(){},8379(e,t,n){n.d(t,{g:()=>h,m:()=>b});var a=n(467),r=n(9566),o=n(8179),i=n(9333),c=n(4537),s=n(904);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var u=(0,o.bv)(".nr"),f=(0,o.aI)(u,".sr"),p=(0,o.aI)(f,".tr");function v(e){var t=document.createElement("div");t.classList.add("ur"),t.onclick=function(){(0,i.uy)(e.id)};var n=document.createElement("div");n.classList.add("vr"),n.appendChild((0,c.YC)(e.icon));var a=document.createElement("div");a.classList.add("wr"),a.appendChild(document.createTextNode(e.name));var r=document.createElement("div");r.classList.add("xr"),r.appendChild(document.createTextNode(String(e.contentLength)));var o=document.createElement("div");return o.classList.add("yr"),o.appendChild((0,c.YC)("arrow_forward_ios")),t.appendChild(n),t.appendChild(a),t.appendChild(r),t.appendChild(o),{element:t,id:""}}function m(){return(m=(0,a.A)(function*(){var e=yield(0,r.Xi)();p.innerHTML="";var t,n=new DocumentFragment,a=d(e);try{for(a.s();!(t=a.n()).done;){var o=v(t.value);n.appendChild(o.element)}}catch(e){a.e(e)}finally{a.f()}p.append(n)})).apply(this,arguments)}function h(){(0,s.WR)("FolderManager"),u.setAttribute("displayed","true"),function(){m.apply(this,arguments)}()}function b(){(0,s.kr)("FolderManager"),u.setAttribute("displayed","false")}},8456(){},8592(){},8843(){},9333(e,t,n){n.d(t,{I6:()=>L,uy:()=>A});var a=n(467),r=n(9566),o=n(8179),i=n(8024),c=n(6189),s=n(4537),d=n(904),l=n(9119);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var p=(0,o.bv)(".zr"),v=(0,o.aI)(p,"._r"),m=(0,o.aI)(v,".as"),h=(0,o.aI)(p,".cs"),b=(0,o.aI)(h,".ds"),y=(0,o.aI)(b,'.es[group="folder-name"] .is input'),g=(0,o.aI)(b,'.es[group="folder-icon"] .is .js input'),k=(0,o.aI)(b,'.es[group="folder-icon"] .is .js .ks'),w=(0,o.aI)(b,'.es[group="folder-content"] .is');function C(e,t){var n=(0,i.zx)(),a=document.createElement("div");a.id=n,a.classList.add("ls"),a.setAttribute("type",t.type);var c="",d="",u="";switch(t.type){case"stop":u="location_on",c=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,d=t.name;break;case"route":u="route",c=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,d=t.name;break;case"location":u="location_on",c="地點",d=t.name;break;case"bus":c="",d=t.name;break;case"empty":u="lightbulb",c="提示",d="沒有內容";break;default:u="",c="null",d="null"}var f=document.createElement("div");f.classList.add("ms"),f.appendChild((0,s.YC)(u));var v=document.createElement("div");v.classList.add("ns"),v.appendChild(document.createTextNode(c));var m=document.createElement("div");m.classList.add("os"),m.appendChild(document.createTextNode(d));var h=document.createElement("div");h.classList.add("ps");var b=document.createElement("div");b.classList.add("qs"),b.appendChild((0,s.YC)("keyboard_arrow_down")),b.onclick=function(){E(n,e.id,t.type,t.id,"up")};var y=document.createElement("div");y.classList.add("rs"),y.appendChild((0,s.YC)("keyboard_arrow_down")),y.onclick=function(){E(n,e.id,t.type,t.id,"down")};var g=document.createElement("div");g.classList.add("ss"),g.appendChild((0,s.YC)("delete")),g.onclick=function(){!function(e,t,n,a){var i=(0,o.aI)(p,`.cs .ds .es[group="folder-content"] .is .ls#${e}`);(0,r.NC)(t,n,a).then(function(e){if(e)switch(i.remove(),n){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(n,e.id,t.type,t.id)};var k=document.createElement("div");k.classList.add("ts");var w=document.createElement("div");return w.classList.add("ts"),h.appendChild(b),h.appendChild(y),h.appendChild(g),h.appendChild(k),h.appendChild(w),a.appendChild(f),a.appendChild(v),a.appendChild(m),a.appendChild(h),{element:a,id:n}}function I(e,t){y.value=e.name,g.value=e.icon,m.onclick=function(){var t,n,a;t=e.id,n=y.value,a=g.value,(0,r.g$)(t,n,a).then(function(e){e?(L(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},w.innerHTML="";var n,a=new DocumentFragment,o=u(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=C(e,i);a.appendChild(c.element)}}catch(e){o.e(e)}finally{o.f()}w.append(a)}function S(){return(S=(0,a.A)(function*(e){I((0,r.L2)(e),yield(0,r.eD)(e))})).apply(this,arguments)}function A(e){(0,d.WR)("FolderEditor"),p.setAttribute("displayed","true"),function(e){S.apply(this,arguments)}(e),(0,d.Z_)()}function L(){p.setAttribute("displayed","false"),(0,d.l$)()}function E(e,t,n,a,i){var c=(0,o.aI)(p,`.cs .ds .es[group="folder-content"] .is .ls#${e}`);(0,r.bq)(t,n,a,i).then(function(e){if(e)switch(i){case"up":var t=c.previousElementSibling;t&&c.parentNode.insertBefore(c,t),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var n=c.nextElementSibling;n&&c.parentNode.insertBefore(n,c),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}k.onclick=function(){(0,c.r7)("editor")}},9422(){},9457(){},9678(){}}]);
//# sourceMappingURL=9e8f0561e67326200195.js.map