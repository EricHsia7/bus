"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[4356],{4356(e,t,n){n.d(t,{default:()=>H});var a=n(6483),r=n(8925),o=n(5767),i=n(9566),c=n(3422),d=n(5314),l=n(3459),u=n(3251),s=n(1238),f=n(1531),p=n(4884),v=n(9499),h=n(6052),m=n(6189),b=n(8379),y=n(540),g=n(6082),C=n(6091),w=n(904),I=n(1351),E=n(3030),S=n(2174),k=n(8380),L=n(5693),A=n(7891),_=n(8279),F=n(7908),M=n(5286),T=n(4690),x=n(3041),P=n(752),R=n(5009),$=n(6104),D=n(6166),N=n(2994),j=n(9469),Y=n(8179),z=!1,q=!1;window.bus={initialize:function(){!1===z&&(z=!0,(0,w.BM)(),(0,l.Yq)().then(function(){(0,C.Q)(),(0,y.F)(),(0,u.A)().then(function(e){if("ok"===e){(0,T.S5)(),(0,E.s_)(),(0,R.ld)(),window.addEventListener("resize",function(){(0,R.ld)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,R.ld)()}),(0,C.u)(),(0,i.Rh)().then(function(){(0,y.a)()});var t=window.matchMedia("(prefers-color-scheme: dark)"),n=(0,Y.bv)(".dk .ek .gk #search_input");t.addEventListener("change",function(){(0,R.gn)(n.selectionStart,n.selectionEnd)}),n.addEventListener("paste",function(){(0,R.RC)(),(0,R.gn)(n.selectionStart,n.selectionEnd)}),n.addEventListener("cut",function(){(0,R.RC)(),(0,R.gn)(n.selectionStart,n.selectionEnd)}),n.addEventListener("selectionchange",function(){(0,R.RC)(),(0,R.gn)(n.selectionStart,n.selectionEnd)}),document.addEventListener("selectionchange",function(){(0,R.RC)(),(0,R.gn)(n.selectionStart,n.selectionEnd)}),n.addEventListener("keyup",function(){(0,R.RC)(),(0,R.gn)(n.selectionStart,n.selectionEnd)});var a=(0,Y.bv)(".aa .tm .um #search_material_symbols_input");a.addEventListener("paste",function(){(0,m.Pk)(a.value)}),a.addEventListener("cut",function(){(0,m.Pk)(a.value)}),a.addEventListener("selectionchange",function(){(0,m.Pk)(a.value)}),document.addEventListener("selectionchange",function(){(0,m.Pk)(a.value)}),a.addEventListener("keyup",function(){(0,m.Pk)(a.value)}),(0,j._)(),(0,w.AE)(function(){(0,c.Db)(),(0,c.cS)().then(function(){(0,c.z9)()}),document.addEventListener("click",function(){(0,f.to)(),(0,s.q)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,w.f1)(),(0,w.AE)())}).catch(function(){(0,w.f1)(),(0,w.AE)()})}))},secondlyInitialize:function(){q||(q=!0,(0,g.X)(),(0,o.fV)(),(0,r.Ir)(),(0,a.$t)(),(0,d.FU)(),(0,o.fV)().then(function(){(0,o.MN)().then(function(){(0,o.cy)()})}))},route:{closeRoute:T.U7,switchRoute:T.Ch,closeRouteDetails:M.GZ},location:{openLocation:E.so,closeLocation:E.eS,closeLocationDetails:I.co},folder:{openSaveToFolder:x.B,closeSaveToFolder:x.n,closeFolderManager:b.m,closeFolderIconSelector:m.jW,openFolderCreator:h.pd,closeFolderCreator:h.z1,createFormulatedFolder:h.c6},search:{openSearch:R.rf,closeSearch:R.Bb,switchSearchTypeFilter:R.H2},storage:{closeStorage:N.Q},dataUsage:{closeDataUsage:v.i},personalSchedule:{closePersonalScheduleManager:A.Z,openPersonalScheduleCreator:k.I1,closePersonalScheduleCreator:k.GJ,createFormulatedPersonalSchedule:k.Ps,switchPersonalScheduleCreatorDay:k.om,openPersonalScheduleEditor:L.bF,closePersonalScheduleEditor:L.Xy,switchPersonalScheduleEditorDay:L.Dn,saveEditedPersonalSchedule:L.gv},settings:{openSettings:$.Ow,closeSettings:$.os,closeSettingsOptions:D.wx},bus:{openBus:p.$l,closeBus:p.FN},notification:{openNotificationScheduleManager:S.Sv,closeNotificationScheduleManager:S.m_,openRegisterNotification:F.XG,closeRegisterNotification:F.hy,saveFormulatedRegisterNotification:F.NW,closeScheduleNotification:P.b$},qrcode:{openQRCode:_.X8,closeQRCode:_.Vc}};const H=window.bus},4884(e,t,n){n.d(t,{N4:()=>C,FN:()=>I,$l:()=>w});var a=n(467),r=n(6160),o=n(5314),i=n(3459),c=n(8179),d=n(8024),l=n(904),u=n(4537),s=[],f=!1,p=!1;function v(){var e=document.createElement("div");e.classList.add("g");var t=document.createElement("div");t.classList.add("h"),t.appendChild((0,u.oC)());var n=document.createElement("div");return n.classList.add("i"),e.appendChild(t),e.appendChild(n),{element:e,id:""}}function h(e,t,n){function a(e,a,r){function o(e,t){var n=(0,c.aI)(e,".h");(0,u.yD)(n,t.icon)}function i(e,t){(0,c.aI)(e,".i").innerText=t.value}function l(e,t){e.setAttribute("animation",t)}function s(e,t){e.setAttribute("skeleton-screen",t)}null==r?(o(e,a),i(e,a),s(e,t),l(e,n)):((0,d.hw)(r,a)||o(e,a),(0,d.hw)(r,a)||i(e,a),t!==f&&s(e,t),n!==p&&l(e,n))}var r=e.length,o=(0,c.jg)(C,".g").length;if(r!==o){var i=o-r;if(i<0){for(var l=new DocumentFragment,h=0,m=Math.abs(i);h<m;h++){var b=v();l.appendChild(b.element)}C.append(l)}else for(var y=(0,c.jg)(C,".g"),g=0,w=Math.abs(i);g<w;g++){y[o-1-g].remove()}}for(var I=(0,c.jg)(C,".g"),E=0;E<r;E++){var S=I[E],k=e[E];0===s.length?a(S,k,null):a(S,k,s[E])}s=e,p=n,f=t}var m=(0,c.bv)(".j"),b=((0,c.aI)(m,".k"),(0,c.aI)(m,".l")),y=(0,c.aI)(b,".m"),g=(0,c.aI)(y,'.n[group="properties"]'),C=(0,c.aI)(g,".o");(0,c.aI)(y,'.n[group="location"]');function w(e){(0,l.WR)("Bus"),(0,o.XK)("bus",e),m.setAttribute("displayed","true"),function(e){E.apply(this,arguments)}(e),(0,l.Z_)()}function I(){m.setAttribute("displayed","false"),(0,l.l$)()}function E(){return(E=(0,a.A)(function*(e){!function(){for(var e=(0,i.Js)("playing_animation"),t=[],n=0;n<5;n++)t.push({key:n,icon:"",value:""});h(t,!0,e)}();var t=(0,i.Js)("playing_animation"),n=(0,d.zx)();h((yield(0,r.i)(e,n)).properties,!1,t)})).apply(this,arguments)}},6052(e,t,n){n.d(t,{c6:()=>p,pd:()=>v,z1:()=>h});var a=n(9566),r=n(8179),o=n(6189),i=n(904),c=n(9119),d=(0,r.bv)(".p"),l=(0,r.aI)(d,".q"),u=(0,r.aI)(l,".r"),s=(0,r.aI)(u,'.s[group="folder-name"] .t input'),f=(0,r.aI)(u,'.s[group="folder-icon"] .t .u input');function p(){var e=s.value,t=f.value;(0,a.vV)(e,t).then(function(e){e?(h(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function v(){(0,i.WR)("FolderCreator"),d.setAttribute("displayed","true"),(0,i.Z_)()}function h(){d.setAttribute("displayed","false"),(0,i.l$)()}(0,r.aI)(u,'.p .q .r .s[group="folder-icon"] .t .u .v').onclick=function(){(0,o.r7)("creator")}},6189(e,t,n){n.d(t,{Pk:()=>I,jW:()=>S,r7:()=>E});var a=n(467),r=n(9218),o=n(6788),i=n(972),c=n(8179),d=n(8024),l=n(4781),u=n(6082),s=n(4537),f=n(904),p=n(9119);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var m="",b=(0,c.bv)("._"),y=(0,c.bv)(".p"),g=(0,c.bv)(".aa");function C(e){var t=document.createElement("div");return t.classList.add("ba"),t.onclick=function(){!function(e){var t;switch(m){case"editor":t=(0,c.aI)(b,'.fa .ga .ha[group="folder-icon"] .ia .ja input');break;case"creator":t=(0,c.aI)(y,'.q .r .s[group="folder-icon"] .t .u input')}t.value=e,S()}(e)},t.appendChild((0,s.YC)(e)),{element:t,id:""}}function w(){return(w=(0,a.A)(function*(){var e=(0,c.aI)(g,".ca .da");e.innerHTML="";var t=(0,d.zx)(),n=yield(0,r.l)(t);(0,o.LQ)(t);var a=new DocumentFragment;for(var i in n.symbols){var l=C(i);a.appendChild(l.element)}e.append(a)})).apply(this,arguments)}function I(e){var t=(0,c.aI)(g,".ca .ea"),n=(0,c.aI)(g,".ca .da");if(!(0,l.iO)(e)){var a,r=(0,i.U)(e),o=new DocumentFragment,d=v(r);try{for(d.s();!(a=d.n()).done;){var u=C(a.value.item);o.appendChild(u.element)}}catch(e){d.e(e)}finally{d.f()}t.innerHTML="",t.append(o),t.setAttribute("displayed",r.length>0?"true":"false"),n.setAttribute("displayed",r.length>0?"false":"true")}}function E(e){switch((0,f.WR)("FolderIconSelector"),e){case"editor":m="editor",(0,c.aI)(b,'.fa .ga .ha[group="folder-icon"] .ia .ja .ka');break;case"creator":m="creator",(0,c.aI)(y,'.q .r .s[group="folder-icon"] .t .u .v')}u.m?(g.setAttribute("displayed","true"),function(){w.apply(this,arguments)}(m),(0,i.L)()):(0,p.a)("download_for_offline","資料還在下載中")}function S(){(0,f.kr)("FolderIconSelector"),g.setAttribute("displayed","false")}},8379(e,t,n){n.d(t,{g:()=>m,m:()=>b});var a=n(467),r=n(9566),o=n(8179),i=n(9333),c=n(4537),d=n(904);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var s=(0,o.bv)(".la"),f=(0,o.aI)(s,".ma"),p=(0,o.aI)(f,".na");function v(e){var t=document.createElement("div");t.classList.add("oa"),t.onclick=function(){(0,i.uy)(e.id)};var n=document.createElement("div");n.classList.add("pa"),n.appendChild((0,c.YC)(e.icon));var a=document.createElement("div");a.classList.add("qa"),a.appendChild(document.createTextNode(e.name));var r=document.createElement("div");r.classList.add("ra"),r.appendChild(document.createTextNode(String(e.contentLength)));var o=document.createElement("div");return o.classList.add("sa"),o.appendChild((0,c.YC)("arrow_forward_ios")),t.appendChild(n),t.appendChild(a),t.appendChild(r),t.appendChild(o),{element:t,id:""}}function h(){return(h=(0,a.A)(function*(){var e=yield(0,r.Xi)();p.innerHTML="";var t,n=new DocumentFragment,a=l(e);try{for(a.s();!(t=a.n()).done;){var o=v(t.value);n.appendChild(o.element)}}catch(e){a.e(e)}finally{a.f()}p.append(n)})).apply(this,arguments)}function m(){(0,d.WR)("FolderManager"),s.setAttribute("displayed","true"),function(){h.apply(this,arguments)}()}function b(){(0,d.kr)("FolderManager"),s.setAttribute("displayed","false")}},9333(e,t,n){n.d(t,{I6:()=>L,uy:()=>k});var a=n(467),r=n(9566),o=n(8179),i=n(8024),c=n(6189),d=n(4537),l=n(904),u=n(9119);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var p=(0,o.bv)("._"),v=(0,o.aI)(p,".ta"),h=(0,o.aI)(v,".ua"),m=(0,o.aI)(p,".fa"),b=(0,o.aI)(m,".ga"),y=(0,o.aI)(b,'.ha[group="folder-name"] .ia input'),g=(0,o.aI)(b,'.ha[group="folder-icon"] .ia .ja input'),C=(0,o.aI)(b,'.ha[group="folder-icon"] .ia .ja .ka'),w=(0,o.aI)(b,'.ha[group="folder-content"] .ia');function I(e,t){var n=(0,i.zx)(),a=document.createElement("div");a.id=n,a.classList.add("va"),a.setAttribute("type",t.type);var c="",l="",s="";switch(t.type){case"stop":s="location_on",c=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,l=t.name;break;case"route":s="route",c=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,l=t.name;break;case"location":s="location_on",c="地點",l=t.name;break;case"bus":c="",l=t.name;break;case"empty":s="lightbulb",c="提示",l="沒有內容";break;default:s="",c="null",l="null"}var f=document.createElement("div");f.classList.add("wa"),f.appendChild((0,d.YC)(s));var v=document.createElement("div");v.classList.add("xa"),v.appendChild(document.createTextNode(c));var h=document.createElement("div");h.classList.add("ya"),h.appendChild(document.createTextNode(l));var m=document.createElement("div");m.classList.add("za");var b=document.createElement("div");b.classList.add("_a"),b.appendChild((0,d.YC)("keyboard_arrow_down")),b.onclick=function(){A(n,e.id,t.type,t.id,"up")};var y=document.createElement("div");y.classList.add("ab"),y.appendChild((0,d.YC)("keyboard_arrow_down")),y.onclick=function(){A(n,e.id,t.type,t.id,"down")};var g=document.createElement("div");g.classList.add("bb"),g.appendChild((0,d.YC)("delete")),g.onclick=function(){!function(e,t,n,a){var i=(0,o.aI)(p,`.fa .ga .ha[group="folder-content"] .ia .va#${e}`);(0,r.NC)(t,n,a).then(function(e){if(e)switch(i.remove(),n){case"stop":(0,u.a)("delete","已移除站牌");break;case"route":(0,u.a)("delete","已移除路線");break;case"location":(0,u.a)("delete","已移除地點")}else(0,u.a)("error","無法移除")})}(n,e.id,t.type,t.id)};var C=document.createElement("div");C.classList.add("cb");var w=document.createElement("div");return w.classList.add("cb"),m.appendChild(b),m.appendChild(y),m.appendChild(g),m.appendChild(C),m.appendChild(w),a.appendChild(f),a.appendChild(v),a.appendChild(h),a.appendChild(m),{element:a,id:n}}function E(e,t){y.value=e.name,g.value=e.icon,h.onclick=function(){var t,n,a;t=e.id,n=y.value,a=g.value,(0,r.g$)(t,n,a).then(function(e){e?(L(),(0,u.a)("check_circle","已儲存變更")):(0,u.a)("error","無法儲存")})},w.innerHTML="";var n,a=new DocumentFragment,o=s(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=I(e,i);a.appendChild(c.element)}}catch(e){o.e(e)}finally{o.f()}w.append(a)}function S(){return(S=(0,a.A)(function*(e){E((0,r.L2)(e),yield(0,r.eD)(e))})).apply(this,arguments)}function k(e){(0,l.WR)("FolderEditor"),p.setAttribute("displayed","true"),function(e){S.apply(this,arguments)}(e),(0,l.Z_)()}function L(){p.setAttribute("displayed","false"),(0,l.l$)()}function A(e,t,n,a,i){var c=(0,o.aI)(p,`.fa .ga .ha[group="folder-content"] .ia .va#${e}`);(0,r.bq)(t,n,a,i).then(function(e){if(e)switch(i){case"up":var t=c.previousElementSibling;t&&c.parentNode.insertBefore(c,t),(0,u.a)("arrow_circle_up","已往上移");break;case"down":var n=c.nextElementSibling;n&&c.parentNode.insertBefore(n,c),(0,u.a)("arrow_circle_down","已往下移")}else(0,u.a)("error","無法移動")})}C.onclick=function(){(0,c.r7)("editor")}},9499(e,t,n){n.d(t,{i:()=>C,k:()=>g});var a=n(467),r=n(8925),o=n(7183),i=n(8179),c=n(5579),d=n(904),l=(0,i.bv)(".db"),u=(0,i.aI)(l,".eb"),s=(0,i.aI)(u,".fb"),f=(0,i.aI)(u,".gb"),p=(0,i.aI)(f,'.hb[name="total-data-usage"] .ib'),v=(0,i.aI)(f,'.hb[name="max-data-usage-per-minute"] .ib'),h=(0,i.aI)(f,'.hb[name="min-data-usage-per-minute"] .ib'),m=(0,i.aI)(f,'.hb[name="start-time"] .ib'),b=(0,i.aI)(f,'.hb[name="end-time"] .ib');function y(){return(y=(0,a.A)(function*(){var e=(0,d.gO)("window"),t=e.width,n=Math.min(5/18*t,.33*e.height),a=yield(0,r.LN)(t,n,20);p.innerText=(0,o.tH)(a.stats.sum),v.innerText=(0,o.tH)(a.stats.max),h.innerText=(0,o.tH)(a.stats.min),m.innerText=(0,c.$T)(a.period.start,"YYYY-MM-DD"),b.innerText=(0,c.$T)(a.period.end,"YYYY-MM-DD"),s.innerHTML=a.chart})).apply(this,arguments)}function g(){(0,d.WR)("DataUsage"),l.setAttribute("displayed","true"),function(){y.apply(this,arguments)}(),(0,d.Z_)()}function C(){l.setAttribute("displayed","false"),(0,d.l$)()}}}]);
//# sourceMappingURL=4356.1bcdffa86fdc7ff93d21.js.map