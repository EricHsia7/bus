"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[799],{2063:(t,n,e)=>{e.d(n,{K:()=>l});var r=e(3153),i=e(6788);function a(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(l)throw a}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function l(t){return f.apply(this,arguments)}function f(){var t;return t=function*(t){var n,e=[],o=a([[0,4],[1,4]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,l=yield(0,i.Fd)(u.url,t,`getEstimateTime_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,i.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},f=function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){u(a,r,i,o,l,"next",t)}function l(t){u(a,r,i,o,l,"throw",t)}o(void 0)}))},f.apply(this,arguments)}},3153:(t,n,e)=>{e.d(n,{Y:()=>o,y:()=>a});var r=e(8024),i=e(3459);function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,o=["blobbus","ntpcbus"],u=["BusData","BusEvent","CarInfo","CarUnusual","EstimateTime","IStop","IStopPath","OrgPathAttribute","PathDetail","Provider","Route","Stop","SemiTimeTable","StopLocation","TimeTable","BusRouteFareList"],l=(0,i.Js)("proxy");return e?`http://erichsia7.github.io/bus-alternative-static-apis/${o[t]}/Get${u[n]}.gz?_=${(0,r.FU)(a)}`:l?`https://bus-proxy.erichsia7.workers.dev?url=https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${u[n]}.gz&_=${(0,r.FU)(a)}`:`https://tcgbusfs.blob.core.windows.net/${o[t]}/Get${u[n]}.gz?_=${(0,r.FU)(a)}`}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return`https://erichsia7.github.io/material-symbols-list/index.gz?_=${(0,r.FU)(t)}`}},6802:(t,n,e)=>{e.d(n,{d:()=>l});var r=e(3153),i=e(6788);function a(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(l)throw a}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function l(t){return f.apply(this,arguments)}function f(){var t;return t=function*(t){var n,e=[],o=a([[0,0],[1,0]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,l=yield(0,i.Fd)(u.url,t,`getBusData_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,i.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},f=function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){u(a,r,i,o,l,"next",t)}function l(t){u(a,r,i,o,l,"throw",t)}o(void 0)}))},f.apply(this,arguments)}},7810:(t,n,e)=>{e.d(n,{J:()=>l});var r=e(3153),i=e(6788);function a(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(l)throw a}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function u(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function l(t){return f.apply(this,arguments)}function f(){var t;return t=function*(t){var n,e=[],o=a([[0,1],[1,1]].map((function(t){return{url:(0,r.y)(t[0],t[1]),e:t}})));try{for(o.s();!(n=o.n()).done;){var u=n.value,l=yield(0,i.Fd)(u.url,t,`getBusEvent_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,i.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){o.e(t)}finally{o.f()}return e},f=function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){u(a,r,i,o,l,"next",t)}function l(t){u(a,r,i,o,l,"throw",t)}o(void 0)}))},f.apply(this,arguments)}},8011:(t,n,e)=>{e.d(n,{g:()=>h});var r=e(4311),i=e(3153),a=e(6788);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(l)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){l(a,r,i,o,u,"next",t)}function u(t){l(a,r,i,o,u,"throw",t)}o(void 0)}))}}var c={simplified:{available:!1,data:{}},merged:{available:!1,data:{}},indexed:{available:!1,data:{}}};function s(t){return y.apply(this,arguments)}function y(){return(y=f((function*(t){var n=new Worker(new URL(e.p+e.u(104),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=f((function*(t){var n=new Worker(new URL(e.p+e.u(648),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function m(t){return p.apply(this,arguments)}function p(){return(p=f((function*(t){var n=new Worker(new URL(e.p+e.u(619),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function h(t,n){return b.apply(this,arguments)}function b(){return b=f((function*(t,n){function e(){return u.apply(this,arguments)}function u(){return u=f((function*(){var n,e=[],r=o([[0,11],[1,11]].map((function(t){return{url:(0,i.y)(t[0],t[1]),e:t}})));try{for(r.s();!(n=r.n()).done;){var u=n.value,l=yield(0,a.Fd)(u.url,t,`getLocation_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,a.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e})),u.apply(this,arguments)}var l=["simplified","merged","indexed"][n],y=`bus_${l}_location_cache`,v=yield(0,r.Ct)(0,`${y}_timestamp`);if(null===v){var p;switch(n){case 0:var b=yield e();p=yield s(b);break;case 1:var g=yield h(t,0);p=yield d(g);break;case 2:var w=yield h(t,1);p=yield m(w)}return yield(0,r.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,y,JSON.stringify(p)),c[l].available||(c[l].available=!0,c[l].data=p),p}if((new Date).getTime()-parseInt(v)>2592e6){var S;switch(n){case 0:var I=yield e();S=yield s(I);break;case 1:var _=yield h(t,0);S=yield d(_);break;case 2:var A=yield h(t,1);S=yield m(A)}return yield(0,r.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,y,JSON.stringify(S)),c[l].available||(c[l].available=!0,c[l].data=S),S}if(!c[l].available){var $=yield(0,r.Ct)(0,y);c[l].available=!0,c[l].data=JSON.parse($)}return(0,a.Mf)(t,"getLocation_0",0,!0),(0,a.Mf)(t,"getLocation_1",0,!0),(0,a.ZL)(t,-1),c[l].data})),b.apply(this,arguments)}},9734:(t,n,e)=>{e.d(n,{j:()=>d});var r=e(4311),i=e(3153),a=e(6788);function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==e.return||e.return()}finally{if(l)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function o(t){l(a,r,i,o,u,"next",t)}function u(t){l(a,r,i,o,u,"throw",t)}o(void 0)}))}}var c={raw:{data:[],available:!1},simplified:{data:{},available:!1}};function s(t){return y.apply(this,arguments)}function y(){return(y=f((function*(t){var n=new Worker(new URL(e.p+e.u(579),e.b));return yield new Promise((function(e,r){n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(t){r(t.message),n.terminate()},n.postMessage(t)}))}))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return v=f((function*(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function e(){return u.apply(this,arguments)}function u(){return u=f((function*(){var n,e=[],r=o([[0,2],[1,2]].map((function(t){return{url:(0,i.y)(t[0],t[1]),e:t}})));try{for(r.s();!(n=r.n()).done;){var u=n.value,l=yield(0,a.Fd)(u.url,t,`getCarInfo_${u.e[0]}`,"json");e=e.concat(l.BusInfo),(0,a.ZL)(t,l.EssentialInfo.UpdateTime)}}catch(t){r.e(t)}finally{r.f()}return e})),u.apply(this,arguments)}var l=n?"simplified":"raw",y=`bus_${l}_car_info_cache`,d=yield(0,r.Ct)(0,`${y}_timestamp`);if(null===d){var v,m=yield e();return v=n?yield s(m):m,yield(0,r.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,y,JSON.stringify(v)),c[l].available||(c[l].available=!0,c[l].data=v),v}if((new Date).getTime()-parseInt(d)>2592e6){var p,h=yield e();return p=n?yield s(h):h,yield(0,r.mL)(0,`${y}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,y,JSON.stringify(p)),p}if(!c[l].available){var b=yield(0,r.Ct)(0,y);c[l].available=!0,c[l].data=JSON.parse(b)}return(0,a.Mf)(t,"getCarInfo_0",0,!0),(0,a.Mf)(t,"getCarInfo_1",0,!0),(0,a.ZL)(t,-1),c[l].data})),v.apply(this,arguments)}},9930:(t,n,e)=>{e.d(n,{z:()=>c});var r=e(4311),i=e(3153),a=e(6788);function o(t,n,e,r,i,a,o){try{var u=t[a](o),l=u.value}catch(t){return void e(t)}u.done?n(l):Promise.resolve(l).then(r,i)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var a=t.apply(n,e);function u(t){o(a,r,i,u,l,"next",t)}function l(t){o(a,r,i,u,l,"throw",t)}u(void 0)}))}}var l=!1,f=[];function c(t){return s.apply(this,arguments)}function s(){return s=u((function*(t){function n(){return e.apply(this,arguments)}function e(){return(e=u((function*(){var n=(0,i.Y)();return(yield(0,a.Fd)(n,t,"getMaterialSymbols","json")).list.split(",")}))).apply(this,arguments)}var o="bus_material_symbols_cache",c=yield(0,r.Ct)(0,`${o}_timestamp`);if(null===c){var s=yield n();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,s.join(",")),l||(l=!0,f=s),s}if((new Date).getTime()-parseInt(c)>2592e6){var y=yield n();return yield(0,r.mL)(0,`${o}_timestamp`,(new Date).getTime()),yield(0,r.mL)(0,o,y.join(",")),l||(l=!0,f=y),y}if(!l){var d=yield(0,r.Ct)(0,o);l=!0,f=d.split(",")}return(0,a.Mf)(t,"getMaterialSymbols",0,!0),f})),s.apply(this,arguments)}}}]);
//# sourceMappingURL=992962fc04e136198636.js.map