"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{1702(e,n,a){a.d(n,{default:()=>I});var t,i,r=a(467),o=a(6483),s=a(8925),d=a(5767),c=a(9566),l=a(3422),u=a(5314),p=a(3459),f=a(3251),h=a(1238),b=a(1531),v=a(4884),y=a(9499),g=a(6052),m=a(4294),w=a(8379),C=a(540),k=a(6082),L=a(6091),S=a(904),x=a(1351),T=a(3030),_=a(2174),A=a(8380),D=a(5693),F=a(7891),E=a(8279),M=a(7908),P=a(5286),Y=a(4690),q=a(3041),z=a(752),B=a(5009),N=a(6104),j=a(6166),R=a(2994),U=a(9469),$=(a(5601),a(9406),a(1781),a(3596),a(9784),a(1870),a(5063),a(5246),a(5133),a(2481),a(1765),a(5415),a(9941),a(3770),a(6444),a(2024),a(1806),a(7823),a(6878),a(7768),a(6547),a(5493),a(1275),a(9607),a(1010),a(9128),a(8361),a(2724),a(736),a(7414),a(4412),a(3882),a(5648),a(4923),a(845),a(1331),a(8442),a(1747),a(3962),a(806),a(2516),a(530),a(3758),a(8001),a(5275),a(3273),a(7025),a(7748),a(1084),a(9176),a(1854),a(6443),a(1784),a(6647),a(8129),a(6743),a(2848),a(3282),a(9250),a(6382),a(3756),a(5108),a(4827),a(2508),a(8445),a(9031),a(2389),a(3415),a(2933),a(2993),a(124),a(9723),a(8038),a(2124),a(7884),a(5912),a(7998),a(830),a(5359),a(1802),a(5142),a(6852),a(5612),a(2935),a(1269),a(870),a(9418),a(1512),a(3876),a(49),a(6132),a(6976),a(5926),a(2859),a(5184),a(7740),a(2633),a(5839),a(9297),a(6147),!1),H=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!$){$=!0,(0,S.g)(),yield(0,p.d)(),yield(0,c.c)(),(0,L.b)(),(0,C.b)();var e=yield(0,f.a)();"ok"===e?((0,U.b)(),(0,L.a)(),(0,C.a)(),(0,Y.c)(),(0,T.c)(),(0,B.c)(),(0,m.c)(),(0,B.e)(),window.addEventListener("resize",function(){(0,B.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,B.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,b.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.h)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(t=(0,r.a)(function*(){H||(H=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,k.b)(),yield(0,o.c)(),yield(0,d.b)(),yield(0,u.a)(),yield(0,s.b)(),yield(0,d.d)(),yield(0,d.e)())}),function(){return t.apply(this,arguments)}),route:{closeRoute:Y.a,closeRouteDetails:P.e},location:{closeLocation:T.a,closeLocationDetails:x.a},folder:{closeSaveToFolder:q.a,closeFolderManager:w.a,closeIconSelector:m.a,closeFolderCreator:g.a},search:{openSearch:B.d,closeSearch:B.a,switchSearchTypeFilter:B.g},storage:{closeStorage:R.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:F.a,openPersonalScheduleCreator:A.d,closePersonalScheduleCreator:A.a,createFormulatedPersonalSchedule:A.b,switchPersonalScheduleCreatorDay:A.f,openPersonalScheduleEditor:D.c,closePersonalScheduleEditor:D.a,switchPersonalScheduleEditorDay:D.f,saveEditedPersonalSchedule:D.d},settings:{openSettings:N.f,closeSettings:N.a,closeSettingsOptions:j.a},bus:{closeBus:v.b},notification:{closeNotificationScheduleManager:_.a,openRegisterNotification:M.b,closeScheduleNotification:z.a},qrcode:{closeQRCode:E.a}};const I=window.bus},4884(e,n,a){a.d(n,{a:()=>w,b:()=>S,c:()=>k,d:()=>L,e:()=>C});var t=a(467),i=a(6160),r=a(5314),o=a(3459),s=a(8179),d=a(8024),c=a(904),l=a(4537),u=[],p=!1,f=!1;function h(){var e=(0,s.a)();e.classList.add("or");var n=(0,s.a)();n.classList.add("pr"),n.appendChild((0,l.a)());var a=(0,s.a)();return a.classList.add("qr"),e.appendChild(n),e.appendChild(a),e}function b(e,n,a){function t(e,t,i){function r(e,n){var a=(0,s.e)(e,".pr");(0,l.c)(a,n.icon)}function o(e,n){(0,s.e)(e,".qr").innerText=n.value}function c(e,n){e.setAttribute("animation",n)}function u(e,n){e.setAttribute("skeleton-screen",n)}null==i?(r(e,t),o(e,t),u(e,n),c(e,a)):((0,d.b)(i,t)||r(e,t),(0,d.b)(i,t)||o(e,t),n!==p&&u(e,n),a!==f&&c(e,a))}var i=e.length,r=Array.from((0,s.d)(w,".or")),o=r.length;if(i!==o){var c=o-i;if(c<0){for(var b=new DocumentFragment,v=0;v>c;v--){var y=h();b.appendChild(y),r.push(y)}w.append(b)}else if(c>0)for(var g=o-1,m=o-c-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var C=0;C<i;C++){var k=r[C],L=e[C];u[C]?t(k,L,u[C]):t(k,L,null)}u=e,f=a,p=n}var v=(0,s.c)(".cr"),y=((0,s.e)(v,".dr"),(0,s.e)(v,".hr")),g=(0,s.e)(y,".ir"),m=(0,s.e)(g,'.jr[group="properties"]'),w=(0,s.e)(m,".nr");(0,s.e)(g,'.jr[group="location"]');function C(){v.setAttribute("displayed","true")}function k(){v.setAttribute("displayed","false")}function L(e){(0,c.c)("Bus"),(0,r.e)("bus",e),C(),function(e){x.apply(this,arguments)}(e),(0,c.b)()}function S(){k(),(0,c.i)(),(0,c.e)("Bus")}function x(){return(x=(0,t.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),n=[],a=0;a<5;a++)n.push({key:a,icon:"",value:""});b(n,!0,e)}();var n=(0,o.b)("playing_animation"),a=(0,d.c)();b((yield(0,i.a)(e,a)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,a){a.d(n,{a:()=>T,b:()=>S,c:()=>x,d:()=>L});var t=a(467),i=a(9566),r=a(8179),o=a(4294),s=a(904),d=a(9119),c=(0,r.c)(".ys"),l=(0,r.e)(c,".zs"),u=(0,r.e)(l,".at"),p=(0,r.e)(c,".ct"),f=(0,r.e)(p,".dt"),h=(0,r.e)(f,'.et[group="folder-name"]'),b=(0,r.e)(h,".it"),v=(0,r.e)(b,"input"),y=(0,r.e)(f,'.et[group="folder-icon"]'),g=(0,r.e)(y,".it"),m=(0,r.e)(g,".jt input"),w=(0,r.e)(f,".jt .kt");function C(){return(C=(0,t.a)(function*(e){var n=v.value,a=m.value;(yield(0,i.a)(n,a))?(T(),(0,d.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,d.a)("error","無法建立資料夾")})).apply(this,arguments)}function k(e){v.value="",m.value="",u.onclick=function(){!function(e){C.apply(this,arguments)}(e)},w.onclick=function(){(0,o.d)(m)}}function L(){c.setAttribute("displayed","true")}function S(){c.setAttribute("displayed","false")}function x(e){(0,s.c)("FolderCreator"),k(e),L(),(0,s.b)()}function T(){S(),(0,s.i)(),(0,s.e)("FolderCreator")}},8379(e,n,a){a.d(n,{a:()=>C,b:()=>m,c:()=>w,d:()=>g});var t=a(467),i=a(9566),r=a(8179),o=a(6052),s=a(9333),d=a(4537),c=a(904),l=(0,r.c)(".rr"),u=(0,r.e)(l,".wr"),p=(0,r.e)(u,".xr"),f=(0,r.e)(l,".sr"),h=(0,r.e)(f,".ur");function b(e){var n=(0,r.a)();n.classList.add("yr"),n.onclick=function(){(0,s.b)(e.id,function(){v()})};var a=(0,r.a)();a.classList.add("zr"),a.appendChild((0,d.b)(e.icon));var t=(0,r.a)();t.classList.add("_r"),t.innerText=e.name;var i=(0,r.a)();i.classList.add("as"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("bs"),o.appendChild((0,d.b)("arrow_forward_ios")),n.appendChild(a),n.appendChild(t),n.appendChild(i),n.appendChild(o),n}function v(){return y.apply(this,arguments)}function y(){return(y=(0,t.a)(function*(){h.onclick=function(){(0,o.c)(function(){v()})};var e=yield(0,i.h)();p.innerHTML="";var n=new DocumentFragment;for(var a of e){var t=b(a);n.appendChild(t)}p.append(n)})).apply(this,arguments)}function g(){l.setAttribute("displayed","true")}function m(){l.setAttribute("displayed","false")}function w(){(0,c.c)("FolderManager"),g(),v(),(0,c.b)()}function C(){m(),(0,c.i)(),(0,c.e)("FolderManager")}},9333(e,n,a){a.d(n,{a:()=>k,b:()=>L,c:()=>C});var t=a(467),i=a(9566),r=a(8179),o=a(4294),s=a(4537),d=a(904),c=a(9119),l=(0,r.c)(".cs"),u=(0,r.e)(l,".ds"),p=(0,r.e)(u,".es"),f=(0,r.e)(l,".gs"),h=(0,r.e)(f,".hs"),b=(0,r.e)(h,'.is[group="folder-name"] .ms input'),v=(0,r.e)(h,'.is[group="folder-icon"] .ms .ns input'),y=(0,r.e)(h,'.is[group="folder-icon"] .ms .ns .os'),g=(0,r.e)(h,'.is[group="folder-content"] .ms');function m(e,n){var a=(0,r.a)();a.classList.add("ps"),a.setAttribute("type",n.type);var t="",o="",d="";switch(n.type){case"stop":d="location_on",t=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,o=n.name;break;case"route":d="route",t=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,o=n.name;break;case"location":d="location_on",t="地點",o=n.name;break;case"bus":t="",o=n.name;break;case"empty":d="lightbulb",t="提示",o="沒有內容";break;default:d="",t="null",o="null"}var l=(0,r.a)();l.classList.add("qs"),l.appendChild((0,s.b)(d));var u=(0,r.a)();u.classList.add("rs"),u.innerText=t;var p=(0,r.a)();p.classList.add("ss"),p.innerText=o;var f=(0,r.a)();f.classList.add("ts");var h=(0,r.a)();h.classList.add("us"),h.appendChild((0,s.b)("keyboard_arrow_down")),h.onclick=function(){S(a,e.id,n.type,n.id,"up")};var b=(0,r.a)();b.classList.add("vs"),b.appendChild((0,s.b)("keyboard_arrow_down")),b.onclick=function(){S(a,e.id,n.type,n.id,"down")};var v=(0,r.a)();v.classList.add("ws"),v.appendChild((0,s.b)("delete")),v.onclick=function(){!function(e,n,a,t){(0,i.k)(n,a,t).then(function(n){if(n)switch(e.remove(),a){case"stop":(0,c.a)("delete","已移除站牌");break;case"route":(0,c.a)("delete","已移除路線");break;case"location":(0,c.a)("delete","已移除地點")}else(0,c.a)("error","無法移除")})}(a,e.id,n.type,n.id)};var y=(0,r.a)();y.classList.add("xs");var g=(0,r.a)();return g.classList.add("xs"),f.appendChild(h),f.appendChild(b),f.appendChild(v),f.appendChild(y),f.appendChild(g),a.appendChild(l),a.appendChild(u),a.appendChild(p),a.appendChild(f),a}function w(){return w=(0,t.a)(function*(e,n){var a=(0,i.b)(e),t=yield(0,i.g)(e);"boolean"!=typeof a&&!1!==a&&(p.onclick=function(){!function(e,n){x.apply(this,arguments)}(a.id,n)},b.value=a.name,v.value=a.icon,function(e,n){g.innerHTML="";var a=new DocumentFragment;for(var t of n){var i=m(e,t);a.appendChild(i)}g.append(a)}(a,t))}),w.apply(this,arguments)}function C(){l.setAttribute("displayed","true")}function k(){l.setAttribute("displayed","false")}function L(e,n){(0,d.c)("FolderEditor"),C(),function(e,n){w.apply(this,arguments)}(e,n),(0,d.b)()}function S(e,n,a,t,r){(0,i.p)(n,a,t,r).then(function(n){if(n)switch(r){case"up":var a=e.previousElementSibling;a&&e.parentNode.insertBefore(e,a),(0,c.a)("arrow_circle_up","已往上移");break;case"down":var t=e.nextElementSibling;t&&e.parentNode.insertBefore(t,e),(0,c.a)("arrow_circle_down","已往下移")}else(0,c.a)("error","無法移動")})}function x(){return(x=(0,t.a)(function*(e,n){var a=b.value,t=v.value;(yield(0,i.q)(e,a,t))?(k(),(0,d.i)(),(0,d.e)("FolderEditor"),"function"==typeof n&&n()):(0,c.a)("error","無法儲存變更")})).apply(this,arguments)}y.onclick=function(){(0,o.d)(v)}},9499(e,n,a){a.d(n,{a:()=>k,b:()=>w,c:()=>C,d:()=>m});var t=a(467),i=a(8925),r=a(7183),o=a(8179),s=a(5579),d=a(904),c=(0,o.c)(".lt"),l=(0,o.e)(c,".pt"),u=(0,o.e)(l,".qt"),p=(0,o.e)(l,".rt"),f=(0,o.e)(p,'.st[name="total-data-usage"] .ut'),h=(0,o.e)(p,'.st[name="max-data-usage-per-minute"] .ut'),b=(0,o.e)(p,'.st[name="min-data-usage-per-minute"] .ut'),v=(0,o.e)(p,'.st[name="start-time"] .ut'),y=(0,o.e)(p,'.st[name="end-time"] .ut');function g(){return(g=(0,t.a)(function*(){var e=(0,d.d)("window"),n=e.width,a=Math.min(5/18*n,.33*e.height),t=yield(0,i.c)(n,a,20);f.innerText=(0,r.a)(t.stats.sum),h.innerText=(0,r.a)(t.stats.max),b.innerText=(0,r.a)(t.stats.min),v.innerText=(0,s.c)(t.period.start,"YYYY-MM-DD"),y.innerText=(0,s.c)(t.period.end,"YYYY-MM-DD"),u.innerHTML=t.chart})).apply(this,arguments)}function m(){c.setAttribute("displayed","true")}function w(){c.setAttribute("displayed","false")}function C(){(0,d.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,d.b)()}function k(){w(),(0,d.i)(),(0,d.e)("DataUsage")}}}]);
//# sourceMappingURL=fd78b36e8317073986e7.js.map