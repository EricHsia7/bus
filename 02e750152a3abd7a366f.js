!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("bus",[],r):"object"==typeof exports?exports.bus=r():t.bus=r()}(self,()=>(()=>{"use strict";var t={};function r(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,a,u,f=[],i=!0,l=!1;try{if(a=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;i=!1}else for(;!(i=(e=a.call(n)).done)&&(f.push(e.value),f.length!==r);i=!0);}catch(t){l=!0,o=t}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return f}}(t,n)||function(t,n){if(t){if("string"==typeof t)return r(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t,n)||function(){throw new TypeError("E2")}()}function e(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return o(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("E0")}var u,f=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return f=t.done,t},e:function(t){i=!0,u=t},f:function(){try{f||null==n.return||n.return()}finally{if(i)throw u}}}}function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}var a=[],u=!1;if("onconnect"in self)self.onconnect=function(t){var r=t.ports[0];r.onmessage=function(t){var e=n(t.data,2),o=e[0],u=e[1];a.push({dataGroups:o,taskID:u,port:r}),i()}};else{var f=self;self.onmessage=function(t){var r=n(t.data,2),e=r[0],o=r[1];a.push({dataGroups:e,taskID:o,port:f}),i()}}function i(){if(!u&&0!==a.length){u=!0;var t=a.shift(),r=t.dataGroups,n=t.taskID,o=t.port;if(0===r.length)o.postMessage([.8,n]);else{var f,l,s=0,c=0,y=e(r);try{for(y.s();!(l=y.n()).done;){var p=l.value;if("number"==typeof p.stats.correlation){var v=Math.abs(p.stats.correlation);v>=.5&&(s+=v*p.stats.length,c+=p.stats.length)}}}catch(t){y.e(t)}finally{y.f()}f=s/c;var d=isNaN(f)?.8:f;o.postMessage([d,n])}u=!1,i()}}return t=t.default})());
//# sourceMappingURL=02e750152a3abd7a366f.js.map