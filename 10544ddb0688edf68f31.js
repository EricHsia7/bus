"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[299],{4244(e,n,t){t.d(n,{default:()=>I});var a,i,r=t(467),o=t(6483),s=t(8925),c=t(5767),d=t(9566),l=t(3422),u=t(5314),p=t(3459),f=t(3251),h=t(1238),v=t(1531),b=t(4884),y=t(9499),g=t(6052),m=t(4294),w=t(8379),C=t(540),L=t(6082),k=t(6091),S=t(904),x=t(1351),_=t(3030),E=t(2174),T=t(8380),A=t(5693),D=t(7891),F=t(8279),M=t(7908),P=t(5286),z=t(4690),Y=t(3041),j=t(752),B=t(5009),N=t(6104),R=t(6166),U=t(2994),$=t(9469),q=(t(4800),t(5259),t(6764),t(2684),t(2547),t(8933),t(6971),t(7336),t(6561),t(6110),t(9080),t(1818),t(9590),t(1844),t(2239),t(6597),t(9991),t(3777),t(2696),t(5461),t(2421),t(3058),t(1102),t(7868),t(6388),t(3127),t(1743),t(1306),t(9731),t(245),t(4071),t(5135),t(8969),t(1003),t(4472),t(4620),t(9714),t(2681),t(124),t(3381),t(9351),t(1077),t(7037),t(9205),t(3534),t(6018),t(5392),t(1308),t(7225),t(5297),t(7499),t(4953),t(7114),t(9657),t(9598),t(626),t(5504),t(6780),t(969),t(7943),t(4721),t(4263),t(3963),t(1542),t(6153),t(112),t(5374),t(5666),t(8558),t(1452),t(2676),t(1195),t(5068),t(1469),t(4935),t(321),t(6907),t(3257),t(7537),t(2503),t(1511),t(4305),t(8983),t(5995),t(5228),t(1078),t(1603),t(3749),t(7723),t(7287),t(7217),t(3425),t(6171),t(8073),t(928),t(7113),t(6340),t(6384),t(3382),t(3011),t(1484),!1),H=!1;window.bus={initialize:(i=(0,r.a)(function*(){if(!q){q=!0,(0,S.g)(),yield(0,p.d)(),yield(0,d.c)(),(0,k.b)(),(0,C.b)();var e=yield(0,f.a)();"ok"===e?((0,$.b)(),(0,k.a)(),(0,C.a)(),(0,z.c)(),(0,_.c)(),(0,B.c)(),(0,m.c)(),(0,B.e)(),window.addEventListener("resize",function(){(0,B.e)()}),screen in self&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,B.e)()}),(0,S.a)(function(){document.addEventListener("click",function(){(0,v.a)(),(0,h.a)()},{once:!0})})):"fetchError"!==e&&"unknownError"!==e||((0,S.h)(),(0,S.a)())}}),function(){return i.apply(this,arguments)}),secondlyInitialize:(a=(0,r.a)(function*(){H||(H=!0,yield(0,l.i)(),yield(0,l.g)(),yield(0,l.d)(),yield(0,L.b)(),yield(0,o.c)(),yield(0,c.b)(),yield(0,u.a)(),yield(0,s.b)(),yield(0,c.d)(),yield(0,c.e)())}),function(){return a.apply(this,arguments)}),route:{closeRoute:z.a,closeRouteDetails:P.e},location:{closeLocation:_.a,closeLocationDetails:x.a},folder:{closeSaveToFolder:Y.a,closeFolderManager:w.a,closeIconSelector:m.a,closeFolderCreator:g.a},search:{openSearch:B.d,closeSearch:B.a,switchSearchTypeFilter:B.g},storage:{closeStorage:U.a},dataUsage:{closeDataUsage:y.a},personalSchedule:{closePersonalScheduleManager:D.a,openPersonalScheduleCreator:T.d,closePersonalScheduleCreator:T.a,createFormulatedPersonalSchedule:T.b,switchPersonalScheduleCreatorDay:T.f,openPersonalScheduleEditor:A.c,closePersonalScheduleEditor:A.a,switchPersonalScheduleEditorDay:A.f,saveEditedPersonalSchedule:A.d},settings:{openSettings:N.f,closeSettings:N.a,closeSettingsOptions:R.a},bus:{closeBus:b.b},notification:{closeNotificationScheduleManager:E.a,openRegisterNotification:M.b,closeScheduleNotification:j.a},qrcode:{closeQRCode:F.a}};const I=window.bus},4884(e,n,t){t.d(n,{a:()=>w,b:()=>S,c:()=>L,d:()=>k,e:()=>C});var a=t(467),i=t(6160),r=t(5314),o=t(3459),s=t(8179),c=t(8024),d=t(904),l=t(4537),u=[],p=!1,f=!1;function h(){var e=(0,s.a)();e.classList.add("tr");var n=(0,s.a)();n.classList.add("ur"),n.appendChild((0,l.a)());var t=(0,s.a)();return t.classList.add("vr"),e.appendChild(n),e.appendChild(t),e}function v(e,n,t){function a(e,a,i){function r(e,n){var t=(0,s.e)(e,".ur");(0,l.c)(t,n.icon)}function o(e,n){(0,s.e)(e,".vr").innerText=n.value}function d(e,n){e.setAttribute("animation",n)}function u(e,n){e.setAttribute("skeleton-screen",n)}null==i?(r(e,a),o(e,a),u(e,n),d(e,t)):((0,c.b)(i,a)||r(e,a),(0,c.b)(i,a)||o(e,a),n!==p&&u(e,n),t!==f&&d(e,t))}var i=e.length,r=Array.from((0,s.d)(w,".tr")),o=r.length;if(i!==o){var d=o-i;if(d<0){for(var v=new DocumentFragment,b=0;b>d;b--){var y=h();v.appendChild(y),r.push(y)}w.append(v)}else if(d>0)for(var g=o-1,m=o-d-1;g>m;g--)r[g].remove(),r.splice(g,1)}for(var C=0;C<i;C++){var L=r[C],k=e[C];u[C]?a(L,k,u[C]):a(L,k,null)}u=e,f=t,p=n}var b=(0,s.c)(".hr"),y=((0,s.e)(b,".ir"),(0,s.e)(b,".mr")),g=(0,s.e)(y,".nr"),m=(0,s.e)(g,'.or[group="properties"]'),w=(0,s.e)(m,".sr");(0,s.e)(g,'.or[group="location"]');function C(e){var n="ltr"===e?"jg":"gg";b.addEventListener("animationend",function(){b.classList.remove(n)},{once:!0}),b.classList.add(n),b.setAttribute("displayed","true")}function L(e){var n="ltr"===e?"jg":"gg";b.addEventListener("animationend",function(){b.setAttribute("displayed","false"),b.classList.remove(n)},{once:!0}),b.classList.add(n)}function k(e){(0,d.c)("Bus"),(0,r.e)("bus",e),C("rtl"),function(e){x.apply(this,arguments)}(e),(0,d.b)()}function S(){L("ltr"),(0,d.i)(),(0,d.e)("Bus")}function x(){return(x=(0,a.a)(function*(e){!function(){for(var e=(0,o.b)("playing_animation"),n=[],t=0;t<5;t++)n.push({key:t,icon:"",value:""});v(n,!0,e)}();var n=(0,o.b)("playing_animation"),t=(0,c.c)();v((yield(0,i.a)(e,t)).properties,!1,n)})).apply(this,arguments)}},6052(e,n,t){t.d(n,{a:()=>_,b:()=>S,c:()=>x,d:()=>k});var a=t(467),i=t(9566),r=t(8179),o=t(4294),s=t(904),c=t(9119),d=(0,r.c)(".ct"),l=(0,r.e)(d,".dt"),u=(0,r.e)(l,".ft"),p=(0,r.e)(d,".ht"),f=(0,r.e)(p,".it"),h=(0,r.e)(f,'.jt[group="folder-name"]'),v=(0,r.e)(h,".nt"),b=(0,r.e)(v,"input"),y=(0,r.e)(f,'.jt[group="folder-icon"]'),g=(0,r.e)(y,".nt"),m=(0,r.e)(g,".ot input"),w=(0,r.e)(f,".ot .pt");function C(){return(C=(0,a.a)(function*(e){var n=b.value,t=m.value;(yield(0,i.a)(n,t))?(_(),(0,c.a)("folder","已建立資料夾"),"function"==typeof e&&e()):(0,c.a)("error","無法建立資料夾")})).apply(this,arguments)}function L(e){b.value="",m.value="",u.onclick=function(){!function(e){C.apply(this,arguments)}(e)},w.onclick=function(){(0,o.d)(m)}}function k(){d.setAttribute("displayed","true")}function S(){d.setAttribute("displayed","false")}function x(e){(0,s.c)("FolderCreator"),L(e),k(),(0,s.b)()}function _(){S(),(0,s.i)(),(0,s.e)("FolderCreator")}},8379(e,n,t){t.d(n,{a:()=>C,b:()=>m,c:()=>w,d:()=>g});var a=t(467),i=t(9566),r=t(8179),o=t(6052),s=t(9333),c=t(4537),d=t(904),l=(0,r.c)(".wr"),u=(0,r.e)(l,".as"),p=(0,r.e)(u,".bs"),f=(0,r.e)(l,".xr"),h=(0,r.e)(f,".zr");function v(e){var n=(0,r.a)();n.classList.add("cs"),n.onclick=function(){(0,s.b)(e.id,function(){b()})};var t=(0,r.a)();t.classList.add("ds"),t.appendChild((0,c.b)(e.icon));var a=(0,r.a)();a.classList.add("es"),a.innerText=e.name;var i=(0,r.a)();i.classList.add("fs"),i.innerText=String(e.contentLength);var o=(0,r.a)();return o.classList.add("gs"),o.appendChild((0,c.b)("arrow_forward_ios")),n.appendChild(t),n.appendChild(a),n.appendChild(i),n.appendChild(o),n}function b(){return y.apply(this,arguments)}function y(){return(y=(0,a.a)(function*(){h.onclick=function(){(0,o.c)(function(){b()})};var e=yield(0,i.h)();p.innerHTML="";var n=new DocumentFragment;for(var t of e){var a=v(t);n.appendChild(a)}p.append(n)})).apply(this,arguments)}function g(){l.setAttribute("displayed","true")}function m(){l.setAttribute("displayed","false")}function w(){(0,d.c)("FolderManager"),g(),b(),(0,d.b)()}function C(){m(),(0,d.i)(),(0,d.e)("FolderManager")}},9333(e,n,t){t.d(n,{a:()=>L,b:()=>k,c:()=>C});var a=t(467),i=t(9566),r=t(8179),o=t(4294),s=t(4537),c=t(904),d=t(9119),l=(0,r.c)(".hs"),u=(0,r.e)(l,".is"),p=(0,r.e)(u,".js"),f=(0,r.e)(l,".ls"),h=(0,r.e)(f,".ms"),v=(0,r.e)(h,'.ns[group="folder-name"] .rs input'),b=(0,r.e)(h,'.ns[group="folder-icon"] .rs .ss input'),y=(0,r.e)(h,'.ns[group="folder-icon"] .rs .ss .ts'),g=(0,r.e)(h,'.ns[group="folder-content"] .rs');function m(e,n){var t=(0,r.a)();t.classList.add("us"),t.setAttribute("type",n.type);var a="",o="",c="";switch(n.type){case"stop":c="location_on",a=`${n.route?n.route.name:""} - 往${n.route?[n.route.endPoints.destination,n.route.endPoints.departure,""][n.direction?n.direction:0]:""}`,o=n.name;break;case"route":c="route",a=`${n.endPoints.departure} ↔ ${n.endPoints.destination}`,o=n.name;break;case"location":c="location_on",a="地點",o=n.name;break;case"bus":a="",o=n.name;break;case"empty":c="lightbulb",a="提示",o="沒有內容";break;default:c="",a="null",o="null"}var l=(0,r.a)();l.classList.add("vs"),l.appendChild((0,s.b)(c));var u=(0,r.a)();u.classList.add("ws"),u.innerText=a;var p=(0,r.a)();p.classList.add("xs"),p.innerText=o;var f=(0,r.a)();f.classList.add("ys");var h=(0,r.a)();h.classList.add("zs"),h.appendChild((0,s.b)("keyboard_arrow_down")),h.onclick=function(){S(t,e.id,n.type,n.id,"up")};var v=(0,r.a)();v.classList.add("_s"),v.appendChild((0,s.b)("keyboard_arrow_down")),v.onclick=function(){S(t,e.id,n.type,n.id,"down")};var b=(0,r.a)();b.classList.add("at"),b.appendChild((0,s.b)("delete")),b.onclick=function(){!function(e,n,t,a){(0,i.k)(n,t,a).then(function(n){if(n)switch(e.remove(),t){case"stop":(0,d.a)("delete","已移除站牌");break;case"route":(0,d.a)("delete","已移除路線");break;case"location":(0,d.a)("delete","已移除地點")}else(0,d.a)("error","無法移除")})}(t,e.id,n.type,n.id)};var y=(0,r.a)();y.classList.add("bt");var g=(0,r.a)();return g.classList.add("bt"),f.appendChild(h),f.appendChild(v),f.appendChild(b),f.appendChild(y),f.appendChild(g),t.appendChild(l),t.appendChild(u),t.appendChild(p),t.appendChild(f),t}function w(){return w=(0,a.a)(function*(e,n){var t=(0,i.b)(e),a=yield(0,i.g)(e);"boolean"!=typeof t&&!1!==t&&(p.onclick=function(){!function(e,n){x.apply(this,arguments)}(t.id,n)},v.value=t.name,b.value=t.icon,function(e,n){g.innerHTML="";var t=new DocumentFragment;for(var a of n){var i=m(e,a);t.appendChild(i)}g.append(t)}(t,a))}),w.apply(this,arguments)}function C(){l.setAttribute("displayed","true")}function L(){l.setAttribute("displayed","false")}function k(e,n){(0,c.c)("FolderEditor"),C(),function(e,n){w.apply(this,arguments)}(e,n),(0,c.b)()}function S(e,n,t,a,r){(0,i.p)(n,t,a,r).then(function(n){if(n)switch(r){case"up":var t=e.previousElementSibling;t&&e.parentNode.insertBefore(e,t),(0,d.a)("arrow_circle_up","已往上移");break;case"down":var a=e.nextElementSibling;a&&e.parentNode.insertBefore(a,e),(0,d.a)("arrow_circle_down","已往下移")}else(0,d.a)("error","無法移動")})}function x(){return(x=(0,a.a)(function*(e,n){var t=v.value,a=b.value;(yield(0,i.q)(e,t,a))?(L(),(0,c.i)(),(0,c.e)("FolderEditor"),(0,d.a)("check_circle","已儲存變更"),"function"==typeof n&&n()):(0,d.a)("error","無法儲存")})).apply(this,arguments)}y.onclick=function(){(0,o.d)(b)}},9499(e,n,t){t.d(n,{a:()=>L,b:()=>w,c:()=>C,d:()=>m});var a=t(467),i=t(8925),r=t(7183),o=t(8179),s=t(5579),c=t(904),d=(0,o.c)(".qt"),l=(0,o.e)(d,".ut"),u=(0,o.e)(l,".vt"),p=(0,o.e)(l,".wt"),f=(0,o.e)(p,'.xt[name="total-data-usage"] .zt'),h=(0,o.e)(p,'.xt[name="max-data-usage-per-minute"] .zt'),v=(0,o.e)(p,'.xt[name="min-data-usage-per-minute"] .zt'),b=(0,o.e)(p,'.xt[name="start-time"] .zt'),y=(0,o.e)(p,'.xt[name="end-time"] .zt');function g(){return(g=(0,a.a)(function*(){var e=(0,c.d)("window"),n=e.width,t=Math.min(5/18*n,.33*e.height),a=yield(0,i.c)(n,t,20);f.innerText=(0,r.a)(a.stats.sum),h.innerText=(0,r.a)(a.stats.max),v.innerText=(0,r.a)(a.stats.min),b.innerText=(0,s.c)(a.period.start,"YYYY-MM-DD"),y.innerText=(0,s.c)(a.period.end,"YYYY-MM-DD"),u.innerHTML=a.chart})).apply(this,arguments)}function m(){d.setAttribute("displayed","true")}function w(){d.setAttribute("displayed","false")}function C(){(0,c.c)("DataUsage"),m(),function(){g.apply(this,arguments)}(),(0,c.b)()}function L(){w(),(0,c.i)(),(0,c.e)("DataUsage")}}}]);
//# sourceMappingURL=10544ddb0688edf68f31.js.map