{"version":3,"file":"b2aa3eb1b948c0648fb7.js","mappings":"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","sources":["webpack://bus/./node_modules/qrcode/lib/core/qrcode.js","webpack://bus/./node_modules/qrcode/lib/core/mode.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://bus/./node_modules/qrcode/lib/core/mask-pattern.js","webpack://bus/./node_modules/qrcode/lib/core/version.js","webpack://bus/./node_modules/qrcode/lib/core/alphanumeric-data.js","webpack://bus/./node_modules/qrcode/lib/core/version-check.js","webpack://bus/./node_modules/charenc/charenc.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://bus/./node_modules/qrcode/lib/core/galois-field.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://bus/./node_modules/md5/md5.js","webpack://bus/./node_modules/localforage/dist/localforage.js","webpack://bus/./node_modules/crypt/crypt.js","webpack://bus/./node_modules/qrcode/lib/core/numeric-data.js","webpack://bus/./node_modules/js-sha512/src/sha512.js","webpack://bus/./node_modules/qrcode/lib/core/format-info.js","webpack://bus/./node_modules/js-levenshtein/index.js","webpack://bus/./node_modules/qrcode/lib/core/polynomial.js","webpack://bus/./node_modules/qrcode/lib/core/reed-solomon-encoder.js","webpack://bus/./node_modules/qrcode/lib/core/kanji-data.js","webpack://bus/./node_modules/qrcode/lib/core/byte-data.js","webpack://bus/./node_modules/dijkstrajs/dijkstra.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://bus/./node_modules/qrcode/lib/core/alignment-pattern.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://bus/./node_modules/qrcode/lib/core/utils.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://bus/./node_modules/qrcode/lib/core/regex.js","webpack://bus/./node_modules/is-buffer/index.js","webpack://bus/./node_modules/qrcode/lib/core/error-correction-code.js","webpack://bus/./node_modules/qrcode/lib/core/finder-pattern.js","webpack://bus/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://bus/./node_modules/qrcode/lib/core/bit-matrix.js","webpack://bus/./node_modules/qrcode/lib/core/segments.js","webpack://bus/./node_modules/qrcode/lib/core/bit-buffer.js","webpack://bus/./node_modules/qrcode/lib/core/error-correction-level.js"],"sourcesContent":["const Utils = require('./utils')\nconst ECLevel = require('./error-correction-level')\nconst BitBuffer = require('./bit-buffer')\nconst BitMatrix = require('./bit-matrix')\nconst AlignmentPattern = require('./alignment-pattern')\nconst FinderPattern = require('./finder-pattern')\nconst MaskPattern = require('./mask-pattern')\nconst ECCode = require('./error-correction-code')\nconst ReedSolomonEncoder = require('./reed-solomon-encoder')\nconst Version = require('./version')\nconst FormatInfo = require('./format-info')\nconst Mode = require('./mode')\nconst Segments = require('./segments')\n\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern (matrix, version) {\n  const size = matrix.size\n  const pos = FinderPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue\n\n      for (let c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue\n\n        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern (matrix) {\n  const size = matrix.size\n\n  for (let r = 8; r < size - 8; r++) {\n    const value = r % 2 === 0\n    matrix.set(r, 6, value, true)\n    matrix.set(6, r, value, true)\n  }\n}\n\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern (matrix, version) {\n  const pos = AlignmentPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -2; r <= 2; r++) {\n      for (let c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 ||\n          (r === 0 && c === 0)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo (matrix, version) {\n  const size = matrix.size\n  const bits = Version.getEncodedBits(version)\n  let row, col, mod\n\n  for (let i = 0; i < 18; i++) {\n    row = Math.floor(i / 3)\n    col = i % 3 + size - 8 - 3\n    mod = ((bits >> i) & 1) === 1\n\n    matrix.set(row, col, mod, true)\n    matrix.set(col, row, mod, true)\n  }\n}\n\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {\n  const size = matrix.size\n  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern)\n  let i, mod\n\n  for (i = 0; i < 15; i++) {\n    mod = ((bits >> i) & 1) === 1\n\n    // vertical\n    if (i < 6) {\n      matrix.set(i, 8, mod, true)\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true)\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true)\n    }\n\n    // horizontal\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true)\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true)\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true)\n    }\n  }\n\n  // fixed module\n  matrix.set(size - 8, 8, 1, true)\n}\n\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix}  matrix Modules matrix\n * @param  {Uint8Array} data   Data codewords\n */\nfunction setupData (matrix, data) {\n  const size = matrix.size\n  let inc = -1\n  let row = size - 1\n  let bitIndex = 7\n  let byteIndex = 0\n\n  for (let col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--\n\n    while (true) {\n      for (let c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          let dark = false\n\n          if (byteIndex < data.length) {\n            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1)\n          }\n\n          matrix.set(row, col - c, dark)\n          bitIndex--\n\n          if (bitIndex === -1) {\n            byteIndex++\n            bitIndex = 7\n          }\n        }\n      }\n\n      row += inc\n\n      if (row < 0 || size <= row) {\n        row -= inc\n        inc = -inc\n        break\n      }\n    }\n  }\n}\n\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Uint8Array}                    Buffer containing encoded codewords\n */\nfunction createData (version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  const buffer = new BitBuffer()\n\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4)\n\n    // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version))\n\n    // add binary data sequence to buffer\n    data.write(buffer)\n  })\n\n  // Calculate required number of bits\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4)\n  }\n\n  // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0)\n  }\n\n  // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8\n  for (let i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8)\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel)\n}\n\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Uint8Array}                     Buffer containing encoded codewords\n */\nfunction createCodewords (bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewords = totalCodewords - ecTotalCodewords\n\n  // Total number of blocks\n  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel)\n\n  // Calculate how many blocks each group should contain\n  const blocksInGroup2 = totalCodewords % ecTotalBlocks\n  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2\n\n  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks)\n\n  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks)\n  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1\n\n  // Number of EC codewords is the same for both groups\n  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1\n\n  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n  const rs = new ReedSolomonEncoder(ecCount)\n\n  let offset = 0\n  const dcData = new Array(ecTotalBlocks)\n  const ecData = new Array(ecTotalBlocks)\n  let maxDataSize = 0\n  const buffer = new Uint8Array(bitBuffer.buffer)\n\n  // Divide the buffer into the required number of blocks\n  for (let b = 0; b < ecTotalBlocks; b++) {\n    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2\n\n    // extract a block of data from buffer\n    dcData[b] = buffer.slice(offset, offset + dataSize)\n\n    // Calculate EC codewords for this data block\n    ecData[b] = rs.encode(dcData[b])\n\n    offset += dataSize\n    maxDataSize = Math.max(maxDataSize, dataSize)\n  }\n\n  // Create final data\n  // Interleave the data and error correction codewords from each block\n  const data = new Uint8Array(totalCodewords)\n  let index = 0\n  let i, r\n\n  // Add data codewords\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i]\n      }\n    }\n  }\n\n  // Apped EC codewords\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i]\n    }\n  }\n\n  return data\n}\n\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol (data, version, errorCorrectionLevel, maskPattern) {\n  let segments\n\n  if (Array.isArray(data)) {\n    segments = Segments.fromArray(data)\n  } else if (typeof data === 'string') {\n    let estimatedVersion = version\n\n    if (!estimatedVersion) {\n      const rawSegments = Segments.rawSplit(data)\n\n      // Estimate best version that can contain raw splitted segments\n      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel)\n    }\n\n    // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n    segments = Segments.fromString(data, estimatedVersion || 40)\n  } else {\n    throw new Error('Invalid data')\n  }\n\n  // Get the min version that can contain data\n  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel)\n\n  // If no version is found, data cannot be stored\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code')\n  }\n\n  // If not specified, use min version as default\n  if (!version) {\n    version = bestVersion\n\n  // Check if the specified version can contain the data\n  } else if (version < bestVersion) {\n    throw new Error('\\n' +\n      'The chosen QR Code version cannot contain this amount of data.\\n' +\n      'Minimum version required to store current data is: ' + bestVersion + '.\\n'\n    )\n  }\n\n  const dataBits = createData(version, errorCorrectionLevel, segments)\n\n  // Allocate matrix buffer\n  const moduleCount = Utils.getSymbolSize(version)\n  const modules = new BitMatrix(moduleCount)\n\n  // Add function modules\n  setupFinderPattern(modules, version)\n  setupTimingPattern(modules)\n  setupAlignmentPattern(modules, version)\n\n  // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n  setupFormatInfo(modules, errorCorrectionLevel, 0)\n\n  if (version >= 7) {\n    setupVersionInfo(modules, version)\n  }\n\n  // Add data codewords\n  setupData(modules, dataBits)\n\n  if (isNaN(maskPattern)) {\n    // Find best mask pattern\n    maskPattern = MaskPattern.getBestMask(modules,\n      setupFormatInfo.bind(null, modules, errorCorrectionLevel))\n  }\n\n  // Apply mask pattern\n  MaskPattern.applyMask(maskPattern, modules)\n\n  // Replace format info bits with correct values\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern)\n\n  return {\n    modules: modules,\n    version: version,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern,\n    segments: segments\n  }\n}\n\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nexports.create = function create (data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text')\n  }\n\n  let errorCorrectionLevel = ECLevel.M\n  let version\n  let mask\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M)\n    version = Version.from(options.version)\n    mask = MaskPattern.from(options.maskPattern)\n\n    if (options.toSJISFunc) {\n      Utils.setToSJISFunction(options.toSJISFunc)\n    }\n  }\n\n  return createSymbol(data, version, errorCorrectionLevel, mask)\n}\n","const VersionCheck = require('./version-check')\nconst Regex = require('./regex')\n\n/**\n * Numeric mode encodes data from the decimal digit set (0 - 9)\n * (byte values 30HEX to 39HEX).\n * Normally, 3 data characters are represented by 10 bits.\n *\n * @type {Object}\n */\nexports.NUMERIC = {\n  id: 'Numeric',\n  bit: 1 << 0,\n  ccBits: [10, 12, 14]\n}\n\n/**\n * Alphanumeric mode encodes data from a set of 45 characters,\n * i.e. 10 numeric digits (0 - 9),\n *      26 alphabetic characters (A - Z),\n *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n * Normally, two input characters are represented by 11 bits.\n *\n * @type {Object}\n */\nexports.ALPHANUMERIC = {\n  id: 'Alphanumeric',\n  bit: 1 << 1,\n  ccBits: [9, 11, 13]\n}\n\n/**\n * In byte mode, data is encoded at 8 bits per character.\n *\n * @type {Object}\n */\nexports.BYTE = {\n  id: 'Byte',\n  bit: 1 << 2,\n  ccBits: [8, 16, 16]\n}\n\n/**\n * The Kanji mode efficiently encodes Kanji characters in accordance with\n * the Shift JIS system based on JIS X 0208.\n * The Shift JIS values are shifted from the JIS X 0208 values.\n * JIS X 0208 gives details of the shift coded representation.\n * Each two-byte character value is compacted to a 13-bit binary codeword.\n *\n * @type {Object}\n */\nexports.KANJI = {\n  id: 'Kanji',\n  bit: 1 << 3,\n  ccBits: [8, 10, 12]\n}\n\n/**\n * Mixed mode will contain a sequences of data in a combination of any of\n * the modes described above\n *\n * @type {Object}\n */\nexports.MIXED = {\n  bit: -1\n}\n\n/**\n * Returns the number of bits needed to store the data length\n * according to QR Code specifications.\n *\n * @param  {Mode}   mode    Data mode\n * @param  {Number} version QR Code version\n * @return {Number}         Number of bits\n */\nexports.getCharCountIndicator = function getCharCountIndicator (mode, version) {\n  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)\n\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid version: ' + version)\n  }\n\n  if (version >= 1 && version < 10) return mode.ccBits[0]\n  else if (version < 27) return mode.ccBits[1]\n  return mode.ccBits[2]\n}\n\n/**\n * Returns the most efficient mode to store the specified data\n *\n * @param  {String} dataStr Input data string\n * @return {Mode}           Best mode\n */\nexports.getBestModeForData = function getBestModeForData (dataStr) {\n  if (Regex.testNumeric(dataStr)) return exports.NUMERIC\n  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC\n  else if (Regex.testKanji(dataStr)) return exports.KANJI\n  else return exports.BYTE\n}\n\n/**\n * Return mode name as string\n *\n * @param {Mode} mode Mode object\n * @returns {String}  Mode name\n */\nexports.toString = function toString (mode) {\n  if (mode && mode.id) return mode.id\n  throw new Error('Invalid mode')\n}\n\n/**\n * Check if input param is a valid mode object\n *\n * @param   {Mode}    mode Mode object\n * @returns {Boolean} True if valid mode, false otherwise\n */\nexports.isValid = function isValid (mode) {\n  return mode && mode.bit && mode.ccBits\n}\n\n/**\n * Get mode object from its name\n *\n * @param   {String} string Mode name\n * @returns {Mode}          Mode object\n */\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'numeric':\n      return exports.NUMERIC\n    case 'alphanumeric':\n      return exports.ALPHANUMERIC\n    case 'kanji':\n      return exports.KANJI\n    case 'byte':\n      return exports.BYTE\n    default:\n      throw new Error('Unknown mode: ' + string)\n  }\n}\n\n/**\n * Returns mode from a value.\n * If value is not a valid mode, returns defaultValue\n *\n * @param  {Mode|String} value        Encoding mode\n * @param  {Mode}        defaultValue Fallback value\n * @return {Mode}                     Encoding mode\n */\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","/**\n * Data mask pattern reference\n * @type {Object}\n */\nexports.Patterns = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\n\n/**\n * Weighted penalty scores for the undesirable features\n * @type {Object}\n */\nconst PenaltyScores = {\n  N1: 3,\n  N2: 3,\n  N3: 40,\n  N4: 10\n}\n\n/**\n * Check if mask pattern value is valid\n *\n * @param  {Number}  mask    Mask pattern\n * @return {Boolean}         true if valid, false otherwise\n */\nexports.isValid = function isValid (mask) {\n  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7\n}\n\n/**\n * Returns mask pattern from a value.\n * If value is not valid, returns undefined\n *\n * @param  {Number|String} value        Mask pattern value\n * @return {Number}                     Valid mask pattern or undefined\n */\nexports.from = function from (value) {\n  return exports.isValid(value) ? parseInt(value, 10) : undefined\n}\n\n/**\n* Find adjacent modules in row/column with the same color\n* and assign a penalty value.\n*\n* Points: N1 + i\n* i is the amount by which the number of adjacent modules of the same color exceeds 5\n*/\nexports.getPenaltyN1 = function getPenaltyN1 (data) {\n  const size = data.size\n  let points = 0\n  let sameCountCol = 0\n  let sameCountRow = 0\n  let lastCol = null\n  let lastRow = null\n\n  for (let row = 0; row < size; row++) {\n    sameCountCol = sameCountRow = 0\n    lastCol = lastRow = null\n\n    for (let col = 0; col < size; col++) {\n      let module = data.get(row, col)\n      if (module === lastCol) {\n        sameCountCol++\n      } else {\n        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n        lastCol = module\n        sameCountCol = 1\n      }\n\n      module = data.get(col, row)\n      if (module === lastRow) {\n        sameCountRow++\n      } else {\n        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n        lastRow = module\n        sameCountRow = 1\n      }\n    }\n\n    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n  }\n\n  return points\n}\n\n/**\n * Find 2x2 blocks with the same color and assign a penalty value\n *\n * Points: N2 * (m - 1) * (n - 1)\n */\nexports.getPenaltyN2 = function getPenaltyN2 (data) {\n  const size = data.size\n  let points = 0\n\n  for (let row = 0; row < size - 1; row++) {\n    for (let col = 0; col < size - 1; col++) {\n      const last = data.get(row, col) +\n        data.get(row, col + 1) +\n        data.get(row + 1, col) +\n        data.get(row + 1, col + 1)\n\n      if (last === 4 || last === 0) points++\n    }\n  }\n\n  return points * PenaltyScores.N2\n}\n\n/**\n * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n * preceded or followed by light area 4 modules wide\n *\n * Points: N3 * number of pattern found\n */\nexports.getPenaltyN3 = function getPenaltyN3 (data) {\n  const size = data.size\n  let points = 0\n  let bitsCol = 0\n  let bitsRow = 0\n\n  for (let row = 0; row < size; row++) {\n    bitsCol = bitsRow = 0\n    for (let col = 0; col < size; col++) {\n      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col)\n      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++\n\n      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row)\n      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++\n    }\n  }\n\n  return points * PenaltyScores.N3\n}\n\n/**\n * Calculate proportion of dark modules in entire symbol\n *\n * Points: N4 * k\n *\n * k is the rating of the deviation of the proportion of dark modules\n * in the symbol from 50% in steps of 5%\n */\nexports.getPenaltyN4 = function getPenaltyN4 (data) {\n  let darkCount = 0\n  const modulesCount = data.data.length\n\n  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i]\n\n  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10)\n\n  return k * PenaltyScores.N4\n}\n\n/**\n * Return mask value at given position\n *\n * @param  {Number} maskPattern Pattern reference value\n * @param  {Number} i           Row\n * @param  {Number} j           Column\n * @return {Boolean}            Mask value\n */\nfunction getMaskAt (maskPattern, i, j) {\n  switch (maskPattern) {\n    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0\n    case exports.Patterns.PATTERN001: return i % 2 === 0\n    case exports.Patterns.PATTERN010: return j % 3 === 0\n    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0\n    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0\n    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0\n    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0\n    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0\n\n    default: throw new Error('bad maskPattern:' + maskPattern)\n  }\n}\n\n/**\n * Apply a mask pattern to a BitMatrix\n *\n * @param  {Number}    pattern Pattern reference number\n * @param  {BitMatrix} data    BitMatrix data\n */\nexports.applyMask = function applyMask (pattern, data) {\n  const size = data.size\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      if (data.isReserved(row, col)) continue\n      data.xor(row, col, getMaskAt(pattern, row, col))\n    }\n  }\n}\n\n/**\n * Returns the best mask pattern for data\n *\n * @param  {BitMatrix} data\n * @return {Number} Mask pattern reference number\n */\nexports.getBestMask = function getBestMask (data, setupFormatFunc) {\n  const numPatterns = Object.keys(exports.Patterns).length\n  let bestPattern = 0\n  let lowerPenalty = Infinity\n\n  for (let p = 0; p < numPatterns; p++) {\n    setupFormatFunc(p)\n    exports.applyMask(p, data)\n\n    // Calculate penalty\n    const penalty =\n      exports.getPenaltyN1(data) +\n      exports.getPenaltyN2(data) +\n      exports.getPenaltyN3(data) +\n      exports.getPenaltyN4(data)\n\n    // Undo previously applied mask\n    exports.applyMask(p, data)\n\n    if (penalty < lowerPenalty) {\n      lowerPenalty = penalty\n      bestPattern = p\n    }\n  }\n\n  return bestPattern\n}\n","const Utils = require('./utils')\nconst ECCode = require('./error-correction-code')\nconst ECLevel = require('./error-correction-level')\nconst Mode = require('./mode')\nconst VersionCheck = require('./version-check')\n\n// Generator polynomial used to encode version information\nconst G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0)\nconst G18_BCH = Utils.getBCHDigit(G18)\n\nfunction getBestVersionForDataLength (mode, length, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\nfunction getReservedBitsCount (mode, version) {\n  // Character count indicator + mode indicator bits\n  return Mode.getCharCountIndicator(mode, version) + 4\n}\n\nfunction getTotalBitsFromDataArray (segments, version) {\n  let totalBits = 0\n\n  segments.forEach(function (data) {\n    const reservedBits = getReservedBitsCount(data.mode, version)\n    totalBits += reservedBits + data.getBitsLength()\n  })\n\n  return totalBits\n}\n\nfunction getBestVersionForMixedData (segments, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    const length = getTotalBitsFromDataArray(segments, currentVersion)\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Returns version number from a value.\n * If value is not a valid version, returns defaultValue\n *\n * @param  {Number|String} value        QR Code version\n * @param  {Number}        defaultValue Fallback value\n * @return {Number}                     QR Code version number\n */\nexports.from = function from (value, defaultValue) {\n  if (VersionCheck.isValid(value)) {\n    return parseInt(value, 10)\n  }\n\n  return defaultValue\n}\n\n/**\n * Returns how much data can be stored with the specified QR code version\n * and error correction level\n *\n * @param  {Number} version              QR Code version (1-40)\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Mode}   mode                 Data mode\n * @return {Number}                      Quantity of storable data\n */\nexports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  // Use Byte mode as default\n  if (typeof mode === 'undefined') mode = Mode.BYTE\n\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  if (mode === Mode.MIXED) return dataTotalCodewordsBits\n\n  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version)\n\n  // Return max number of storable codewords\n  switch (mode) {\n    case Mode.NUMERIC:\n      return Math.floor((usableBits / 10) * 3)\n\n    case Mode.ALPHANUMERIC:\n      return Math.floor((usableBits / 11) * 2)\n\n    case Mode.KANJI:\n      return Math.floor(usableBits / 13)\n\n    case Mode.BYTE:\n    default:\n      return Math.floor(usableBits / 8)\n  }\n}\n\n/**\n * Returns the minimum version needed to contain the amount of data\n *\n * @param  {Segment} data                    Segment of data\n * @param  {Number} [errorCorrectionLevel=H] Error correction level\n * @param  {Mode} mode                       Data mode\n * @return {Number}                          QR Code version\n */\nexports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {\n  let seg\n\n  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M)\n\n  if (Array.isArray(data)) {\n    if (data.length > 1) {\n      return getBestVersionForMixedData(data, ecl)\n    }\n\n    if (data.length === 0) {\n      return 1\n    }\n\n    seg = data[0]\n  } else {\n    seg = data\n  }\n\n  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)\n}\n\n/**\n * Returns version information with relative error correction bits\n *\n * The version information is included in QR Code symbols of version 7 or larger.\n * It consists of an 18-bit sequence containing 6 data bits,\n * with 12 error correction bits calculated using the (18, 6) Golay code.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Encoded version info bits\n */\nexports.getEncodedBits = function getEncodedBits (version) {\n  if (!VersionCheck.isValid(version) || version < 7) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  let d = version << 12\n\n  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {\n    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH))\n  }\n\n  return (version << 12) | d\n}\n","const Mode = require('./mode')\n\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nconst ALPHA_NUM_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n  ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n]\n\nfunction AlphanumericData (data) {\n  this.mode = Mode.ALPHANUMERIC\n  this.data = data\n}\n\nAlphanumericData.getBitsLength = function getBitsLength (length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2)\n}\n\nAlphanumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength () {\n  return AlphanumericData.getBitsLength(this.data.length)\n}\n\nAlphanumericData.prototype.write = function write (bitBuffer) {\n  let i\n\n  // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45\n\n    // The character value of the second digit is added to the product\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1])\n\n    // The sum is then stored as 11-bit binary number\n    bitBuffer.put(value, 11)\n  }\n\n  // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6)\n  }\n}\n\nmodule.exports = AlphanumericData\n","/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nexports.isValid = function isValid (version) {\n  return !isNaN(version) && version >= 1 && version <= 40\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","const EXP_TABLE = new Uint8Array(512)\nconst LOG_TABLE = new Uint8Array(256)\n/**\n * Precompute the log and anti-log tables for faster computation later\n *\n * For each possible value in the galois field 2^8, we will pre-compute\n * the logarithm and anti-logarithm (exponential) of this value\n *\n * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}\n */\n;(function initTables () {\n  let x = 1\n  for (let i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x\n    LOG_TABLE[x] = i\n\n    x <<= 1 // multiply by 2\n\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D\n    }\n  }\n\n  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n  for (let i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255]\n  }\n}())\n\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.log = function log (n) {\n  if (n < 1) throw new Error('log(' + n + ')')\n  return LOG_TABLE[n]\n}\n\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.exp = function exp (n) {\n  return EXP_TABLE[n]\n}\n\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nexports.mul = function mul (x, y) {\n  if (x === 0 || y === 0) return 0\n\n  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]\n}\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.10.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            var db = openreq.result;\n            db.onversionchange = function (e) {\n                // Triggered when the database is modified (e.g. adding an objectStore) or\n                // deleted (even when initiated by other sessions in different tabs).\n                // Closing the connection here prevents those operations from being blocked.\n                // If the database is accessed again later by this instance, the connection\n                // will be reopened or the database recreated as needed.\n                e.target.close();\n            };\n            resolve(db);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(req.error);\n                    };\n\n                    req.onblocked = function () {\n                        // Closing all open connections in onversionchange handler should prevent this situation, but if\n                        // we do get here, it just means the request remains pending - eventually it will succeed or error\n                        console.warn('dropInstance blocked for database \"' + options.name + '\" until all open connections are closed');\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","const Mode = require('./mode')\n\nfunction NumericData (data) {\n  this.mode = Mode.NUMERIC\n  this.data = data.toString()\n}\n\nNumericData.getBitsLength = function getBitsLength (length) {\n  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)\n}\n\nNumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nNumericData.prototype.getBitsLength = function getBitsLength () {\n  return NumericData.getBitsLength(this.data.length)\n}\n\nNumericData.prototype.write = function write (bitBuffer) {\n  let i, group, value\n\n  // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, 10)\n  }\n\n  // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n  const remainingNum = this.data.length - i\n  if (remainingNum > 0) {\n    group = this.data.substr(i)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, remainingNum * 3 + 1)\n  }\n}\n\nmodule.exports = NumericData\n","/*\n * [js-sha512]{@link https://github.com/emn178/js-sha512}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2024\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var INPUT_ERROR = 'input is invalid type';\n  var FINALIZE_ERROR = 'finalize already called';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA512_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA512_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA512_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA512_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428A2F98, 0xD728AE22, 0x71374491, 0x23EF65CD,\n    0xB5C0FBCF, 0xEC4D3B2F, 0xE9B5DBA5, 0x8189DBBC,\n    0x3956C25B, 0xF348B538, 0x59F111F1, 0xB605D019,\n    0x923F82A4, 0xAF194F9B, 0xAB1C5ED5, 0xDA6D8118,\n    0xD807AA98, 0xA3030242, 0x12835B01, 0x45706FBE,\n    0x243185BE, 0x4EE4B28C, 0x550C7DC3, 0xD5FFB4E2,\n    0x72BE5D74, 0xF27B896F, 0x80DEB1FE, 0x3B1696B1,\n    0x9BDC06A7, 0x25C71235, 0xC19BF174, 0xCF692694,\n    0xE49B69C1, 0x9EF14AD2, 0xEFBE4786, 0x384F25E3,\n    0x0FC19DC6, 0x8B8CD5B5, 0x240CA1CC, 0x77AC9C65,\n    0x2DE92C6F, 0x592B0275, 0x4A7484AA, 0x6EA6E483,\n    0x5CB0A9DC, 0xBD41FBD4, 0x76F988DA, 0x831153B5,\n    0x983E5152, 0xEE66DFAB, 0xA831C66D, 0x2DB43210,\n    0xB00327C8, 0x98FB213F, 0xBF597FC7, 0xBEEF0EE4,\n    0xC6E00BF3, 0x3DA88FC2, 0xD5A79147, 0x930AA725,\n    0x06CA6351, 0xE003826F, 0x14292967, 0x0A0E6E70,\n    0x27B70A85, 0x46D22FFC, 0x2E1B2138, 0x5C26C926,\n    0x4D2C6DFC, 0x5AC42AED, 0x53380D13, 0x9D95B3DF,\n    0x650A7354, 0x8BAF63DE, 0x766A0ABB, 0x3C77B2A8,\n    0x81C2C92E, 0x47EDAEE6, 0x92722C85, 0x1482353B,\n    0xA2BFE8A1, 0x4CF10364, 0xA81A664B, 0xBC423001,\n    0xC24B8B70, 0xD0F89791, 0xC76C51A3, 0x0654BE30,\n    0xD192E819, 0xD6EF5218, 0xD6990624, 0x5565A910,\n    0xF40E3585, 0x5771202A, 0x106AA070, 0x32BBD1B8,\n    0x19A4C116, 0xB8D2D0C8, 0x1E376C08, 0x5141AB53,\n    0x2748774C, 0xDF8EEB99, 0x34B0BCB5, 0xE19B48A8,\n    0x391C0CB3, 0xC5C95A63, 0x4ED8AA4A, 0xE3418ACB,\n    0x5B9CCA4F, 0x7763E373, 0x682E6FF3, 0xD6B2B8A3,\n    0x748F82EE, 0x5DEFB2FC, 0x78A5636F, 0x43172F60,\n    0x84C87814, 0xA1F0AB72, 0x8CC70208, 0x1A6439EC,\n    0x90BEFFFA, 0x23631E28, 0xA4506CEB, 0xDE82BDE9,\n    0xBEF9A3F7, 0xB2C67915, 0xC67178F2, 0xE372532B,\n    0xCA273ECE, 0xEA26619C, 0xD186B8C7, 0x21C0C207,\n    0xEADA7DD6, 0xCDE0EB1E, 0xF57D4F7F, 0xEE6ED178,\n    0x06F067AA, 0x72176FBA, 0x0A637DC5, 0xA2C898A6,\n    0x113F9804, 0xBEF90DAE, 0x1B710B35, 0x131C471B,\n    0x28DB77F5, 0x23047D84, 0x32CAAB7B, 0x40C72493,\n    0x3C9EBE0A, 0x15C9BEBC, 0x431D67C4, 0x9C100D4C,\n    0x4CC5D4BE, 0xCB3E42B6, 0x597F299C, 0xFC657E2A,\n    0x5FCB6FAB, 0x3AD6FAEC, 0x6C44198C, 0x4A475817\n  ];\n\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  var isArray = Array.isArray;\n  if (root.JS_SHA512_NO_NODE_JS || !isArray) {\n    isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  var isView = ArrayBuffer.isView;\n  if (ARRAY_BUFFER && (root.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW || !isView)) {\n    isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  // [message: string, isString: bool]\n  var formatMessage = function (message) {\n    var type = typeof message;\n    if (type === 'string') {\n      return [message, true];\n    }\n    if (type !== 'object' || message === null) {\n      throw new Error(INPUT_ERROR);\n    }\n    if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n      return [new Uint8Array(message), false];\n    }\n    if (!isArray(message) && !isView(message)) {\n      throw new Error(INPUT_ERROR);\n    }\n    return [message, false];\n  }\n\n  var createOutputMethod = function (outputType, bits) {\n    return function (message) {\n      return new Sha512(bits, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (bits) {\n    var method = createOutputMethod('hex', bits);\n    method.create = function () {\n      return new Sha512(bits);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, bits);\n    }\n    return method;\n  };\n\n  var createHmacOutputMethod = function (outputType, bits) {\n    return function (key, message) {\n      return new HmacSha512(key, bits, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (bits) {\n    var method = createHmacOutputMethod('hex', bits);\n    method.create = function (key) {\n      return new HmacSha512(key, bits);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, bits);\n    }\n    return method;\n  };\n\n  function Sha512(bits, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[1] = blocks[2] = blocks[3] = blocks[4] =\n      blocks[5] = blocks[6] = blocks[7] = blocks[8] =\n      blocks[9] = blocks[10] = blocks[11] = blocks[12] =\n      blocks[13] = blocks[14] = blocks[15] = blocks[16] =\n      blocks[17] = blocks[18] = blocks[19] = blocks[20] =\n      blocks[21] = blocks[22] = blocks[23] = blocks[24] =\n      blocks[25] = blocks[26] = blocks[27] = blocks[28] =\n      blocks[29] = blocks[30] = blocks[31] = blocks[32] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (bits == 384) {\n      this.h0h = 0xCBBB9D5D;\n      this.h0l = 0xC1059ED8;\n      this.h1h = 0x629A292A;\n      this.h1l = 0x367CD507;\n      this.h2h = 0x9159015A;\n      this.h2l = 0x3070DD17;\n      this.h3h = 0x152FECD8;\n      this.h3l = 0xF70E5939;\n      this.h4h = 0x67332667;\n      this.h4l = 0xFFC00B31;\n      this.h5h = 0x8EB44A87;\n      this.h5l = 0x68581511;\n      this.h6h = 0xDB0C2E0D;\n      this.h6l = 0x64F98FA7;\n      this.h7h = 0x47B5481D;\n      this.h7l = 0xBEFA4FA4;\n    } else if (bits == 256) {\n      this.h0h = 0x22312194;\n      this.h0l = 0xFC2BF72C;\n      this.h1h = 0x9F555FA3;\n      this.h1l = 0xC84C64C2;\n      this.h2h = 0x2393B86B;\n      this.h2l = 0x6F53B151;\n      this.h3h = 0x96387719;\n      this.h3l = 0x5940EABD;\n      this.h4h = 0x96283EE2;\n      this.h4l = 0xA88EFFE3;\n      this.h5h = 0xBE5E1E25;\n      this.h5l = 0x53863992;\n      this.h6h = 0x2B0199FC;\n      this.h6l = 0x2C85B8AA;\n      this.h7h = 0x0EB72DDC;\n      this.h7l = 0x81C52CA2;\n    } else if (bits == 224) {\n      this.h0h = 0x8C3D37C8;\n      this.h0l = 0x19544DA2;\n      this.h1h = 0x73E19966;\n      this.h1l = 0x89DCD4D6;\n      this.h2h = 0x1DFAB7AE;\n      this.h2l = 0x32FF9C82;\n      this.h3h = 0x679DD514;\n      this.h3l = 0x582F9FCF;\n      this.h4h = 0x0F6D2B69;\n      this.h4l = 0x7BD44DA8;\n      this.h5h = 0x77E36F73;\n      this.h5l = 0x04C48942;\n      this.h6h = 0x3F9D85A8;\n      this.h6l = 0x6A1D36C8;\n      this.h7h = 0x1112E6AD;\n      this.h7l = 0x91D692A1;\n    } else { // 512\n      this.h0h = 0x6A09E667;\n      this.h0l = 0xF3BCC908;\n      this.h1h = 0xBB67AE85;\n      this.h1l = 0x84CAA73B;\n      this.h2h = 0x3C6EF372;\n      this.h2l = 0xFE94F82B;\n      this.h3h = 0xA54FF53A;\n      this.h3l = 0x5F1D36F1;\n      this.h4h = 0x510E527F;\n      this.h4l = 0xADE682D1;\n      this.h5h = 0x9B05688C;\n      this.h5l = 0x2B3E6C1F;\n      this.h6h = 0x1F83D9AB;\n      this.h6l = 0xFB41BD6B;\n      this.h7h = 0x5BE0CD19;\n      this.h7l = 0x137E2179;\n    }\n    this.bits = bits;\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n  }\n\n  Sha512.prototype.update = function (message) {\n    if (this.finalized) {\n      throw new Error(FINALIZE_ERROR);\n    }\n    var result = formatMessage(message);\n    message = result[0];\n    var isString = result[1];\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        this.block = blocks[1] = blocks[2] = blocks[3] = blocks[4] =\n        blocks[5] = blocks[6] = blocks[7] = blocks[8] =\n        blocks[9] = blocks[10] = blocks[11] = blocks[12] =\n        blocks[13] = blocks[14] = blocks[15] = blocks[16] =\n        blocks[17] = blocks[18] = blocks[19] = blocks[20] =\n        blocks[21] = blocks[22] = blocks[23] = blocks[24] =\n        blocks[25] = blocks[26] = blocks[27] = blocks[28] =\n        blocks[29] = blocks[30] = blocks[31] = blocks[32] = 0;\n      }\n\n      if(isString) {\n        for (i = this.start; index < length && i < 128; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >>> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >>> 2] |= (0xc0 | (code >>> 6)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >>> 2] |= (0xe0 | (code >>> 12)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >>> 2] |= (0xf0 | (code >>> 18)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      } else {\n        for (i = this.start; index < length && i < 128; ++index) {\n          blocks[i >>> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 128) {\n        this.block = blocks[32];\n        this.start = i - 128;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha512.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[32] = this.block;\n    blocks[i >>> 2] |= EXTRA[i & 3];\n    this.block = blocks[32];\n    if (i >= 112) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[1] = blocks[2] = blocks[3] = blocks[4] =\n      blocks[5] = blocks[6] = blocks[7] = blocks[8] =\n      blocks[9] = blocks[10] = blocks[11] = blocks[12] =\n      blocks[13] = blocks[14] = blocks[15] = blocks[16] =\n      blocks[17] = blocks[18] = blocks[19] = blocks[20] =\n      blocks[21] = blocks[22] = blocks[23] = blocks[24] =\n      blocks[25] = blocks[26] = blocks[27] = blocks[28] =\n      blocks[29] = blocks[30] = blocks[31] = blocks[32] = 0;\n    }\n    blocks[30] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[31] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha512.prototype.hash = function () {\n    var h0h = this.h0h, h0l = this.h0l, h1h = this.h1h, h1l = this.h1l,\n      h2h = this.h2h, h2l = this.h2l, h3h = this.h3h, h3l = this.h3l,\n      h4h = this.h4h, h4l = this.h4l, h5h = this.h5h, h5l = this.h5l,\n      h6h = this.h6h, h6l = this.h6l, h7h = this.h7h, h7l = this.h7l,\n      blocks = this.blocks, j, s0h, s0l, s1h, s1l, c1, c2, c3, c4,\n      abh, abl, dah, dal, cdh, cdl, bch, bcl,\n      majh, majl, t1h, t1l, t2h, t2l, chh, chl;\n\n    for (j = 32; j < 160; j += 2) {\n      t1h = blocks[j - 30];\n      t1l = blocks[j - 29];\n      s0h = ((t1h >>> 1) | (t1l << 31)) ^ ((t1h >>> 8) | (t1l << 24)) ^ (t1h >>> 7);\n      s0l = ((t1l >>> 1) | (t1h << 31)) ^ ((t1l >>> 8) | (t1h << 24)) ^ ((t1l >>> 7) | t1h << 25);\n\n      t1h = blocks[j - 4];\n      t1l = blocks[j - 3];\n      s1h = ((t1h >>> 19) | (t1l << 13)) ^ ((t1l >>> 29) | (t1h << 3)) ^ (t1h >>> 6);\n      s1l = ((t1l >>> 19) | (t1h << 13)) ^ ((t1h >>> 29) | (t1l << 3)) ^ ((t1l >>> 6) | t1h << 26);\n\n      t1h = blocks[j - 32];\n      t1l = blocks[j - 31];\n      t2h = blocks[j - 14];\n      t2l = blocks[j - 13];\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF) + (s0l & 0xFFFF) + (s1l & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (s0l >>> 16) + (s1l >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (s0h & 0xFFFF) + (s1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (s0h >>> 16) + (s1h >>> 16) + (c3 >>> 16);\n\n      blocks[j] = (c4 << 16) | (c3 & 0xFFFF);\n      blocks[j + 1] = (c2 << 16) | (c1 & 0xFFFF);\n    }\n\n    var ah = h0h, al = h0l, bh = h1h, bl = h1l, ch = h2h, cl = h2l, dh = h3h, dl = h3l, eh = h4h, el = h4l, fh = h5h, fl = h5l, gh = h6h, gl = h6l, hh = h7h, hl = h7l;\n    bch = bh & ch;\n    bcl = bl & cl;\n    for (j = 0; j < 160; j += 8) {\n      s0h = ((ah >>> 28) | (al << 4)) ^ ((al >>> 2) | (ah << 30)) ^ ((al >>> 7) | (ah << 25));\n      s0l = ((al >>> 28) | (ah << 4)) ^ ((ah >>> 2) | (al << 30)) ^ ((ah >>> 7) | (al << 25));\n\n      s1h = ((eh >>> 14) | (el << 18)) ^ ((eh >>> 18) | (el << 14)) ^ ((el >>> 9) | (eh << 23));\n      s1l = ((el >>> 14) | (eh << 18)) ^ ((el >>> 18) | (eh << 14)) ^ ((eh >>> 9) | (el << 23));\n\n      abh = ah & bh;\n      abl = al & bl;\n      majh = abh ^ (ah & ch) ^ bch;\n      majl = abl ^ (al & cl) ^ bcl;\n\n      chh = (eh & fh) ^ (~eh & gh);\n      chl = (el & fl) ^ (~el & gl);\n\n      t1h = blocks[j];\n      t1l = blocks[j + 1];\n      t2h = K[j];\n      t2l = K[j + 1];\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF) + (chl & 0xFFFF) + (s1l & 0xFFFF) + (hl & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (chl >>> 16) + (s1l >>> 16) + (hl >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (chh & 0xFFFF) + (s1h & 0xFFFF) + (hh & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (chh >>> 16) + (s1h >>> 16) + (hh >>> 16) + (c3 >>> 16);\n\n      t1h = (c4 << 16) | (c3 & 0xFFFF);\n      t1l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (majl & 0xFFFF) + (s0l & 0xFFFF);\n      c2 = (majl >>> 16) + (s0l >>> 16) + (c1 >>> 16);\n      c3 = (majh & 0xFFFF) + (s0h & 0xFFFF) + (c2 >>> 16);\n      c4 = (majh >>> 16) + (s0h >>> 16) + (c3 >>> 16);\n\n      t2h = (c4 << 16) | (c3 & 0xFFFF);\n      t2l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (dl & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (dl >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (dh & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (dh >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      hh = (c4 << 16) | (c3 & 0xFFFF);\n      hl = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      dh = (c4 << 16) | (c3 & 0xFFFF);\n      dl = (c2 << 16) | (c1 & 0xFFFF);\n\n      s0h = ((dh >>> 28) | (dl << 4)) ^ ((dl >>> 2) | (dh << 30)) ^ ((dl >>> 7) | (dh << 25));\n      s0l = ((dl >>> 28) | (dh << 4)) ^ ((dh >>> 2) | (dl << 30)) ^ ((dh >>> 7) | (dl << 25));\n\n      s1h = ((hh >>> 14) | (hl << 18)) ^ ((hh >>> 18) | (hl << 14)) ^ ((hl >>> 9) | (hh << 23));\n      s1l = ((hl >>> 14) | (hh << 18)) ^ ((hl >>> 18) | (hh << 14)) ^ ((hh >>> 9) | (hl << 23));\n\n      dah = dh & ah;\n      dal = dl & al;\n      majh = dah ^ (dh & bh) ^ abh;\n      majl = dal ^ (dl & bl) ^ abl;\n\n      chh = (hh & eh) ^ (~hh & fh);\n      chl = (hl & el) ^ (~hl & fl);\n\n      t1h = blocks[j + 2];\n      t1l = blocks[j + 3];\n      t2h = K[j + 2];\n      t2l = K[j + 3];\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF) + (chl & 0xFFFF) + (s1l & 0xFFFF) + (gl & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (chl >>> 16) + (s1l >>> 16) + (gl >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (chh & 0xFFFF) + (s1h & 0xFFFF) + (gh & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (chh >>> 16) + (s1h >>> 16) + (gh >>> 16) + (c3 >>> 16);\n\n      t1h = (c4 << 16) | (c3 & 0xFFFF);\n      t1l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (majl & 0xFFFF) + (s0l & 0xFFFF);\n      c2 = (majl >>> 16) + (s0l >>> 16) + (c1 >>> 16);\n      c3 = (majh & 0xFFFF) + (s0h & 0xFFFF) + (c2 >>> 16);\n      c4 = (majh >>> 16) + (s0h >>> 16) + (c3 >>> 16);\n\n      t2h = (c4 << 16) | (c3 & 0xFFFF);\n      t2l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (cl & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (cl >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (ch & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (ch >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      gh = (c4 << 16) | (c3 & 0xFFFF);\n      gl = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      ch = (c4 << 16) | (c3 & 0xFFFF);\n      cl = (c2 << 16) | (c1 & 0xFFFF);\n\n      s0h = ((ch >>> 28) | (cl << 4)) ^ ((cl >>> 2) | (ch << 30)) ^ ((cl >>> 7) | (ch << 25));\n      s0l = ((cl >>> 28) | (ch << 4)) ^ ((ch >>> 2) | (cl << 30)) ^ ((ch >>> 7) | (cl << 25));\n\n      s1h = ((gh >>> 14) | (gl << 18)) ^ ((gh >>> 18) | (gl << 14)) ^ ((gl >>> 9) | (gh << 23));\n      s1l = ((gl >>> 14) | (gh << 18)) ^ ((gl >>> 18) | (gh << 14)) ^ ((gh >>> 9) | (gl << 23));\n\n      cdh = ch & dh;\n      cdl = cl & dl;\n      majh = cdh ^ (ch & ah) ^ dah;\n      majl = cdl ^ (cl & al) ^ dal;\n\n      chh = (gh & hh) ^ (~gh & eh);\n      chl = (gl & hl) ^ (~gl & el);\n\n      t1h = blocks[j + 4];\n      t1l = blocks[j + 5];\n      t2h = K[j + 4];\n      t2l = K[j + 5];\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF) + (chl & 0xFFFF) + (s1l & 0xFFFF) + (fl & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (chl >>> 16) + (s1l >>> 16) + (fl >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (chh & 0xFFFF) + (s1h & 0xFFFF) + (fh & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (chh >>> 16) + (s1h >>> 16) + (fh >>> 16) + (c3 >>> 16);\n\n      t1h = (c4 << 16) | (c3 & 0xFFFF);\n      t1l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (majl & 0xFFFF) + (s0l & 0xFFFF);\n      c2 = (majl >>> 16) + (s0l >>> 16) + (c1 >>> 16);\n      c3 = (majh & 0xFFFF) + (s0h & 0xFFFF) + (c2 >>> 16);\n      c4 = (majh >>> 16) + (s0h >>> 16) + (c3 >>> 16);\n\n      t2h = (c4 << 16) | (c3 & 0xFFFF);\n      t2l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (bl & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (bl >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (bh & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (bh >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      fh = (c4 << 16) | (c3 & 0xFFFF);\n      fl = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      bh = (c4 << 16) | (c3 & 0xFFFF);\n      bl = (c2 << 16) | (c1 & 0xFFFF);\n\n      s0h = ((bh >>> 28) | (bl << 4)) ^ ((bl >>> 2) | (bh << 30)) ^ ((bl >>> 7) | (bh << 25));\n      s0l = ((bl >>> 28) | (bh << 4)) ^ ((bh >>> 2) | (bl << 30)) ^ ((bh >>> 7) | (bl << 25));\n\n      s1h = ((fh >>> 14) | (fl << 18)) ^ ((fh >>> 18) | (fl << 14)) ^ ((fl >>> 9) | (fh << 23));\n      s1l = ((fl >>> 14) | (fh << 18)) ^ ((fl >>> 18) | (fh << 14)) ^ ((fh >>> 9) | (fl << 23));\n\n      bch = bh & ch;\n      bcl = bl & cl;\n      majh = bch ^ (bh & dh) ^ cdh;\n      majl = bcl ^ (bl & dl) ^ cdl;\n\n      chh = (fh & gh) ^ (~fh & hh);\n      chl = (fl & gl) ^ (~fl & hl);\n\n      t1h = blocks[j + 6];\n      t1l = blocks[j + 7];\n      t2h = K[j + 6];\n      t2l = K[j + 7];\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF) + (chl & 0xFFFF) + (s1l & 0xFFFF) + (el & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (chl >>> 16) + (s1l >>> 16) + (el >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (chh & 0xFFFF) + (s1h & 0xFFFF) + (eh & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (chh >>> 16) + (s1h >>> 16) + (eh >>> 16) + (c3 >>> 16);\n\n      t1h = (c4 << 16) | (c3 & 0xFFFF);\n      t1l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (majl & 0xFFFF) + (s0l & 0xFFFF);\n      c2 = (majl >>> 16) + (s0l >>> 16) + (c1 >>> 16);\n      c3 = (majh & 0xFFFF) + (s0h & 0xFFFF) + (c2 >>> 16);\n      c4 = (majh >>> 16) + (s0h >>> 16) + (c3 >>> 16);\n\n      t2h = (c4 << 16) | (c3 & 0xFFFF);\n      t2l = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (al & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (al >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (ah & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (ah >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      eh = (c4 << 16) | (c3 & 0xFFFF);\n      el = (c2 << 16) | (c1 & 0xFFFF);\n\n      c1 = (t2l & 0xFFFF) + (t1l & 0xFFFF);\n      c2 = (t2l >>> 16) + (t1l >>> 16) + (c1 >>> 16);\n      c3 = (t2h & 0xFFFF) + (t1h & 0xFFFF) + (c2 >>> 16);\n      c4 = (t2h >>> 16) + (t1h >>> 16) + (c3 >>> 16);\n\n      ah = (c4 << 16) | (c3 & 0xFFFF);\n      al = (c2 << 16) | (c1 & 0xFFFF);\n    }\n\n    c1 = (h0l & 0xFFFF) + (al & 0xFFFF);\n    c2 = (h0l >>> 16) + (al >>> 16) + (c1 >>> 16);\n    c3 = (h0h & 0xFFFF) + (ah & 0xFFFF) + (c2 >>> 16);\n    c4 = (h0h >>> 16) + (ah >>> 16) + (c3 >>> 16);\n\n    this.h0h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h0l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h1l & 0xFFFF) + (bl & 0xFFFF);\n    c2 = (h1l >>> 16) + (bl >>> 16) + (c1 >>> 16);\n    c3 = (h1h & 0xFFFF) + (bh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h1h >>> 16) + (bh >>> 16) + (c3 >>> 16);\n\n    this.h1h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h1l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h2l & 0xFFFF) + (cl & 0xFFFF);\n    c2 = (h2l >>> 16) + (cl >>> 16) + (c1 >>> 16);\n    c3 = (h2h & 0xFFFF) + (ch & 0xFFFF) + (c2 >>> 16);\n    c4 = (h2h >>> 16) + (ch >>> 16) + (c3 >>> 16);\n\n    this.h2h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h2l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h3l & 0xFFFF) + (dl & 0xFFFF);\n    c2 = (h3l >>> 16) + (dl >>> 16) + (c1 >>> 16);\n    c3 = (h3h & 0xFFFF) + (dh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h3h >>> 16) + (dh >>> 16) + (c3 >>> 16);\n\n    this.h3h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h3l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h4l & 0xFFFF) + (el & 0xFFFF);\n    c2 = (h4l >>> 16) + (el >>> 16) + (c1 >>> 16);\n    c3 = (h4h & 0xFFFF) + (eh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h4h >>> 16) + (eh >>> 16) + (c3 >>> 16);\n\n    this.h4h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h4l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h5l & 0xFFFF) + (fl & 0xFFFF);\n    c2 = (h5l >>> 16) + (fl >>> 16) + (c1 >>> 16);\n    c3 = (h5h & 0xFFFF) + (fh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h5h >>> 16) + (fh >>> 16) + (c3 >>> 16);\n\n    this.h5h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h5l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h6l & 0xFFFF) + (gl & 0xFFFF);\n    c2 = (h6l >>> 16) + (gl >>> 16) + (c1 >>> 16);\n    c3 = (h6h & 0xFFFF) + (gh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h6h >>> 16) + (gh >>> 16) + (c3 >>> 16);\n\n    this.h6h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h6l = (c2 << 16) | (c1 & 0xFFFF);\n\n    c1 = (h7l & 0xFFFF) + (hl & 0xFFFF);\n    c2 = (h7l >>> 16) + (hl >>> 16) + (c1 >>> 16);\n    c3 = (h7h & 0xFFFF) + (hh & 0xFFFF) + (c2 >>> 16);\n    c4 = (h7h >>> 16) + (hh >>> 16) + (c3 >>> 16);\n\n    this.h7h = (c4 << 16) | (c3 & 0xFFFF);\n    this.h7l = (c2 << 16) | (c1 & 0xFFFF);\n  };\n\n  Sha512.prototype.hex = function () {\n    this.finalize();\n\n    var h0h = this.h0h, h0l = this.h0l, h1h = this.h1h, h1l = this.h1l,\n      h2h = this.h2h, h2l = this.h2l, h3h = this.h3h, h3l = this.h3l,\n      h4h = this.h4h, h4l = this.h4l, h5h = this.h5h, h5l = this.h5l,\n      h6h = this.h6h, h6l = this.h6l, h7h = this.h7h, h7l = this.h7l,\n      bits = this.bits;\n\n    var hex = HEX_CHARS[(h0h >>> 28) & 0x0F] + HEX_CHARS[(h0h >>> 24) & 0x0F] +\n      HEX_CHARS[(h0h >>> 20) & 0x0F] + HEX_CHARS[(h0h >>> 16) & 0x0F] +\n      HEX_CHARS[(h0h >>> 12) & 0x0F] + HEX_CHARS[(h0h >>> 8) & 0x0F] +\n      HEX_CHARS[(h0h >>> 4) & 0x0F] + HEX_CHARS[h0h & 0x0F] +\n      HEX_CHARS[(h0l >>> 28) & 0x0F] + HEX_CHARS[(h0l >>> 24) & 0x0F] +\n      HEX_CHARS[(h0l >>> 20) & 0x0F] + HEX_CHARS[(h0l >>> 16) & 0x0F] +\n      HEX_CHARS[(h0l >>> 12) & 0x0F] + HEX_CHARS[(h0l >>> 8) & 0x0F] +\n      HEX_CHARS[(h0l >>> 4) & 0x0F] + HEX_CHARS[h0l & 0x0F] +\n      HEX_CHARS[(h1h >>> 28) & 0x0F] + HEX_CHARS[(h1h >>> 24) & 0x0F] +\n      HEX_CHARS[(h1h >>> 20) & 0x0F] + HEX_CHARS[(h1h >>> 16) & 0x0F] +\n      HEX_CHARS[(h1h >>> 12) & 0x0F] + HEX_CHARS[(h1h >>> 8) & 0x0F] +\n      HEX_CHARS[(h1h >>> 4) & 0x0F] + HEX_CHARS[h1h & 0x0F] +\n      HEX_CHARS[(h1l >>> 28) & 0x0F] + HEX_CHARS[(h1l >>> 24) & 0x0F] +\n      HEX_CHARS[(h1l >>> 20) & 0x0F] + HEX_CHARS[(h1l >>> 16) & 0x0F] +\n      HEX_CHARS[(h1l >>> 12) & 0x0F] + HEX_CHARS[(h1l >>> 8) & 0x0F] +\n      HEX_CHARS[(h1l >>> 4) & 0x0F] + HEX_CHARS[h1l & 0x0F] +\n      HEX_CHARS[(h2h >>> 28) & 0x0F] + HEX_CHARS[(h2h >>> 24) & 0x0F] +\n      HEX_CHARS[(h2h >>> 20) & 0x0F] + HEX_CHARS[(h2h >>> 16) & 0x0F] +\n      HEX_CHARS[(h2h >>> 12) & 0x0F] + HEX_CHARS[(h2h >>> 8) & 0x0F] +\n      HEX_CHARS[(h2h >>> 4) & 0x0F] + HEX_CHARS[h2h & 0x0F] +\n      HEX_CHARS[(h2l >>> 28) & 0x0F] + HEX_CHARS[(h2l >>> 24) & 0x0F] +\n      HEX_CHARS[(h2l >>> 20) & 0x0F] + HEX_CHARS[(h2l >>> 16) & 0x0F] +\n      HEX_CHARS[(h2l >>> 12) & 0x0F] + HEX_CHARS[(h2l >>> 8) & 0x0F] +\n      HEX_CHARS[(h2l >>> 4) & 0x0F] + HEX_CHARS[h2l & 0x0F] +\n      HEX_CHARS[(h3h >>> 28) & 0x0F] + HEX_CHARS[(h3h >>> 24) & 0x0F] +\n      HEX_CHARS[(h3h >>> 20) & 0x0F] + HEX_CHARS[(h3h >>> 16) & 0x0F] +\n      HEX_CHARS[(h3h >>> 12) & 0x0F] + HEX_CHARS[(h3h >>> 8) & 0x0F] +\n      HEX_CHARS[(h3h >>> 4) & 0x0F] + HEX_CHARS[h3h & 0x0F];\n    if (bits >= 256) {\n      hex += HEX_CHARS[(h3l >>> 28) & 0x0F] + HEX_CHARS[(h3l >>> 24) & 0x0F] +\n        HEX_CHARS[(h3l >>> 20) & 0x0F] + HEX_CHARS[(h3l >>> 16) & 0x0F] +\n        HEX_CHARS[(h3l >>> 12) & 0x0F] + HEX_CHARS[(h3l >>> 8) & 0x0F] +\n        HEX_CHARS[(h3l >>> 4) & 0x0F] + HEX_CHARS[h3l & 0x0F];\n    }\n    if (bits >= 384) {\n      hex += HEX_CHARS[(h4h >>> 28) & 0x0F] + HEX_CHARS[(h4h >>> 24) & 0x0F] +\n        HEX_CHARS[(h4h >>> 20) & 0x0F] + HEX_CHARS[(h4h >>> 16) & 0x0F] +\n        HEX_CHARS[(h4h >>> 12) & 0x0F] + HEX_CHARS[(h4h >>> 8) & 0x0F] +\n        HEX_CHARS[(h4h >>> 4) & 0x0F] + HEX_CHARS[h4h & 0x0F] +\n        HEX_CHARS[(h4l >>> 28) & 0x0F] + HEX_CHARS[(h4l >>> 24) & 0x0F] +\n        HEX_CHARS[(h4l >>> 20) & 0x0F] + HEX_CHARS[(h4l >>> 16) & 0x0F] +\n        HEX_CHARS[(h4l >>> 12) & 0x0F] + HEX_CHARS[(h4l >>> 8) & 0x0F] +\n        HEX_CHARS[(h4l >>> 4) & 0x0F] + HEX_CHARS[h4l & 0x0F] +\n        HEX_CHARS[(h5h >>> 28) & 0x0F] + HEX_CHARS[(h5h >>> 24) & 0x0F] +\n        HEX_CHARS[(h5h >>> 20) & 0x0F] + HEX_CHARS[(h5h >>> 16) & 0x0F] +\n        HEX_CHARS[(h5h >>> 12) & 0x0F] + HEX_CHARS[(h5h >>> 8) & 0x0F] +\n        HEX_CHARS[(h5h >>> 4) & 0x0F] + HEX_CHARS[h5h & 0x0F] +\n        HEX_CHARS[(h5l >>> 28) & 0x0F] + HEX_CHARS[(h5l >>> 24) & 0x0F] +\n        HEX_CHARS[(h5l >>> 20) & 0x0F] + HEX_CHARS[(h5l >>> 16) & 0x0F] +\n        HEX_CHARS[(h5l >>> 12) & 0x0F] + HEX_CHARS[(h5l >>> 8) & 0x0F] +\n        HEX_CHARS[(h5l >>> 4) & 0x0F] + HEX_CHARS[h5l & 0x0F];\n    }\n    if (bits == 512) {\n      hex += HEX_CHARS[(h6h >>> 28) & 0x0F] + HEX_CHARS[(h6h >>> 24) & 0x0F] +\n        HEX_CHARS[(h6h >>> 20) & 0x0F] + HEX_CHARS[(h6h >>> 16) & 0x0F] +\n        HEX_CHARS[(h6h >>> 12) & 0x0F] + HEX_CHARS[(h6h >>> 8) & 0x0F] +\n        HEX_CHARS[(h6h >>> 4) & 0x0F] + HEX_CHARS[h6h & 0x0F] +\n        HEX_CHARS[(h6l >>> 28) & 0x0F] + HEX_CHARS[(h6l >>> 24) & 0x0F] +\n        HEX_CHARS[(h6l >>> 20) & 0x0F] + HEX_CHARS[(h6l >>> 16) & 0x0F] +\n        HEX_CHARS[(h6l >>> 12) & 0x0F] + HEX_CHARS[(h6l >>> 8) & 0x0F] +\n        HEX_CHARS[(h6l >>> 4) & 0x0F] + HEX_CHARS[h6l & 0x0F] +\n        HEX_CHARS[(h7h >>> 28) & 0x0F] + HEX_CHARS[(h7h >>> 24) & 0x0F] +\n        HEX_CHARS[(h7h >>> 20) & 0x0F] + HEX_CHARS[(h7h >>> 16) & 0x0F] +\n        HEX_CHARS[(h7h >>> 12) & 0x0F] + HEX_CHARS[(h7h >>> 8) & 0x0F] +\n        HEX_CHARS[(h7h >>> 4) & 0x0F] + HEX_CHARS[h7h & 0x0F] +\n        HEX_CHARS[(h7l >>> 28) & 0x0F] + HEX_CHARS[(h7l >>> 24) & 0x0F] +\n        HEX_CHARS[(h7l >>> 20) & 0x0F] + HEX_CHARS[(h7l >>> 16) & 0x0F] +\n        HEX_CHARS[(h7l >>> 12) & 0x0F] + HEX_CHARS[(h7l >>> 8) & 0x0F] +\n        HEX_CHARS[(h7l >>> 4) & 0x0F] + HEX_CHARS[h7l & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha512.prototype.toString = Sha512.prototype.hex;\n\n  Sha512.prototype.digest = function () {\n    this.finalize();\n\n    var h0h = this.h0h, h0l = this.h0l, h1h = this.h1h, h1l = this.h1l,\n      h2h = this.h2h, h2l = this.h2l, h3h = this.h3h, h3l = this.h3l,\n      h4h = this.h4h, h4l = this.h4l, h5h = this.h5h, h5l = this.h5l,\n      h6h = this.h6h, h6l = this.h6l, h7h = this.h7h, h7l = this.h7l,\n      bits = this.bits;\n\n    var arr = [\n      (h0h >>> 24) & 0xFF, (h0h >>> 16) & 0xFF, (h0h >>> 8) & 0xFF, h0h & 0xFF,\n      (h0l >>> 24) & 0xFF, (h0l >>> 16) & 0xFF, (h0l >>> 8) & 0xFF, h0l & 0xFF,\n      (h1h >>> 24) & 0xFF, (h1h >>> 16) & 0xFF, (h1h >>> 8) & 0xFF, h1h & 0xFF,\n      (h1l >>> 24) & 0xFF, (h1l >>> 16) & 0xFF, (h1l >>> 8) & 0xFF, h1l & 0xFF,\n      (h2h >>> 24) & 0xFF, (h2h >>> 16) & 0xFF, (h2h >>> 8) & 0xFF, h2h & 0xFF,\n      (h2l >>> 24) & 0xFF, (h2l >>> 16) & 0xFF, (h2l >>> 8) & 0xFF, h2l & 0xFF,\n      (h3h >>> 24) & 0xFF, (h3h >>> 16) & 0xFF, (h3h >>> 8) & 0xFF, h3h & 0xFF\n    ];\n\n    if (bits >= 256) {\n      arr.push((h3l >>> 24) & 0xFF, (h3l >>> 16) & 0xFF, (h3l >>> 8) & 0xFF, h3l & 0xFF);\n    }\n    if (bits >= 384) {\n      arr.push(\n        (h4h >>> 24) & 0xFF, (h4h >>> 16) & 0xFF, (h4h >>> 8) & 0xFF, h4h & 0xFF,\n        (h4l >>> 24) & 0xFF, (h4l >>> 16) & 0xFF, (h4l >>> 8) & 0xFF, h4l & 0xFF,\n        (h5h >>> 24) & 0xFF, (h5h >>> 16) & 0xFF, (h5h >>> 8) & 0xFF, h5h & 0xFF,\n        (h5l >>> 24) & 0xFF, (h5l >>> 16) & 0xFF, (h5l >>> 8) & 0xFF, h5l & 0xFF\n      );\n    }\n    if (bits == 512) {\n      arr.push(\n        (h6h >>> 24) & 0xFF, (h6h >>> 16) & 0xFF, (h6h >>> 8) & 0xFF, h6h & 0xFF,\n        (h6l >>> 24) & 0xFF, (h6l >>> 16) & 0xFF, (h6l >>> 8) & 0xFF, h6l & 0xFF,\n        (h7h >>> 24) & 0xFF, (h7h >>> 16) & 0xFF, (h7h >>> 8) & 0xFF, h7h & 0xFF,\n        (h7l >>> 24) & 0xFF, (h7l >>> 16) & 0xFF, (h7l >>> 8) & 0xFF, h7l & 0xFF\n      );\n    }\n    return arr;\n  };\n\n  Sha512.prototype.array = Sha512.prototype.digest;\n\n  Sha512.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var bits = this.bits;\n    var buffer = new ArrayBuffer(bits / 8);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0h);\n    dataView.setUint32(4, this.h0l);\n    dataView.setUint32(8, this.h1h);\n    dataView.setUint32(12, this.h1l);\n    dataView.setUint32(16, this.h2h);\n    dataView.setUint32(20, this.h2l);\n    dataView.setUint32(24, this.h3h);\n\n    if (bits >= 256) {\n      dataView.setUint32(28, this.h3l);\n    }\n    if (bits >= 384) {\n      dataView.setUint32(32, this.h4h);\n      dataView.setUint32(36, this.h4l);\n      dataView.setUint32(40, this.h5h);\n      dataView.setUint32(44, this.h5l);\n    }\n    if (bits == 512) {\n      dataView.setUint32(48, this.h6h);\n      dataView.setUint32(52, this.h6l);\n      dataView.setUint32(56, this.h7h);\n      dataView.setUint32(60, this.h7l);\n    }\n    return buffer;\n  };\n\n  Sha512.prototype.clone = function () {\n    var hash = new Sha512(this.bits, false);\n    this.copyTo(hash);\n    return hash;\n  };\n\n  Sha512.prototype.copyTo = function (hash) {\n    var i = 0, attrs = [\n      'h0h', 'h0l', 'h1h', 'h1l', 'h2h', 'h2l', 'h3h', 'h3l', 'h4h', 'h4l', 'h5h', 'h5l', 'h6h', 'h6l', 'h7h', 'h7l',\n      'start', 'bytes', 'hBytes', 'finalized', 'hashed', 'lastByteIndex'\n    ];\n    for (i = 0; i < attrs.length; ++i) {\n      hash[attrs[i]] = this[attrs[i]];\n    }\n    for (i = 0; i < this.blocks.length; ++i) {\n      hash.blocks[i] = this.blocks[i];\n    }\n  };\n\n  function HmacSha512(key, bits, sharedMemory) {\n    var i, result = formatMessage(key);\n    key = result[0];\n    if (result[1]) {\n      var bytes = [], length = key.length, index = 0, code;\n      for (var i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >>> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >>> 12));\n          bytes[index++] = (0x80 | ((code >>> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >>> 18));\n          bytes[index++] = (0x80 | ((code >>> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >>> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    }\n\n    if (key.length > 128) {\n      key = (new Sha512(bits, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (var i = 0; i < 128; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha512.call(this, bits, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha512.prototype = new Sha512();\n\n  HmacSha512.prototype.finalize = function () {\n    Sha512.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha512.call(this, this.bits, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha512.prototype.finalize.call(this);\n    }\n  };\n\n  HmacSha512.prototype.clone = function () {\n    var hash = new HmacSha512([], this.bits, false);\n    this.copyTo(hash);\n    hash.inner = this.inner;\n    for (var i = 0; i < this.oKeyPad.length; ++i) {\n      hash.oKeyPad[i] = this.oKeyPad[i];\n    }\n    return hash;\n  };\n\n  var exports = createMethod(512);\n  exports.sha512 = exports;\n  exports.sha384 = createMethod(384);\n  exports.sha512_256 = createMethod(256);\n  exports.sha512_224 = createMethod(224);\n  exports.sha512.hmac = createHmacMethod(512);\n  exports.sha384.hmac = createHmacMethod(384);\n  exports.sha512_256.hmac = createHmacMethod(256);\n  exports.sha512_224.hmac = createHmacMethod(224);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha512 = exports.sha512;\n    root.sha384 = exports.sha384;\n    root.sha512_256 = exports.sha512_256;\n    root.sha512_224 = exports.sha512_224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","const Utils = require('./utils')\n\nconst G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0)\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1)\nconst G15_BCH = Utils.getBCHDigit(G15)\n\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nexports.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {\n  const data = ((errorCorrectionLevel.bit << 3) | mask)\n  let d = data << 10\n\n  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH))\n  }\n\n  // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n  return ((data << 10) | d) ^ G15_MASK\n}\n","'use strict';\nmodule.exports = (function()\n{\n  function _min(d0, d1, d2, bx, ay)\n  {\n    return d0 < d1 || d2 < d1\n        ? d0 > d2\n            ? d2 + 1\n            : d0 + 1\n        : bx === ay\n            ? d1\n            : d1 + 1;\n  }\n\n  return function(a, b)\n  {\n    if (a === b) {\n      return 0;\n    }\n\n    if (a.length > b.length) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n    }\n\n    var la = a.length;\n    var lb = b.length;\n\n    while (la > 0 && (a.charCodeAt(la - 1) === b.charCodeAt(lb - 1))) {\n      la--;\n      lb--;\n    }\n\n    var offset = 0;\n\n    while (offset < la && (a.charCodeAt(offset) === b.charCodeAt(offset))) {\n      offset++;\n    }\n\n    la -= offset;\n    lb -= offset;\n\n    if (la === 0 || lb < 3) {\n      return lb;\n    }\n\n    var x = 0;\n    var y;\n    var d0;\n    var d1;\n    var d2;\n    var d3;\n    var dd;\n    var dy;\n    var ay;\n    var bx0;\n    var bx1;\n    var bx2;\n    var bx3;\n\n    var vector = [];\n\n    for (y = 0; y < la; y++) {\n      vector.push(y + 1);\n      vector.push(a.charCodeAt(offset + y));\n    }\n\n    var len = vector.length - 1;\n\n    for (; x < lb - 3;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      bx1 = b.charCodeAt(offset + (d1 = x + 1));\n      bx2 = b.charCodeAt(offset + (d2 = x + 2));\n      bx3 = b.charCodeAt(offset + (d3 = x + 3));\n      dd = (x += 4);\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        ay = vector[y + 1];\n        d0 = _min(dy, d0, d1, bx0, ay);\n        d1 = _min(d0, d1, d2, bx1, ay);\n        d2 = _min(d1, d2, d3, bx2, ay);\n        dd = _min(d2, d3, dd, bx3, ay);\n        vector[y] = dd;\n        d3 = d2;\n        d2 = d1;\n        d1 = d0;\n        d0 = dy;\n      }\n    }\n\n    for (; x < lb;) {\n      bx0 = b.charCodeAt(offset + (d0 = x));\n      dd = ++x;\n      for (y = 0; y < len; y += 2) {\n        dy = vector[y];\n        vector[y] = dd = _min(dy, d0, dd, bx0, vector[y + 1]);\n        d0 = dy;\n      }\n    }\n\n    return dd;\n  };\n})();\n\n","const GF = require('./galois-field')\n\n/**\n * Multiplies two polynomials inside Galois Field\n *\n * @param  {Uint8Array} p1 Polynomial\n * @param  {Uint8Array} p2 Polynomial\n * @return {Uint8Array}    Product of p1 and p2\n */\nexports.mul = function mul (p1, p2) {\n  const coeff = new Uint8Array(p1.length + p2.length - 1)\n\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\n    }\n  }\n\n  return coeff\n}\n\n/**\n * Calculate the remainder of polynomials division\n *\n * @param  {Uint8Array} divident Polynomial\n * @param  {Uint8Array} divisor  Polynomial\n * @return {Uint8Array}          Remainder\n */\nexports.mod = function mod (divident, divisor) {\n  let result = new Uint8Array(divident)\n\n  while ((result.length - divisor.length) >= 0) {\n    const coeff = result[0]\n\n    for (let i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff)\n    }\n\n    // remove all zeros from buffer head\n    let offset = 0\n    while (offset < result.length && result[offset] === 0) offset++\n    result = result.slice(offset)\n  }\n\n  return result\n}\n\n/**\n * Generate an irreducible generator polynomial of specified degree\n * (used by Reed-Solomon encoder)\n *\n * @param  {Number} degree Degree of the generator polynomial\n * @return {Uint8Array}    Buffer containing polynomial coefficients\n */\nexports.generateECPolynomial = function generateECPolynomial (degree) {\n  let poly = new Uint8Array([1])\n  for (let i = 0; i < degree; i++) {\n    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]))\n  }\n\n  return poly\n}\n","const Polynomial = require('./polynomial')\n\nfunction ReedSolomonEncoder (degree) {\n  this.genPoly = undefined\n  this.degree = degree\n\n  if (this.degree) this.initialize(this.degree)\n}\n\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize (degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree\n  this.genPoly = Polynomial.generateECPolynomial(this.degree)\n}\n\n/**\n * Encodes a chunk of data\n *\n * @param  {Uint8Array} data Buffer containing input data\n * @return {Uint8Array}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode (data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized')\n  }\n\n  // Calculate EC for this data block\n  // extends data size to data+genPoly size\n  const paddedData = new Uint8Array(data.length + this.degree)\n  paddedData.set(data)\n\n  // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n  const remainder = Polynomial.mod(paddedData, this.genPoly)\n\n  // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n  const start = this.degree - remainder.length\n  if (start > 0) {\n    const buff = new Uint8Array(this.degree)\n    buff.set(remainder, start)\n\n    return buff\n  }\n\n  return remainder\n}\n\nmodule.exports = ReedSolomonEncoder\n","const Mode = require('./mode')\nconst Utils = require('./utils')\n\nfunction KanjiData (data) {\n  this.mode = Mode.KANJI\n  this.data = data\n}\n\nKanjiData.getBitsLength = function getBitsLength (length) {\n  return length * 13\n}\n\nKanjiData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nKanjiData.prototype.getBitsLength = function getBitsLength () {\n  return KanjiData.getBitsLength(this.data.length)\n}\n\nKanjiData.prototype.write = function (bitBuffer) {\n  let i\n\n  // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n  for (i = 0; i < this.data.length; i++) {\n    let value = Utils.toSJIS(this.data[i])\n\n    // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140\n\n    // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140\n    } else {\n      throw new Error(\n        'Invalid SJIS character: ' + this.data[i] + '\\n' +\n        'Make sure your charset is UTF-8')\n    }\n\n    // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff)\n\n    // Convert result to a 13-bit binary string\n    bitBuffer.put(value, 13)\n  }\n}\n\nmodule.exports = KanjiData\n","const Mode = require('./mode')\n\nfunction ByteData (data) {\n  this.mode = Mode.BYTE\n  if (typeof (data) === 'string') {\n    this.data = new TextEncoder().encode(data)\n  } else {\n    this.data = new Uint8Array(data)\n  }\n}\n\nByteData.getBitsLength = function getBitsLength (length) {\n  return length * 8\n}\n\nByteData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nByteData.prototype.getBitsLength = function getBitsLength () {\n  return ByteData.getBitsLength(this.data.length)\n}\n\nByteData.prototype.write = function (bitBuffer) {\n  for (let i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8)\n  }\n}\n\nmodule.exports = ByteData\n","'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nconst getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  const posCount = Math.floor(version / 7) + 2\n  const size = getSymbolSize(version)\n  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  const positions = [size - 7] // Last coord is always (size - 7)\n\n  for (let i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * let pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const coords = []\n  const pos = exports.getRowColCoords(version)\n  const posLength = pos.length\n\n  for (let i = 0; i < posLength; i++) {\n    for (let j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) || // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","let toSJISFunction\nconst CODEWORDS_COUNT = [\n  0, // Not used\n  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n]\n\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nexports.getSymbolSize = function getSymbolSize (version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined')\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40')\n  return version * 4 + 17\n}\n\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nexports.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {\n  return CODEWORDS_COUNT[version]\n}\n\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nexports.getBCHDigit = function (data) {\n  let digit = 0\n\n  while (data !== 0) {\n    digit++\n    data >>>= 1\n  }\n\n  return digit\n}\n\nexports.setToSJISFunction = function setToSJISFunction (f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.')\n  }\n\n  toSJISFunction = f\n}\n\nexports.isKanjiModeEnabled = function () {\n  return typeof toSJISFunction !== 'undefined'\n}\n\nexports.toSJIS = function toSJIS (kanji) {\n  return toSJISFunction(kanji)\n}\n","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","const numeric = '[0-9]+'\nconst alphanumeric = '[A-Z $%*+\\\\-./:]+'\nlet kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+'\nkanji = kanji.replace(/u/g, '\\\\u')\n\nconst byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+'\n\nexports.KANJI = new RegExp(kanji, 'g')\nexports.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g')\nexports.BYTE = new RegExp(byte, 'g')\nexports.NUMERIC = new RegExp(numeric, 'g')\nexports.ALPHANUMERIC = new RegExp(alphanumeric, 'g')\n\nconst TEST_KANJI = new RegExp('^' + kanji + '$')\nconst TEST_NUMERIC = new RegExp('^' + numeric + '$')\nconst TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$')\n\nexports.testKanji = function testKanji (str) {\n  return TEST_KANJI.test(str)\n}\n\nexports.testNumeric = function testNumeric (str) {\n  return TEST_NUMERIC.test(str)\n}\n\nexports.testAlphanumeric = function testAlphanumeric (str) {\n  return TEST_ALPHANUMERIC.test(str)\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","const ECLevel = require('./error-correction-level')\r\n\r\nconst EC_BLOCKS_TABLE = [\r\n// L  M  Q  H\r\n  1, 1, 1, 1,\r\n  1, 1, 1, 1,\r\n  1, 1, 2, 2,\r\n  1, 2, 2, 4,\r\n  1, 2, 4, 4,\r\n  2, 4, 4, 4,\r\n  2, 4, 6, 5,\r\n  2, 4, 6, 6,\r\n  2, 5, 8, 8,\r\n  4, 5, 8, 8,\r\n  4, 5, 8, 11,\r\n  4, 8, 10, 11,\r\n  4, 9, 12, 16,\r\n  4, 9, 16, 16,\r\n  6, 10, 12, 18,\r\n  6, 10, 17, 16,\r\n  6, 11, 16, 19,\r\n  6, 13, 18, 21,\r\n  7, 14, 21, 25,\r\n  8, 16, 20, 25,\r\n  8, 17, 23, 25,\r\n  9, 17, 23, 34,\r\n  9, 18, 25, 30,\r\n  10, 20, 27, 32,\r\n  12, 21, 29, 35,\r\n  12, 23, 34, 37,\r\n  12, 25, 34, 40,\r\n  13, 26, 35, 42,\r\n  14, 28, 38, 45,\r\n  15, 29, 40, 48,\r\n  16, 31, 43, 51,\r\n  17, 33, 45, 54,\r\n  18, 35, 48, 57,\r\n  19, 37, 51, 60,\r\n  19, 38, 53, 63,\r\n  20, 40, 56, 66,\r\n  21, 43, 59, 70,\r\n  22, 45, 62, 74,\r\n  24, 47, 65, 77,\r\n  25, 49, 68, 81\r\n]\r\n\r\nconst EC_CODEWORDS_TABLE = [\r\n// L  M  Q  H\r\n  7, 10, 13, 17,\r\n  10, 16, 22, 28,\r\n  15, 26, 36, 44,\r\n  20, 36, 52, 64,\r\n  26, 48, 72, 88,\r\n  36, 64, 96, 112,\r\n  40, 72, 108, 130,\r\n  48, 88, 132, 156,\r\n  60, 110, 160, 192,\r\n  72, 130, 192, 224,\r\n  80, 150, 224, 264,\r\n  96, 176, 260, 308,\r\n  104, 198, 288, 352,\r\n  120, 216, 320, 384,\r\n  132, 240, 360, 432,\r\n  144, 280, 408, 480,\r\n  168, 308, 448, 532,\r\n  180, 338, 504, 588,\r\n  196, 364, 546, 650,\r\n  224, 416, 600, 700,\r\n  224, 442, 644, 750,\r\n  252, 476, 690, 816,\r\n  270, 504, 750, 900,\r\n  300, 560, 810, 960,\r\n  312, 588, 870, 1050,\r\n  336, 644, 952, 1110,\r\n  360, 700, 1020, 1200,\r\n  390, 728, 1050, 1260,\r\n  420, 784, 1140, 1350,\r\n  450, 812, 1200, 1440,\r\n  480, 868, 1290, 1530,\r\n  510, 924, 1350, 1620,\r\n  540, 980, 1440, 1710,\r\n  570, 1036, 1530, 1800,\r\n  570, 1064, 1590, 1890,\r\n  600, 1120, 1680, 1980,\r\n  630, 1204, 1770, 2100,\r\n  660, 1260, 1860, 2220,\r\n  720, 1316, 1950, 2310,\r\n  750, 1372, 2040, 2430\r\n]\r\n\r\n/**\r\n * Returns the number of error correction block that the QR Code should contain\r\n * for the specified version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction blocks\r\n */\r\nexports.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the number of error correction codewords to use for the specified\r\n * version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction codewords\r\n */\r\nexports.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n","const getSymbolSize = require('./utils').getSymbolSize\nconst FINDER_PATTERN_SIZE = 7\n\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const size = getSymbolSize(version)\n\n  return [\n    // top-left\n    [0, 0],\n    // top-right\n    [size - FINDER_PATTERN_SIZE, 0],\n    // bottom-left\n    [0, size - FINDER_PATTERN_SIZE]\n  ]\n}\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix (size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0')\n  }\n\n  this.size = size\n  this.data = new Uint8Array(size * size)\n  this.reservedBit = new Uint8Array(size * size)\n}\n\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  const index = row * this.size + col\n  this.data[index] = value\n  if (reserved) this.reservedBit[index] = true\n}\n\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col]\n}\n\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value\n}\n\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col]\n}\n\nmodule.exports = BitMatrix\n","const Mode = require('./mode')\nconst NumericData = require('./numeric-data')\nconst AlphanumericData = require('./alphanumeric-data')\nconst ByteData = require('./byte-data')\nconst KanjiData = require('./kanji-data')\nconst Regex = require('./regex')\nconst Utils = require('./utils')\nconst dijkstra = require('dijkstrajs')\n\n/**\n * Returns UTF8 byte length\n *\n * @param  {String} str Input string\n * @return {Number}     Number of byte\n */\nfunction getStringByteLength (str) {\n  return unescape(encodeURIComponent(str)).length\n}\n\n/**\n * Get a list of segments of the specified mode\n * from a string\n *\n * @param  {Mode}   mode Segment mode\n * @param  {String} str  String to process\n * @return {Array}       Array of object with segments data\n */\nfunction getSegments (regex, mode, str) {\n  const segments = []\n  let result\n\n  while ((result = regex.exec(str)) !== null) {\n    segments.push({\n      data: result[0],\n      index: result.index,\n      mode: mode,\n      length: result[0].length\n    })\n  }\n\n  return segments\n}\n\n/**\n * Extracts a series of segments with the appropriate\n * modes from a string\n *\n * @param  {String} dataStr Input string\n * @return {Array}          Array of object with segments data\n */\nfunction getSegmentsFromString (dataStr) {\n  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr)\n  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr)\n  let byteSegs\n  let kanjiSegs\n\n  if (Utils.isKanjiModeEnabled()) {\n    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr)\n    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr)\n  } else {\n    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr)\n    kanjiSegs = []\n  }\n\n  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs)\n\n  return segs\n    .sort(function (s1, s2) {\n      return s1.index - s2.index\n    })\n    .map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      }\n    })\n}\n\n/**\n * Returns how many bits are needed to encode a string of\n * specified length with the specified mode\n *\n * @param  {Number} length String length\n * @param  {Mode} mode     Segment mode\n * @return {Number}        Bit length\n */\nfunction getSegmentBitsLength (length, mode) {\n  switch (mode) {\n    case Mode.NUMERIC:\n      return NumericData.getBitsLength(length)\n    case Mode.ALPHANUMERIC:\n      return AlphanumericData.getBitsLength(length)\n    case Mode.KANJI:\n      return KanjiData.getBitsLength(length)\n    case Mode.BYTE:\n      return ByteData.getBitsLength(length)\n  }\n}\n\n/**\n * Merges adjacent segments which have the same mode\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction mergeSegments (segs) {\n  return segs.reduce(function (acc, curr) {\n    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null\n    if (prevSeg && prevSeg.mode === curr.mode) {\n      acc[acc.length - 1].data += curr.data\n      return acc\n    }\n\n    acc.push(curr)\n    return acc\n  }, [])\n}\n\n/**\n * Generates a list of all possible nodes combination which\n * will be used to build a segments graph.\n *\n * Nodes are divided by groups. Each group will contain a list of all the modes\n * in which is possible to encode the given text.\n *\n * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n * The group for '12345' will contain then 3 objects, one for each\n * possible encoding mode.\n *\n * Each node represents a possible segment.\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction buildNodes (segs) {\n  const nodes = []\n  for (let i = 0; i < segs.length; i++) {\n    const seg = segs[i]\n\n    switch (seg.mode) {\n      case Mode.NUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.ALPHANUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.KANJI:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n        break\n      case Mode.BYTE:\n        nodes.push([\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n    }\n  }\n\n  return nodes\n}\n\n/**\n * Builds a graph from a list of nodes.\n * All segments in each node group will be connected with all the segments of\n * the next group and so on.\n *\n * At each connection will be assigned a weight depending on the\n * segment's byte length.\n *\n * @param  {Array} nodes    Array of object with segments data\n * @param  {Number} version QR Code version\n * @return {Object}         Graph of all possible segments\n */\nfunction buildGraph (nodes, version) {\n  const table = {}\n  const graph = { start: {} }\n  let prevNodeIds = ['start']\n\n  for (let i = 0; i < nodes.length; i++) {\n    const nodeGroup = nodes[i]\n    const currentNodeIds = []\n\n    for (let j = 0; j < nodeGroup.length; j++) {\n      const node = nodeGroup[j]\n      const key = '' + i + j\n\n      currentNodeIds.push(key)\n      table[key] = { node: node, lastCount: 0 }\n      graph[key] = {}\n\n      for (let n = 0; n < prevNodeIds.length; n++) {\n        const prevNodeId = prevNodeIds[n]\n\n        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n          graph[prevNodeId][key] =\n            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode)\n\n          table[prevNodeId].lastCount += node.length\n        } else {\n          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length\n\n          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n            4 + Mode.getCharCountIndicator(node.mode, version) // switch cost\n        }\n      }\n    }\n\n    prevNodeIds = currentNodeIds\n  }\n\n  for (let n = 0; n < prevNodeIds.length; n++) {\n    graph[prevNodeIds[n]].end = 0\n  }\n\n  return { map: graph, table: table }\n}\n\n/**\n * Builds a segment from a specified data and mode.\n * If a mode is not specified, the more suitable will be used.\n *\n * @param  {String} data             Input data\n * @param  {Mode | String} modesHint Data mode\n * @return {Segment}                 Segment\n */\nfunction buildSingleSegment (data, modesHint) {\n  let mode\n  const bestMode = Mode.getBestModeForData(data)\n\n  mode = Mode.from(modesHint, bestMode)\n\n  // Make sure data can be encoded\n  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {\n    throw new Error('\"' + data + '\"' +\n      ' cannot be encoded with mode ' + Mode.toString(mode) +\n      '.\\n Suggested mode is: ' + Mode.toString(bestMode))\n  }\n\n  // Use Mode.BYTE if Kanji support is disabled\n  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {\n    mode = Mode.BYTE\n  }\n\n  switch (mode) {\n    case Mode.NUMERIC:\n      return new NumericData(data)\n\n    case Mode.ALPHANUMERIC:\n      return new AlphanumericData(data)\n\n    case Mode.KANJI:\n      return new KanjiData(data)\n\n    case Mode.BYTE:\n      return new ByteData(data)\n  }\n}\n\n/**\n * Builds a list of segments from an array.\n * Array can contain Strings or Objects with segment's info.\n *\n * For each item which is a string, will be generated a segment with the given\n * string and the more appropriate encoding mode.\n *\n * For each item which is an object, will be generated a segment with the given\n * data and mode.\n * Objects must contain at least the property \"data\".\n * If property \"mode\" is not present, the more suitable mode will be used.\n *\n * @param  {Array} array Array of objects with segments data\n * @return {Array}       Array of Segments\n */\nexports.fromArray = function fromArray (array) {\n  return array.reduce(function (acc, seg) {\n    if (typeof seg === 'string') {\n      acc.push(buildSingleSegment(seg, null))\n    } else if (seg.data) {\n      acc.push(buildSingleSegment(seg.data, seg.mode))\n    }\n\n    return acc\n  }, [])\n}\n\n/**\n * Builds an optimized sequence of segments from a string,\n * which will produce the shortest possible bitstream.\n *\n * @param  {String} data    Input string\n * @param  {Number} version QR Code version\n * @return {Array}          Array of segments\n */\nexports.fromString = function fromString (data, version) {\n  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n\n  const nodes = buildNodes(segs)\n  const graph = buildGraph(nodes, version)\n  const path = dijkstra.find_path(graph.map, 'start', 'end')\n\n  const optimizedSegs = []\n  for (let i = 1; i < path.length - 1; i++) {\n    optimizedSegs.push(graph.table[path[i]].node)\n  }\n\n  return exports.fromArray(mergeSegments(optimizedSegs))\n}\n\n/**\n * Splits a string in various segments with the modes which\n * best represent their content.\n * The produced segments are far from being optimized.\n * The output of this function is only used to estimate a QR Code version\n * which may contain the data.\n *\n * @param  {string} data Input string\n * @return {Array}       Array of segments\n */\nexports.rawSplit = function rawSplit (data) {\n  return exports.fromArray(\n    getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n  )\n}\n","function BitBuffer () {\n  this.buffer = []\n  this.length = 0\n}\n\nBitBuffer.prototype = {\n\n  get: function (index) {\n    const bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1\n  },\n\n  put: function (num, length) {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1)\n    }\n  },\n\n  getLengthInBits: function () {\n    return this.length\n  },\n\n  putBit: function (bit) {\n    const bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0)\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n    }\n\n    this.length++\n  }\n}\n\nmodule.exports = BitBuffer\n","exports.L = { bit: 1 }\nexports.M = { bit: 0 }\nexports.Q = { bit: 3 }\nexports.H = { bit: 2 }\n\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'l':\n    case 'low':\n      return exports.L\n\n    case 'm':\n    case 'medium':\n      return exports.M\n\n    case 'q':\n    case 'quartile':\n      return exports.Q\n\n    case 'h':\n    case 'high':\n      return exports.H\n\n    default:\n      throw new Error('Unknown EC Level: ' + string)\n  }\n}\n\nexports.isValid = function isValid (level) {\n  return level && typeof level.bit !== 'undefined' &&\n    level.bit >= 0 && level.bit < 4\n}\n\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n"],"names":["Utils","ECLevel","BitBuffer","BitMatrix","AlignmentPattern","FinderPattern","MaskPattern","ECCode","ReedSolomonEncoder","Version","FormatInfo","Mode","Segments","setupFormatInfo","matrix","errorCorrectionLevel","maskPattern","size","bits","getEncodedBits","i","mod","set","createData","version","segments","buffer","forEach","data","put","mode","bit","getLength","getCharCountIndicator","write","dataTotalCodewordsBits","getSymbolTotalCodewords","getTotalCodewordsCount","getLengthInBits","putBit","remainingByte","bitBuffer","totalCodewords","ecTotalCodewords","dataTotalCodewords","ecTotalBlocks","getBlocksCount","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","Math","floor","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","offset","dcData","Array","ecData","maxDataSize","Uint8Array","b","dataSize","slice","encode","max","r","index","length","createCodewords","createSymbol","isArray","fromArray","Error","estimatedVersion","rawSegments","rawSplit","getBestVersionForData","fromString","bestVersion","dataBits","moduleCount","getSymbolSize","modules","pos","getPositions","row","col","c","setupFinderPattern","value","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","inc","bitIndex","byteIndex","isReserved","dark","setupData","isNaN","getBestMask","bind","applyMask","exports","create","options","mask","M","from","toSJISFunc","setToSJISFunction","VersionCheck","Regex","NUMERIC","id","ccBits","ALPHANUMERIC","BYTE","KANJI","MIXED","isValid","getBestModeForData","dataStr","testNumeric","testAlphanumeric","testKanji","toString","defaultValue","string","toLowerCase","e","asyncGeneratorStep","n","t","o","a","u","done","Promise","resolve","then","_asyncToGenerator","this","arguments","apply","_next","_throw","Patterns","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PenaltyScores","getMaskAt","j","parseInt","undefined","getPenaltyN1","points","sameCountCol","sameCountRow","lastCol","lastRow","module","get","getPenaltyN2","last","getPenaltyN3","bitsCol","bitsRow","getPenaltyN4","darkCount","modulesCount","abs","ceil","pattern","xor","setupFormatFunc","numPatterns","Object","keys","bestPattern","lowerPenalty","Infinity","p","penalty","G18_BCH","getBCHDigit","getReservedBitsCount","getTotalBitsFromDataArray","totalBits","reservedBits","getBitsLength","getCapacity","usableBits","seg","ecl","currentVersion","getBestVersionForMixedData","getBestVersionForDataLength","d","ALPHA_NUM_CHARS","AlphanumericData","prototype","indexOf","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","push","charCodeAt","String","fromCharCode","join","_typeof","Symbol","iterator","constructor","EXP_TABLE","LOG_TABLE","x","log","exp","mul","y","_arrayLikeToArray","_slicedToArray","crypt","isBuffer","md5","message","encoding","call","m","bytesToWords","l","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","s","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToHex","f","code","_dereq_","global","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","element","document","createTextNode","observe","characterData","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","channel","port1","onmessage","port2","postMessage","queue","oldQueue","len","immediate","task","g","self","window","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","resolver","TypeError","state","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","returnValue","reject","getThen","obj","thenable","onError","onSuccess","tryToUnwrap","result","tryCatch","status","out","reason","all","iterable","values","resolved","allResolver","resolveFromAll","outValue","error","race","response","_classCallCheck","instance","Constructor","getIDB","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","idb","isIndexedDBValid","open","isSafari","openDatabase","test","navigator","userAgent","platform","hasFetch","fetch","IDBKeyRange","createBlob","parts","properties","Blob","name","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","type","Promise$1","executeCallback","callback","executeTwoCallbacks","errorCallback","normalizeKey","key","getCallback","DETECT_BLOB_SUPPORT_STORE","supportsBlobs","dbContexts","READ_ONLY","READ_WRITE","_binStringToArrayBuffer","buf","ArrayBuffer","arr","_checkBlobSupportWithoutCaching","txn","transaction","blob","objectStore","onabort","preventDefault","stopPropagation","oncomplete","matchedChrome","match","matchedEdge","_checkBlobSupport","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","pop","_rejectReadiness","err","_getConnection","upgradeNeeded","createDbContext","db","close","dbArgs","openreq","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","onerror","onsuccess","onversionchange","target","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_encodeBlob","reader","FileReader","onloadend","base64","btoa","__local_forage_encoded_blob","readAsBinaryString","_decodeBlob","encodedBlob","atob","_isEncodedBlob","_fullyReady","_initReady","_dbInfo","_tryReconnect","forages","forage","createTransaction","retries","tx","_initStorage","ready","initPromises","ignoreErrors","_defaultConfig","k","getItem","req","iterate","openCursor","iterationNumber","cursor","setItem","blobSupport","store","removeItem","clear","count","advanced","openKeyCursor","advance","dropInstance","currentConfig","config","dbPromise","newVersion","dropObjectPromise","deleteObjectStore","_forage2","dropDBPromise","deleteDatabase","onblocked","asyncStorage","_driver","_support","isWebSQLValid","BASE_CHARS","BLOB_TYPE_PREFIX","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_ARRAYBUFFER","TYPE_BLOB","TYPE_INT8ARRAY","TYPE_UINT8ARRAY","TYPE_UINT8CLAMPEDARRAY","TYPE_INT16ARRAY","TYPE_INT32ARRAY","TYPE_UINT16ARRAY","TYPE_UINT32ARRAY","TYPE_FLOAT32ARRAY","TYPE_FLOAT64ARRAY","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","bufferToString","base64String","substring","serialize","valueType","marker","fileReader","onload","readAsArrayBuffer","JSON","stringify","deserialize","parse","blobType","matcher","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","localforageSerializer","createDbTable","executeSql","_initStorage$1","dbInfoPromise","description","serializer","tryExecuteSql","sqlStatement","args","SYNTAX_ERR","results","rows","getItem$1","item","iterate$1","_setItem","retriesLeft","originalValue","sqlError","QUOTA_ERR","setItem$1","removeItem$1","clear$1","length$1","key$1","keys$1","getAllStoreNames","storeNames","dropInstance$1","operationInfo","dropTable","operations","webSQLStorage","isLocalStorageValid","localStorage","_getKeyPrefix","defaultConfig","keyPrefix","checkIfLocalStorageThrows","localStorageTestKey","_isLocalStorageUsable","_initStorage$2","clear$2","getItem$2","iterate$2","keyPrefixLength","key$2","keys$2","itemKey","length$2","removeItem$2","setItem$2","dropInstance$2","localStorageWrapper","sameValue","includes","array","searchElement","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","concat","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","extend","_key","hasOwnProperty","LocalForage","driverTypeKey","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","replace","driverObject","complianceError","driverMethods","driverMethodName","configureMissingMethods","methodNotImplementedFactory","methodName","_i","_len","optionalDriverMethod","setDriverSupport","support","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","initDriver","currentDriverIndex","driverPromiseLoop","oldDriverSetDone","supports","libraryMethodsAndProperties","createInstance","localforage_js","base64map","rotl","rotr","Number","randomBytes","random","words","hex","hexToBytes","substr","bytesToBase64","triplet","charAt","base64ToBytes","imod4","pow","NumericData","group","remainingNum","INPUT_ERROR","WINDOW","root","JS_SHA512_NO_WINDOW","WEB_WORKER","JS_SHA512_NO_NODE_JS","process","versions","node","COMMON_JS","JS_SHA512_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_SHA512_NO_ARRAY_BUFFER","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","isView","JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW","formatMessage","createOutputMethod","outputType","Sha512","update","createMethod","method","createHmacOutputMethod","HmacSha512","createHmacMethod","sharedMemory","h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","block","start","hBytes","finalized","hashed","oKeyPad","iKeyPad","inner","isString","lastByteIndex","hash","finalize","s0h","s0l","s1h","s1l","c1","c2","c3","c4","abh","abl","dah","dal","cdh","cdl","bch","bcl","majh","majl","t1h","t1l","t2h","t2l","chh","chl","ah","al","bh","bl","ch","cl","dh","dl","eh","el","fh","fl","gh","gl","hh","hl","digest","arrayBuffer","dataView","DataView","setUint32","clone","copyTo","attrs","innerHash","sha512","sha384","sha512_256","sha512_224","hmac","G15_BCH","_min","d0","d1","d2","bx","ay","tmp","la","lb","d3","dy","bx0","bx1","bx2","bx3","vector","GF","p1","p2","coeff","divident","divisor","generateECPolynomial","degree","poly","Polynomial","genPoly","initialize","paddedData","remainder","buff","KanjiData","toSJIS","ByteData","TextEncoder","dijkstra","single_source_shortest_paths","graph","predecessors","costs","closest","v","cost_of_s_to_u","adjacent_nodes","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","PriorityQueue","make","empty","cost","msg","extract_shortest_path_from_predecessor_list","nodes","reverse","find_path","opts","T","sorter","default_sorter","sort","shift","_arrayWithHoles","getRowColCoords","posCount","intervals","positions","coords","posLength","_nonIterableRest","toSJISFunction","CODEWORDS_COUNT","digit","isKanjiModeEnabled","kanji","_iterableToArrayLimit","next","numeric","byte","RegExp","BYTE_KANJI","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","readFloatLE","isSlowBuffer","_isBuffer","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","L","Q","H","_unsupportedIterableToArray","reservedBit","reserved","getStringByteLength","getSegments","regex","exec","getSegmentsFromString","numSegs","alphaNumSegs","byteSegs","kanjiSegs","s1","s2","map","getSegmentBitsLength","buildSingleSegment","modesHint","bestMode","reduce","acc","segs","buildNodes","table","prevNodeIds","nodeGroup","currentNodeIds","lastCount","prevNodeId","end","buildGraph","path","optimizedSegs","curr","prevSeg","mergeSegments","bufIndex","num","level"],"ignoreList":[],"sourceRoot":""}