"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[512],{904(e,t,n){n.d(t,{AE:()=>S,BM:()=>C,WR:()=>b,Z_:()=>w,f1:()=>A,gO:()=>E,kr:()=>g,l$:()=>k,p9:()=>I});var r=n(8179),a=n(8024),o=n(4884),i=n(6052),c=n(9333),s=n(8379),d=n(5693),l=n(7891),u=n(7908),f=n(5009),p=n(6104),v=(0,r.bv)(".ng"),h=(0,r.bv)(".rg"),m=(new Date).getTime(),y=["Home"];function b(e){var t=y.length;y[t-1]!==e&&y.push(e)}function g(e){if(y.indexOf(e)>-1){var t=y.length;y[t-1]===e&&y.pop()}}function w(){var e=y.length;if(e>1)switch(y[e-2]){case"Home":case"FolderIconSelector":case"Location":case"LocationDetails":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":case"QRCode":default:break;case"FolderCreator":(0,i.z1)();break;case"FolderEditor":(0,c.I6)();break;case"FolderManager":(0,s.m)();break;case"Search":(0,f.Bb)();break;case"Settings":(0,p.os)();break;case"PersonalScheduleManager":(0,l.Z)();break;case"PersonalScheduleEditor":(0,d.Xy)();break;case"Bus":(0,o.FN)();break;case"RegisterNotification":(0,u.hy)()}}function k(){var e=y.length;if(e>1){var t=y[e-2];switch(y.pop(),t){case"Home":case"FolderIconSelector":case"Location":case"LocationDetails":case"Route":case"RouteDetails":case"SaveToFolder":case"SettingsOptions":case"DataUsage":case"PersonalScheduleCreator":case"ScheduleNotification":case"NotificationScheduleManager":case"QRCode":default:break;case"FolderCreator":(0,i.pd)();break;case"FolderEditor":(0,c.uy)();break;case"FolderManager":(0,s.g)();break;case"Search":(0,f.rf)();break;case"Settings":(0,p.Ow)();break;case"PersonalScheduleManager":(0,l.z)();break;case"PersonalScheduleEditor":(0,d.bF)();break;case"Bus":(0,o.$l)();break;case"RegisterNotification":(0,u.XG)()}}}function C(){var e=0;(0,a.t9)()&&(e=-1*(window.outerHeight-window.innerHeight)/2),(0,r.bv)(".ng svg.og").style.setProperty("--pg",`${e}px`)}function S(e){function t(){v.classList.add("qg"),v.addEventListener("animationend",function(){v.setAttribute("displayed","false"),v.classList.remove("qg"),"function"==typeof e&&e()},{once:!0})}var n=(new Date).getTime();n-m<100?setTimeout(t,Math.max(1,n-m)):t()}function A(){h.setAttribute("displayed","true")}function E(e){var t=0,n=0,r=window.innerWidth,a=window.innerHeight;switch(e){case"window":t=r,n=a;break;case"head":t=r,n=55;break;case"head-one-button":t=r-55,n=55;break;case"head-two-button":t=r-110,n=55;break;case"route-details-canvas":t=r-20-20,n=1680;break;case"route-bus-arrival-time-chart":t=r-45-15-20,n=75;break;case"location-bus-arrival-time-chart":t=r-30-20,n=75;break;default:t=0,n=0}return{width:t,height:n}}function I(){window.scrollTo({top:0,behavior:"instant"})}},1143(){},1677(){},1853(){},1924(){},2706(){},3951(){},4504(){},4526(){},4537(e,t,n){n.d(t,{YC:()=>a,oC:()=>o,yD:()=>i});var r=n(8179);function a(e){var t=document.createElement("span");return t.classList.add("ya"),t.innerText=e,t}function o(){var e=document.createElement("span");return e.classList.add("ya"),e}function i(e,t){(0,r.aI)(e,"span.ya").innerText=t}},4946(){},5259(){},5337(){},6052(e,t,n){n.d(t,{c6:()=>p,pd:()=>v,z1:()=>h});var r=n(9566),a=n(8179),o=n(6189),i=n(904),c=n(9119),s=(0,a.bv)(".ns"),d=(0,a.aI)(s,".ss"),l=(0,a.aI)(d,".ts"),u=(0,a.aI)(l,'.us[group="folder-name"] .ys input'),f=(0,a.aI)(l,'.us[group="folder-icon"] .ys .zs input');function p(){var e=u.value,t=f.value;(0,r.vV)(e,t).then(function(e){e?(h(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function v(){(0,i.WR)("FolderCreator"),s.setAttribute("displayed","true"),(0,i.Z_)()}function h(){s.setAttribute("displayed","false"),(0,i.l$)()}(0,a.aI)(l,'.ns .ss .ts .us[group="folder-icon"] .ys .zs ._s').onclick=function(){(0,o.r7)("creator")}},6189(e,t,n){n.d(t,{Pk:()=>C,jW:()=>A,r7:()=>S});var r=n(467),a=n(9218),o=n(6788),i=n(972),c=n(8179),s=n(8024),d=n(4781),l=n(6082),u=n(4537),f=n(904),p=n(9119);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m="",y=(0,c.bv)(".sr"),b=(0,c.bv)(".ns"),g=(0,c.bv)(".r");function w(e){var t=document.createElement("div");return t.classList.add("et"),t.onclick=function(){!function(e){var t;switch(m){case"editor":t=(0,c.aI)(y,'.wr .xr .yr[group="folder-icon"] .bs .cs input');break;case"creator":t=(0,c.aI)(b,'.ss .ts .us[group="folder-icon"] .ys .zs input')}t.value=e,A()}(e)},t.appendChild((0,u.YC)(e)),{element:t,id:""}}function k(){return(k=(0,r.A)(function*(){var e=(0,c.aI)(g,".bt .ct");e.innerHTML="";var t=(0,s.zx)(),n=yield(0,a.l)(t);(0,o.LQ)(t);var r=new DocumentFragment,i=n.dictionary.split(",");for(var d in n.symbols){for(var l=d.split("_"),u=l.length-1;u>=0;u--)l.splice(u,1,i[parseInt(l[u])]);var f=w(l.join("_"));r.appendChild(f.element)}e.append(r)})).apply(this,arguments)}function C(e){var t=(0,c.aI)(g,".bt .dt"),n=(0,c.aI)(g,".bt .ct");if(!(0,d.iO)(e)){var r,a=(0,i.U)(e),o=new DocumentFragment,s=v(a);try{for(s.s();!(r=s.n()).done;){var l=w(r.value.item);o.appendChild(l.element)}}catch(e){s.e(e)}finally{s.f()}t.innerHTML="",t.append(o),t.setAttribute("displayed",a.length>0?"true":"false"),n.setAttribute("displayed",a.length>0?"false":"true")}}function S(e){switch((0,f.WR)("FolderIconSelector"),e){case"editor":m="editor",(0,c.aI)(y,'.wr .xr .yr[group="folder-icon"] .bs .cs .ds');break;case"creator":m="creator",(0,c.aI)(b,'.ss .ts .us[group="folder-icon"] .ys .zs ._s')}l.m?(g.setAttribute("displayed","true"),function(){k.apply(this,arguments)}(m),(0,i.L)()):(0,p.a)("download_for_offline","資料還在下載中")}function A(){(0,f.kr)("FolderIconSelector"),g.setAttribute("displayed","false")}},6585(){},6590(){},6732(){},6738(){},6764(){},7482(){},8268(){},8379(e,t,n){n.d(t,{g:()=>m,m:()=>y});var r=n(467),a=n(9566),o=n(8179),i=n(9333),c=n(4537),s=n(904);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.bv)(".gr"),f=(0,o.aI)(u,".lr"),p=(0,o.aI)(f,".mr");function v(e){var t=document.createElement("div");t.classList.add("nr"),t.onclick=function(){(0,i.uy)(e.id)};var n=document.createElement("div");n.classList.add("or"),n.appendChild((0,c.YC)(e.icon));var r=document.createElement("div");r.classList.add("pr"),r.appendChild(document.createTextNode(e.name));var a=document.createElement("div");a.classList.add("qr"),a.appendChild(document.createTextNode(String(e.contentLength)));var o=document.createElement("div");return o.classList.add("rr"),o.appendChild((0,c.YC)("arrow_forward_ios")),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(o),{element:t,id:""}}function h(){return(h=(0,r.A)(function*(){var e=yield(0,a.Xi)();p.innerHTML="";var t,n=new DocumentFragment,r=d(e);try{for(r.s();!(t=r.n()).done;){var o=v(t.value);n.appendChild(o.element)}}catch(e){r.e(e)}finally{r.f()}p.append(n)})).apply(this,arguments)}function m(){(0,s.WR)("FolderManager"),u.setAttribute("displayed","true"),function(){h.apply(this,arguments)}()}function y(){(0,s.kr)("FolderManager"),u.setAttribute("displayed","false")}},8456(){},8592(){},8843(){},9333(e,t,n){n.d(t,{I6:()=>I,uy:()=>E});var r=n(467),a=n(9566),o=n(8179),i=n(8024),c=n(6189),s=n(4537),d=n(904),l=n(9119);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("E0")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.bv)(".sr"),v=(0,o.aI)(p,".tr"),h=(0,o.aI)(v,".ur"),m=(0,o.aI)(p,".wr"),y=(0,o.aI)(m,".xr"),b=(0,o.aI)(y,'.yr[group="folder-name"] .bs input'),g=(0,o.aI)(y,'.yr[group="folder-icon"] .bs .cs input'),w=(0,o.aI)(y,'.yr[group="folder-icon"] .bs .cs .ds'),k=(0,o.aI)(y,'.yr[group="folder-content"] .bs');function C(e,t){var n=(0,i.zx)(),r=document.createElement("div");r.id=n,r.classList.add("es"),r.setAttribute("type",t.type);var o="",c="",d="";switch(t.type){case"stop":d="location_on",o=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,c=t.name;break;case"route":d="route",o=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,c=t.name;break;case"location":d="location_on",o="地點",c=t.name;break;case"bus":o="",c=t.name;break;case"empty":d="lightbulb",o="提示",c="沒有內容";break;default:d="",o="null",c="null"}var u=document.createElement("div");u.classList.add("fs"),u.appendChild((0,s.YC)(d));var f=document.createElement("div");f.classList.add("gs"),f.appendChild(document.createTextNode(o));var p=document.createElement("div");p.classList.add("hs"),p.appendChild(document.createTextNode(c));var v=document.createElement("div");v.classList.add("is");var h=document.createElement("div");h.classList.add("js"),h.appendChild((0,s.YC)("keyboard_arrow_down")),h.onclick=function(){L(r,e.id,t.type,t.id,"up")};var m=document.createElement("div");m.classList.add("ks"),m.appendChild((0,s.YC)("keyboard_arrow_down")),m.onclick=function(){L(r,e.id,t.type,t.id,"down")};var y=document.createElement("div");y.classList.add("ls"),y.appendChild((0,s.YC)("delete")),y.onclick=function(){!function(e,t,n,r){(0,a.NC)(t,n,r).then(function(t){if(t)switch(e.remove(),n){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(r,e.id,t.type,t.id)};var b=document.createElement("div");b.classList.add("ms");var g=document.createElement("div");return g.classList.add("ms"),v.appendChild(h),v.appendChild(m),v.appendChild(y),v.appendChild(b),v.appendChild(g),r.appendChild(u),r.appendChild(f),r.appendChild(p),r.appendChild(v),{element:r,id:n}}function S(e,t){b.value=e.name,g.value=e.icon,h.onclick=function(){var t,n,r;t=e.id,n=b.value,r=g.value,(0,a.g$)(t,n,r).then(function(e){e?(I(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},k.innerHTML="";var n,r=new DocumentFragment,o=u(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=C(e,i);r.appendChild(c.element)}}catch(e){o.e(e)}finally{o.f()}k.append(r)}function A(){return(A=(0,r.A)(function*(e){S((0,a.L2)(e),yield(0,a.eD)(e))})).apply(this,arguments)}function E(e){(0,d.WR)("FolderEditor"),p.setAttribute("displayed","true"),function(e){A.apply(this,arguments)}(e),(0,d.Z_)()}function I(){p.setAttribute("displayed","false"),(0,d.l$)()}function L(e,t,n,r,o){(0,a.bq)(t,n,r,o).then(function(t){if(t)switch(o){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var r=e.nextElementSibling;r&&e.parentNode.insertBefore(r,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}w.onclick=function(){(0,c.r7)("editor")}},9422(){},9457(){},9678(){}}]);
//# sourceMappingURL=6be14fcda0999656e81e.js.map