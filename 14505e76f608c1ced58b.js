!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bus",[],t):"object"==typeof exports?exports.bus=t():e.bus=t()}(self,()=>(()=>{"use strict";var e,t={2648(e,t,r){r.d(t,{$:()=>u});var n=r(7968);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=r(157);function u(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,c=[[[-1,0],[0,-1]],[[0,-1],[1,0]],[[1,0],[0,1]],[[0,1],[-1,0]]],f=[[[-1,0],[-1,-1],[0,-1]],[[0,-1],[1,-1],[1,0]],[[1,0],[1,1],[0,1]],[[0,1],[-1,1],[-1,0]]],s=function(e,t){for(var r=i.create(e,{errorCorrectionLevel:t}),n=r.modules.size,o=[],a=0;a<n;a++){for(var u=[],l=0;l<n;l++){var c=r.modules.get(l,a);u.push(c)}o.push(u)}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L"),d=s.length,h=[],v=0;v<d;v++)for(var p=0;p<d;p++)if(1===s[v][p]){for(var g=new Uint8Array(4),m=0;m<4;m++){var y,b=1,w=o(c[m]);try{for(w.s();!(y=w.n()).done;){var S,M=y.value;1===(null===(S=s[v+M[1]])||void 0===S?void 0:S[p+M[0]])&&(b*=0)}}catch(e){w.e(e)}finally{w.f()}g[m]=b}h=h.concat((0,n.mX)((p+a)*l,(v+a)*l,1*l,1*l,{tl:g[0]*t*l,tr:g[1]*t*l,br:g[2]*t*l,bl:g[3]*t*l},!1))}else{for(var $=new Uint8Array(4),j=0;j<4;j++){var A,D=1,k=o(f[j]);try{for(k.s();!(A=k.n()).done;){var O,I=A.value;null!==(O=s[v+I[1]])&&void 0!==O&&O[p+I[0]]||(D*=0)}}catch(e){k.e(e)}finally{k.f()}$[j]=D}$.some(function(e){return 0!==e})&&(h=h.concat((0,n.mX)((p+a)*l,(v+a)*l,1*l,1*l,{tl:$[0]*r*l,tr:$[1]*r*l,br:$[2]*r*l,bl:$[3]*r*l},!0)))}return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${(d+2*a)*l} ${(d+2*a)*l}" shape-rendering="geometricPrecision"><path d="${h.join(" ")}" fill="${u}" stroke="${u}" stroke-width="0.1" stroke-linejoin="round" fill-rule="nonzero" /></svg>`}},4256(e,t,r){r.d(t,{_q:()=>l,pD:()=>u});var n=r(2129),o=r(2945);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return`${e.city.join("")}${e.district.join("")}${e.road.join("、")}${e.road_section.sort(function(e,t){return e-t}).length>0?e.road_section.join("、")+"段":""}${e.alley.length>0?e.alley.sort(function(e,t){return e-t}).join("、")+"巷":""}${e.alley_branch.length>0?e.alley_branch.sort(function(e,t){return e-t}).join("、")+"弄":""}${e.doorplate.length>0?e.doorplate.sort(function(e,t){return e-t}).join("、")+"號":""}${e.floornumber.length>0?e.floornumber.join("、")+"樓":""}${e.direction.length>0?"（朝"+e.direction.join("、")+"）":""}`}function l(e){var t,r=[],i={},u=a(e);try{for(u.s();!(t=u.n()).done;){var l=t.value;for(var c in l)i.hasOwnProperty(c)||(i[c]=0),l[c].length>0&&(i[c]=i[c]+1)}}catch(e){u.e(e)}finally{u.f()}var f=Object.entries(i).map(function(e){return{key:e[0],value:e[1]}}).filter(function(t){return t.value===e.length}).sort(function(e,t){return e.value-t.value});if(f.length>0){var s,d=a(f);try{for(d.s();!(s=d.n()).done;){var h,v=s.value,p=[],g=-1/0,m=a(e);try{for(m.s();!(h=m.n()).done;){var y=h.value[v.key].join("");p.push(y);var b=y.length;b>g&&(g=b)}}catch(e){m.e(e)}finally{m.f()}(0,n.W8)(p)&&r.push({components:p,len:g})}}catch(e){d.e(e)}finally{d.f()}}if(r.length>0)return r.sort(function(e,t){return e.len-t.len}),r[0].components;var w=e.length;return(0,o.V)(w)}},5428(e,t,r){function n(e,t,r,n,o,a){var i=r+a,u=(r*e+a*n)/i,l=(r*(Math.pow(t,2)+Math.pow(e,2))+a*(Math.pow(o,2)+Math.pow(n,2)))/i-Math.pow(u,2);return Math.sqrt(l)}function o(e,t,r,o,a,i,u,l,c,f,s,d){var h=a+s;return(a*(r*o*i+e*t)+s*(c*f*d+u*l)-h*((a*e+s*u)/h)*((a*t+s*l)/h))/(h*n(e,r,a,u,c,s)*n(t,o,a,l,f,s))}function a(e){var t=Math.hypot(e),r=e.length,n=new Float32Array(r);if(t>0){for(var o=1/t,a=r;a>0;a--)n[a]=e[a]*o;return Array.from(n)}return e}function i(e){var t=e.length;if(0===t)return[0,0];for(var r=1/0,n=-1/0,o=t-1;o>=0;o--){var a=e[o];a>n&&(n=a),a<r&&(r=a)}return[r,n]}r.d(t,{Hi:()=>o,VY:()=>n,hF:()=>a,no:()=>i})},5579(e,t,r){function n(){var e=new Date,t=e.getDay(),r=e.getDate()-t,n=new Date;return n.setDate(r),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function o(e,t,r,n){var o=new Date;return o.setDate(1),o.setMonth(0),o.setHours(r),o.setMinutes(n),o.setSeconds(0),o.setMilliseconds(0),o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()),o.setDate(e.getDate()),o.setDate(o.getDate()+t),o}function a(e){var t=e.match(/[0-9\.]*/gm);if(t){var r=parseInt(t[0]),n=parseInt(t[2]),o=parseInt(t[4]),a=parseInt(t[6]),i=parseInt(t[8]),u=parseInt(t[10]),l=new Date;return l.setDate(1),l.setMonth(0),l.setFullYear(r),l.setMonth(n-1),l.setDate(o),l.setHours(a),l.setMinutes(i),l.setSeconds(u),l.getTime()}return 0}function i(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss").replaceAll(/Y{4,4}/g,e.getFullYear()).replaceAll(/M{2,2}/g,String(e.getMonth()+1).padStart(2,"0")).replaceAll(/D{2,2}/g,String(e.getDate()).padStart(2,"0")).replaceAll(/h{2,2}/g,String(e.getHours()).padStart(2,"0")).replaceAll(/m{2,2}/g,String(e.getMinutes()).padStart(2,"0")).replaceAll(/s{2,2}/g,String(e.getSeconds()).padStart(2,"0"))}function u(e){var t=e.getTime(),r=Math.floor(((new Date).getTime()-t)/1e3),n=Math.floor(r/31536e3);return n>=1?`${n}年前`:(n=Math.floor(r/2592e3))>=1?`${n}個月前`:(n=Math.floor(r/86400))>=1?`${n}天前`:(n=Math.floor(r/3600))>=1?`${n}小時前`:(n=Math.floor(r/60))>=1?`${n}分鐘前`:r>0?`${r}秒前`:"現在"}function l(e,t){var r=0|e;switch(t){case 0:return`${r}秒`;case 1:return[String((r-r%60)/60),String(r%60)].map(function(e){return e.padStart(2,"0")}).join(":");case 2:return`${r/60|0}分`;case 3:if(r>=3600)return`${parseFloat((r/3600).toFixed(1))}時`;if(60<=r&&r<3600)return`${r/60|0}分`;if(r<60)return`${r}秒`;break;default:return"--"}}function c(e){return[{name:"日",day:0,code:"d_0"},{name:"一",day:1,code:"d_1"},{name:"二",day:2,code:"d_2"},{name:"三",day:3,code:"d_3"},{name:"四",day:4,code:"d_4"},{name:"五",day:5,code:"d_5"},{name:"六",day:6,code:"d_6"}][e]}function f(e){return c(parseInt(e)-1)}function s(e){return`${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}`}function d(e,t,r){var n=new Date;return n.setDate(1),n.setMonth(0),n.setFullYear(e),n.setMonth(t-1),n.setDate(r),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}r.d(t,{$T:()=>i,HN:()=>u,P$:()=>n,S1:()=>o,Zn:()=>a,fU:()=>l,kd:()=>c,mr:()=>f,pn:()=>s,uP:()=>d})},8024(e,t,r){r.d(t,{FU:()=>l,Gz:()=>v,MR:()=>f,Zf:()=>a,hw:()=>i,p1:()=>d,t9:()=>s,xZ:()=>h,zx:()=>u});var n=r(9119),o=r(3503),a=r(4462).sha512;function i(e,t){function r(e){return JSON.stringify({e})}var n=r(e),a=r(t),i=n.length,u=a.length;if(i===u){if(i>32||u>32){for(var l=o(n),c=o(a),f=!0,s=0;s<8;s++){if(l.charAt(s)!==c.charAt(s)){f=!1;break}}return f}return n===a}return!1}function u(){var e=[[48,10],[97,26],[65,26]],t=Math.floor(268435456*Math.random()),r=Math.floor(268435456*Math.random()),n=new Uint8Array(17);n[0]=95;for(var o=16;o>0;o--){var a=e[r%3],i=a[0]+t%a[1];n[o]=i,t>>>=1,r>>>=1}return String.fromCharCode.apply(null,n)}function l(e){return((new Date).getTime()/e|0).toString(16)}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32e3,n=URL.createObjectURL(e),o=document.createElement("a");return o.href=n,o.download=t,document.body.appendChild(o),o.click(),o.remove(),setTimeout(function(){URL.revokeObjectURL(n)},r),n}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",r=arguments.length>2?arguments[2]:void 0,o=new Blob([e],{type:t}),a=new File([o],r,{type:t});navigator.canShare&&navigator.canShare({files:[a]})?navigator.share({files:[a]}).catch(function(e){(0,n.a)("download","下載資料",{text:"下載",action:function(){c(o,r)}})}):c(o,r)}function s(){return window.matchMedia("(display-mode: standalone)").matches}function d(){return!(!("ontouchstart"in window)&&!navigator.maxTouchPoints)}function h(e){if("boolean"==typeof e)return e?"true":"false"}function v(e){try{return new URL(e),!0}catch(e){return!1}}},9469(e,t,r){r.d(t,{_:()=>i,i:()=>u});var n=r(8134),o=r(3030),a=r(4690);function i(){var e=new URL(location.href).searchParams.get("permalink");if(null!==e){var t=String(e);if(/^[0-1]\@(.*)(\~.*){0,1}/.test(t)){var r=t.split(/[\@\~]/);switch(parseInt(r[0])){case 0:(0,n.Rk)(parseInt(r[1],16)).then(function(e){!1!==e?(0,a.SR)(e.id,e.pid):(0,n.k9)(r[2]).then(function(e){e.length>0&&(0,a.SR)(e[0].id,e[0].pid)})});break;case 1:(0,o.so)(r[1])}}}}function u(e,t){var r=new URL("https://erichsia7.github.io/bus/");switch(e){case 0:r.searchParams.set("permalink",`0@${parseInt(t.id).toString(16)}~${t.name}`);break;case 1:r.searchParams.set("permalink",`1@${t.hash}`)}return decodeURIComponent(r.toString())}},9519(e,t,r){r.d(t,{e:()=>n});var n=r(4668)}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,n.amdO={},e=[],n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(f=0;f<e.length;f++){for(var[r,o,a]=e[f],u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every(e=>n.O[e](r[l]))?r.splice(l--,1):(u=!1,a<i&&(i=a));if(u){e.splice(f--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[r,o,a]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.u=e=>({82:"147f729604652d3d1814",1132:"befaf7cd5679c74dde88",1837:"c9e06ac5b02079924e75",1992:"660df262446d7dc7f7f9",3113:"eca30172274360874386",3148:"3da7148ca4e40efab3bc",3281:"f96fc566e82d900a0517",3305:"f7c8896ab0df2bfdc154",5332:"412f2532b92ce7f36bde",5494:"eca30172274360874386",5662:"f96fc566e82d900a0517",5960:"5c5c9e0ab824eb68d25f",7425:"eaedd680d457e51cee63",7701:"147f729604652d3d1814",8619:"45b4d4ec1576c9ee7477",8892:"2e7621ebacd49eddb987",9611:"660df262446d7dc7f7f9"}[e]+".js"),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="./",(()=>{n.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={1837:0,8289:0,6423:0,1821:0,4167:0,7487:0,3225:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,u,l]=r,c=0;if(i.some(t=>0!==e[t])){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(l)var f=l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(f)},r=self.webpackChunkbus=self.webpackChunkbus||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[3453,3790,225,5594,157,4207,9738,5680,4039,775,7374,8153,7600,8018,88,1496,6675,9607,196,8139,6423,1821,4167,7487,8474,3225,5155],()=>n(4356));return o=(o=n.O(o)).default})());
//# sourceMappingURL=14505e76f608c1ced58b.js.map