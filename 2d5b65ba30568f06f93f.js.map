{"version":3,"file":"2d5b65ba30568f06f93f.js","mappings":"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","sources":["webpack://bus/./src/interface/icons/index.ts","webpack://bus/./src/interface/personal-schedule-manager/index.ts","webpack://bus/./src/interface/folder-manager/index.ts","webpack://bus/./src/interface/prompt/index.ts","webpack://bus/./src/interface/folder-editor/index.ts"],"sourcesContent":["import { elementQuerySelector } from '../../tools/elements';\nimport { MaterialSymbols } from './material-symbols-type';\n\nexport function getIconHTML(identifier: MaterialSymbols): string {\n  return /*html*/ `<span class=\"css_material_symbols_rounded\">${identifier}</span>`;\n}\n\nexport function getIconElement(identifier: MaterialSymbols): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  iconElement.innerText = identifier;\n  return iconElement;\n}\n\nexport function getBlankIconElement(): HTMLSpanElement {\n  const iconElement = document.createElement('span');\n  iconElement.classList.add('css_material_symbols_rounded');\n  return iconElement;\n}\n\nexport function setIcon(parentElement: HTMLElement, identifier: MaterialSymbols): void {\n  const thisSpanElement = elementQuerySelector(parentElement, 'span.css_material_symbols_rounded');\n  thisSpanElement.innerText = identifier;\n}\n","import { listPersonalSchedules, PersonalSchedule } from '../../data/personal-schedule/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\nimport { openPersonalScheduleEditor } from '../personal-schedule-editor/index';\n\nconst PersonalScheduleManagerField = documentQuerySelector('.css_personal_schedule_manager_field');\nconst PersonalScheduleManagerBodyElement = elementQuerySelector(PersonalScheduleManagerField, '.css_personal_schedule_manager_body');\nconst ListElement = elementQuerySelector(PersonalScheduleManagerBodyElement, '.css_personal_schedule_manager_list');\n\nfunction generateElementOfItem(item: PersonalSchedule): GeneratedElement {\n  // const identifier = generateIdentifier();\n\n  // Main item element\n  const itemElement = document.createElement('div');\n  itemElement.classList.add('css_personal_schedule_manager_item');\n  // itemElement.id = identifier;\n  itemElement.onclick = function () {\n    openPersonalScheduleEditor(item.id);\n  };\n\n  // Name element\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_personal_schedule_manager_item_name');\n  nameElement.appendChild(document.createTextNode(item.name));\n  itemElement.appendChild(nameElement);\n\n  // Arrow element\n  const arrowElement = document.createElement('div');\n  arrowElement.classList.add('css_personal_schedule_manager_item_arrow');\n  const iconElement = document.createElement('span');\n  iconElement.appendChild(getIconElement('arrow_forward_ios'));\n  arrowElement.appendChild(iconElement);\n  itemElement.appendChild(arrowElement);\n\n  return {\n    element: itemElement,\n    id: ''\n  };\n}\nasync function initializePersonalScheduleManagerField() {\n  ListElement.innerHTML = '';\n  const personalSchedules = await listPersonalSchedules();\n  const fragment = new DocumentFragment();\n  for (const item of personalSchedules) {\n    const thisElement = generateElementOfItem(item);\n    fragment.appendChild(thisElement.element);\n  }\n  ListElement.append(fragment);\n}\n\nexport function openPersonalScheduleManager(): void {\n  pushPageHistory('PersonalScheduleManager');\n  PersonalScheduleManagerField.setAttribute('displayed', 'true');\n  initializePersonalScheduleManagerField();\n}\n\nexport function closePersonalScheduleManager(): void {\n  revokePageHistory('PersonalScheduleManager');\n  PersonalScheduleManagerField.setAttribute('displayed', 'false');\n}\n","import { FolderWithContent, listFoldersWithContent } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { openFolderEditor } from '../folder-editor/index';\nimport { getIconElement } from '../icons/index';\nimport { GeneratedElement, pushPageHistory, revokePageHistory } from '../index';\n\nconst FolderManagerField = documentQuerySelector('.css_folder_manager_field');\nconst FolderManagerBodyElement = elementQuerySelector(FolderManagerField, '.css_folder_manager_body');\nconst FolderManagerFolderListElement = elementQuerySelector(FolderManagerBodyElement, '.css_folder_manager_folder_list');\n\nfunction generateElementOfItem(item: FolderWithContent): GeneratedElement {\n  // Main container\n  const folderItemElement = document.createElement('div');\n  folderItemElement.classList.add('css_folder_manager_folder_item');\n  folderItemElement.onclick = () => {\n    openFolderEditor(item.id);\n  };\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_manager_folder_item_icon');\n  iconElement.appendChild(getIconElement(item.icon));\n\n  // Name\n  const nameElement = document.createElement('div');\n  nameElement.classList.add('css_folder_manager_folder_item_name');\n  nameElement.appendChild(document.createTextNode(item.name));\n\n  // Status\n  const statusElement = document.createElement('div');\n  statusElement.classList.add('css_folder_manager_folder_item_status');\n  statusElement.appendChild(document.createTextNode(String(item.contentLength)));\n\n  // Arrow\n  const arrowElement = document.createElement('div');\n  arrowElement.classList.add('css_folder_manager_folder_item_arrow');\n  arrowElement.appendChild(getIconElement('arrow_forward_ios'));\n\n  // Assemble\n  folderItemElement.appendChild(iconElement);\n  folderItemElement.appendChild(nameElement);\n  folderItemElement.appendChild(statusElement);\n  folderItemElement.appendChild(arrowElement);\n\n  return {\n    element: folderItemElement,\n    id: ''\n  };\n}\n\nasync function initializeFolderManagerField() {\n  const foldersWithContent = await listFoldersWithContent();\n  FolderManagerFolderListElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of foldersWithContent) {\n    const newItemElement = generateElementOfItem(item);\n    fragment.appendChild(newItemElement.element);\n  }\n  FolderManagerFolderListElement.append(fragment);\n}\n\nexport function openFolderManager(): void {\n  pushPageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'true');\n  initializeFolderManagerField();\n  // closePreviousPage();\n}\n\nexport function closeFolderManager(): void {\n  revokePageHistory('FolderManager');\n  FolderManagerField.setAttribute('displayed', 'false');\n  // openPreviousPage();\n}\n","import { getSettingOptionValue } from '../../data/settings/index';\nimport { documentQuerySelectorAll } from '../../tools/elements';\nimport { booleanToString } from '../../tools/index';\nimport { getIconElement } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\n\nexport interface PromptButton {\n  text: string;\n  action: Function;\n}\n\nexport function promptMessage(icon: MaterialSymbols, message: string, button: PromptButton | null): void {\n  const allPromptElements = documentQuerySelectorAll('.css_prompt');\n  if (allPromptElements !== null) {\n    for (const promptElement of allPromptElements) {\n      promptElement.remove();\n    }\n  }\n\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n\n  const promptElement = document.createElement('div');\n  promptElement.classList.add('css_prompt');\n  promptElement.setAttribute('animation', booleanToString(playing_animation));\n\n  const promptIconElement = document.createElement('div');\n  promptIconElement.classList.add('css_prompt_icon');\n  promptIconElement.appendChild(getIconElement(icon));\n  promptElement.appendChild(promptIconElement);\n\n  const promptMessageElement = document.createElement('div');\n  promptMessageElement.classList.add('css_prompt_message');\n  promptMessageElement.innerText = message;\n  promptElement.appendChild(promptMessageElement);\n\n  if (typeof button === 'object' && button !== null && button !== undefined) {\n    if (typeof button?.action === 'function') {\n      const promptButtonElement = document.createElement('div');\n      promptButtonElement.classList.add('css_prompt_button');\n      promptButtonElement.innerText = button.text;\n      promptButtonElement.addEventListener(\n        'click',\n        function () {\n          button.action();\n        },\n        { once: true }\n      );\n      promptElement.appendChild(promptButtonElement);\n    }\n  }\n\n  promptElement.addEventListener(\n    'animationend',\n    function (event) {\n      if (event?.target) {\n        event.target.remove();\n      }\n    },\n    { once: true }\n  );\n\n  document.body.appendChild(promptElement);\n}\n","import { Folder, FolderContent, getFolder, listFolderContent, removeFromFolder, updateFolder, updateFolderContentIndex } from '../../data/folder/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/elements';\nimport { generateIdentifier } from '../../tools/index';\nimport { openFolderIconSelector } from '../folder-icon-selector/index';\nimport { getIconElement } from '../icons/index';\nimport { MaterialSymbols } from '../icons/material-symbols-type';\nimport { closePreviousPage, GeneratedElement, openPreviousPage, pushPageHistory } from '../index';\nimport { promptMessage } from '../prompt/index';\n\nconst FolderEditorField = documentQuerySelector('.css_folder_editor_field');\nconst FolderEditorHeadElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_head');\nconst LeftButtonElement = elementQuerySelector(FolderEditorHeadElement, '.css_folder_editor_button_left');\nconst FolderEditorBodyElement = elementQuerySelector(FolderEditorField, '.css_folder_editor_body');\nconst FolderEditorGroupsElement = elementQuerySelector(FolderEditorBodyElement, '.css_folder_editor_groups');\nconst NameInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-name\"] .css_folder_editor_group_body input') as HTMLInputElement;\nconst IconInputElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input input') as HTMLInputElement;\nconst OpenFolderIconSelectorElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-icon\"] .css_folder_editor_group_body .css_folder_editor_icon_input .css_folder_editor_open_folder_icon_selector');\nconst FolderContentElement = elementQuerySelector(FolderEditorGroupsElement, '.css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body');\n\nOpenFolderIconSelectorElement.onclick = function () {\n  openFolderIconSelector('editor');\n};\n\nfunction generateElementOfItem(folder: Folder, item: FolderContent): GeneratedElement {\n  const identifier = generateIdentifier();\n\n  // Main container\n  const itemElement = document.createElement('div');\n  itemElement.id = identifier;\n  itemElement.classList.add('css_folder_editor_folder_item');\n  itemElement.setAttribute('type', item.type);\n\n  // Icon, context, main text\n  let context = '';\n  let main = '';\n  let icon: MaterialSymbols = '';\n  switch (item.type) {\n    case 'stop':\n      icon = 'location_on';\n      context = `${item.route ? item.route.name : ''} - 往${item.route ? [item.route.endPoints.destination, item.route.endPoints.departure, ''][item.direction ? item.direction : 0] : ''}`;\n      main = item.name;\n      break;\n    case 'route':\n      icon = 'route';\n      context = `${item.endPoints.departure} \\u2194 ${item.endPoints.destination}`;\n      main = item.name;\n      break;\n    case 'location':\n      icon = 'location_on';\n      context = '地點';\n      main = item.name;\n      break;\n    case 'bus':\n      context = '';\n      main = item.name;\n      break;\n    case 'empty':\n      icon = 'lightbulb';\n      context = '提示';\n      main = '沒有內容';\n      break;\n    default:\n      icon = '';\n      context = 'null';\n      main = 'null';\n      break;\n  }\n\n  // Icon element\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_folder_editor_folder_item_icon');\n  iconElement.appendChild(getIconElement(icon));\n\n  // Context element\n  const contextElement = document.createElement('div');\n  contextElement.classList.add('css_folder_editor_folder_item_context');\n  contextElement.appendChild(document.createTextNode(context));\n\n  // Main element\n  const mainElement = document.createElement('div');\n  mainElement.classList.add('css_folder_editor_folder_item_main');\n  mainElement.appendChild(document.createTextNode(main));\n\n  // Capsule element\n  const capsuleElement = document.createElement('div');\n  capsuleElement.classList.add('css_folder_editor_folder_item_capsule');\n\n  // Sort up control\n  const sortUpElement = document.createElement('div');\n  sortUpElement.classList.add('css_folder_editor_folder_item_sort_control_up');\n  sortUpElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortUpElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'up');\n  };\n\n  // Sort down control\n  const sortDownElement = document.createElement('div');\n  sortDownElement.classList.add('css_folder_editor_folder_item_sort_control_down');\n  sortDownElement.appendChild(getIconElement('keyboard_arrow_down'));\n  sortDownElement.onclick = () => {\n    moveItemOnFolderEditor(identifier, folder.id, item.type, item.id, 'down');\n  };\n\n  // Delete control\n  const deleteElement = document.createElement('div');\n  deleteElement.classList.add('css_folder_editor_folder_item_delete');\n  deleteElement.appendChild(getIconElement('delete'));\n  deleteElement.onclick = () => {\n    removeItemOnFolderEditor(identifier, folder.id, item.type, item.id);\n  };\n\n  // Capsule separators\n  const separator1Element = document.createElement('div');\n  separator1Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n  const separator2Element = document.createElement('div');\n  separator2Element.classList.add('css_folder_editor_folder_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(sortUpElement);\n  capsuleElement.appendChild(sortDownElement);\n  capsuleElement.appendChild(deleteElement);\n  capsuleElement.appendChild(separator1Element);\n  capsuleElement.appendChild(separator2Element);\n\n  // Assemble main item\n  itemElement.appendChild(iconElement);\n  itemElement.appendChild(contextElement);\n  itemElement.appendChild(mainElement);\n  itemElement.appendChild(capsuleElement);\n\n  return {\n    element: itemElement,\n    id: identifier\n  };\n}\n\nfunction updateFolderEditorField(folder: Folder, content: Array<FolderContent>): void {\n  NameInputElement.value = folder.name;\n  IconInputElement.value = folder.icon;\n\n  LeftButtonElement.onclick = function () {\n    saveEditedFolder(folder.id);\n  };\n\n  FolderContentElement.innerHTML = '';\n  const fragment = new DocumentFragment();\n  for (const item of content) {\n    const thisItemElement = generateElementOfItem(folder, item);\n    fragment.appendChild(thisItemElement.element);\n  }\n  FolderContentElement.append(fragment);\n}\n\nasync function initializeFolderEditorField(folderID: string) {\n  // TODO: add skeleton screen\n  const folder = getFolder(folderID);\n  const content = await listFolderContent(folderID);\n  updateFolderEditorField(folder, content);\n}\n\nexport function openFolderEditor(folderID: string): void {\n  pushPageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'true');\n  initializeFolderEditorField(folderID);\n  closePreviousPage();\n}\n\nexport function closeFolderEditor(): void {\n  // revokePageHistory('FolderEditor');\n  FolderEditorField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nexport function removeItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: number): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  removeFromFolder(folderID, type, id).then((e) => {\n    if (e) {\n      itemElement.remove();\n      switch (type) {\n        case 'stop':\n          promptMessage('delete', '已移除站牌');\n          break;\n        case 'route':\n          promptMessage('delete', '已移除路線');\n          break;\n        case 'location':\n          promptMessage('delete', '已移除地點');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移除');\n    }\n  });\n}\n\nexport function moveItemOnFolderEditor(itemID: string, folderID: Folder['id'], type: FolderContent['type'], id: FolderContent['id'], direction: 'up' | 'down'): void {\n  const itemElement = elementQuerySelector(FolderEditorField, `.css_folder_editor_body .css_folder_editor_groups .css_folder_editor_group[group=\"folder-content\"] .css_folder_editor_group_body .css_folder_editor_folder_item#${itemID}`);\n  updateFolderContentIndex(folderID, type, id, direction).then((e) => {\n    if (e) {\n      switch (direction) {\n        case 'up':\n          const previousSibling = itemElement.previousElementSibling;\n          if (previousSibling) {\n            itemElement.parentNode.insertBefore(itemElement, previousSibling);\n          }\n          promptMessage('arrow_circle_up', '已往上移');\n          break;\n        case 'down':\n          const nextSibling = itemElement.nextElementSibling;\n          if (nextSibling) {\n            itemElement.parentNode.insertBefore(nextSibling, itemElement);\n          }\n          promptMessage('arrow_circle_down', '已往下移');\n          break;\n        default:\n          break;\n      }\n    } else {\n      promptMessage('error', '無法移動');\n    }\n  });\n}\n\nexport function saveEditedFolder(folderID: string): void {\n  const name = NameInputElement.value;\n  const icon = IconInputElement.value;\n  updateFolder(folderID, name, icon).then(function (e) {\n    if (e) {\n      closeFolderEditor();\n      promptMessage('check_circle', '已儲存變更');\n    } else {\n      promptMessage('error', '無法儲存');\n    }\n  });\n}\n"],"names":["getIconHTML","identifier","getIconElement","iconElement","document","createElement","classList","add","innerText","getBlankIconElement","setIcon","parentElement","elementQuerySelector","PersonalScheduleManagerField","documentQuerySelector","PersonalScheduleManagerBodyElement","ListElement","generateElementOfItem","item","itemElement","onclick","openPersonalScheduleEditor","id","nameElement","appendChild","createTextNode","name","arrowElement","element","_initializePersonalScheduleManagerField","innerHTML","_step","personalSchedules","listPersonalSchedules","fragment","DocumentFragment","_iterator","_createForOfIteratorHelper","s","n","done","thisElement","value","err","e","f","append","apply","arguments","openPersonalScheduleManager","pushPageHistory","setAttribute","initializePersonalScheduleManagerField","closePersonalScheduleManager","revokePageHistory","FolderManagerField","FolderManagerBodyElement","FolderManagerFolderListElement","folderItemElement","openFolderEditor","icon","statusElement","String","contentLength","_initializeFolderManagerField","foldersWithContent","listFoldersWithContent","newItemElement","openFolderManager","initializeFolderManagerField","closeFolderManager","promptMessage","message","button","allPromptElements","documentQuerySelectorAll","remove","playing_animation","getSettingOptionValue","promptElement","booleanToString","promptIconElement","promptMessageElement","_typeof","action","promptButtonElement","text","addEventListener","once","event","target","body","FolderEditorField","FolderEditorHeadElement","LeftButtonElement","FolderEditorBodyElement","FolderEditorGroupsElement","NameInputElement","IconInputElement","OpenFolderIconSelectorElement","FolderContentElement","folder","generateIdentifier","type","context","main","route","endPoints","destination","departure","direction","contextElement","mainElement","capsuleElement","sortUpElement","moveItemOnFolderEditor","sortDownElement","deleteElement","itemID","folderID","removeFromFolder","then","removeItemOnFolderEditor","separator1Element","separator2Element","updateFolderEditorField","content","updateFolder","closeFolderEditor","thisItemElement","_initializeFolderEditorField","getFolder","listFolderContent","_x","initializeFolderEditorField","closePreviousPage","openPreviousPage","updateFolderContentIndex","previousSibling","previousElementSibling","parentNode","insertBefore","nextSibling","nextElementSibling","openFolderIconSelector"],"ignoreList":[],"sourceRoot":""}