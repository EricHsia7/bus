{"version":3,"file":"6e1354bea00507150b63.js","mappings":"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","sources":["webpack://bus/./src/interface/index.ts","webpack://bus/./src/interface/location/index.ts","webpack://bus/./src/index.ts","webpack://bus/./src/interface/bus/properties.ts","webpack://bus/./src/interface/bus/index.ts"],"sourcesContent":["import { isRunningStandalone } from '../tools/index';\nimport { documentQuerySelector } from '../tools/query-selector';\nimport { closeBus, openBus } from './bus/index';\nimport { closeFolderCreator, openFolderCreator } from './folder-creator/index';\nimport { closeFolderEditor, openFolderEditor } from './folder-editor/index';\nimport { closeFolderManager, openFolderManager } from './folder-manager/index';\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor } from './personal-schedule-editor/index';\nimport { closePersonalScheduleManager, openPersonalScheduleManager } from './personal-schedule-manager/index';\nimport { closeRegisterNotification, openRegisterNotification } from './register-notification/index';\nimport { closeSearch, openSearch } from './search/index';\nimport { closeSettings, openSettings } from './settings/index';\n\nconst SplashScreenElement = documentQuerySelector('.css_splash_screen');\nconst ErrorMessageElement = documentQuerySelector('.css_error_message');\n\nconst splashScreenTimer_minimalTimeOut = 100;\nconst splashScreenTimer_openTime = new Date().getTime();\n\ntype Page = 'Home' | 'FolderCreator' | 'FolderEditor' | 'FolderIconSelector' | 'FolderManager' | 'Location' | 'RouteDetails' | 'Route' | 'SaveToFolder' | 'Search' | 'Settings' | 'SettingsOptions' | 'DataUsage' | 'PersonalScheduleManager' | 'PersonalScheduleCreator' | 'PersonalScheduleEditor' | 'Bus' | 'RegisterNotification' | 'ScheduleNotification' | 'NotificationScheduleManager' | 'QRCode';\n\nlet pageHistory: Array<Page> = ['Home'];\n\nexport function pushPageHistory(page: Page): void {\n  const pageHistoryLength = pageHistory.length;\n  const lastPage = pageHistory[pageHistoryLength - 1];\n  if (lastPage !== page) {\n    pageHistory.push(page);\n  }\n}\n\nexport function revokePageHistory(page: Page): void {\n  if (pageHistory.indexOf(page) > -1) {\n    const pageHistoryLength = pageHistory.length;\n    if (pageHistory[pageHistoryLength - 1] === page) {\n      pageHistory.pop();\n    }\n  }\n}\n\nexport function closePreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        closeFolderCreator();\n        break;\n      case 'FolderEditor':\n        closeFolderEditor();\n        break;\n      case 'FolderIconSelector':\n        break;\n      case 'FolderManager':\n        closeFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        closeSearch();\n        break;\n      case 'Settings':\n        closeSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        closePersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        closePersonalScheduleEditor();\n        break;\n      case 'Bus':\n        closeBus();\n        break;\n      case 'RegisterNotification':\n        closeRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      case 'QRCode':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function openPreviousPage(): void {\n  const pageHistoryLength = pageHistory.length;\n  if (pageHistoryLength > 1) {\n    const previousPage = pageHistory[pageHistoryLength - 2];\n    pageHistory.pop();\n    switch (previousPage) {\n      case 'Home':\n        break;\n      case 'FolderCreator':\n        openFolderCreator();\n        break;\n      case 'FolderEditor':\n        openFolderEditor();\n        break;\n      case 'FolderIconSelector':\n        break;\n      case 'FolderManager':\n        openFolderManager();\n        break;\n      case 'Location':\n        break;\n      case 'Route':\n        break;\n      case 'RouteDetails':\n        break;\n      case 'SaveToFolder':\n        break;\n      case 'Search':\n        openSearch();\n        break;\n      case 'Settings':\n        openSettings();\n        break;\n      case 'SettingsOptions':\n        break;\n      case 'DataUsage':\n        break;\n      case 'PersonalScheduleManager':\n        openPersonalScheduleManager();\n        break;\n      case 'PersonalScheduleCreator':\n        break;\n      case 'PersonalScheduleEditor':\n        openPersonalScheduleEditor();\n        break;\n      case 'Bus':\n        openBus();\n        break;\n      case 'RegisterNotification':\n        openRegisterNotification();\n        break;\n      case 'ScheduleNotification':\n        break;\n      case 'NotificationScheduleManager':\n        break;\n      case 'QRCode':\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport function setSplashScreenIconOffsetY(): void {\n  let offset = 0;\n  if (isRunningStandalone()) {\n    offset = (-1 * (window.outerHeight - window.innerHeight)) / 2;\n  }\n  documentQuerySelector('.css_splash_screen svg.css_splash_screen_icon').style.setProperty('--b-cssvar-splash-screen-icon-offset-y', `${offset}px`);\n}\n\nexport function fadeOutSplashScreen(callback: Function): void {\n  function fadeOut() {\n    SplashScreenElement.classList.add('css_splash_screen_fade_out');\n    SplashScreenElement.addEventListener(\n      'animationend',\n      function () {\n        SplashScreenElement.setAttribute('displayed', 'false');\n        SplashScreenElement.classList.remove('css_splash_screen_fade_out');\n        if (typeof callback === 'function') {\n          callback();\n        }\n      },\n      { once: true }\n    );\n  }\n  const cureentTime = new Date().getTime();\n  if (cureentTime - splashScreenTimer_openTime < splashScreenTimer_minimalTimeOut) {\n    setTimeout(fadeOut, Math.max(1, cureentTime - splashScreenTimer_openTime));\n  } else {\n    fadeOut();\n  }\n}\n\nexport function showErrorMessage(): void {\n  ErrorMessageElement.setAttribute('displayed', 'true');\n}\n\nexport interface GeneratedElement {\n  element: HTMLElement;\n  id: string;\n}\n\nexport type GroupStyles = {\n  [key: string]: {\n    width: number;\n    offset: number;\n  };\n};\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\ntype SizeType = 'window' | 'head' | 'head-one-button' | 'head-two-button' | 'route-details-canvas' | 'route-bus-arrival-time-chart' | 'location-bus-arrival-time-chart';\n\nexport function querySize(type: SizeType): Size {\n  let width: number = 0;\n  let height: number = 0;\n  const windowWidth = window.innerWidth;\n  const windowHeight = window.innerHeight;\n  switch (type) {\n    case 'window':\n      width = windowWidth;\n      height = windowHeight;\n      break;\n    case 'head':\n      width = windowWidth;\n      height = 55;\n      break;\n    case 'head-one-button':\n      width = windowWidth - 55;\n      height = 55;\n      break;\n    case 'head-two-button':\n      width = windowWidth - 55 * 2;\n      height = 55;\n      break;\n    case 'route-details-canvas':\n      width = windowWidth - 10 * 2 - 10 * 2;\n      height = 24 * 60;\n      break;\n    case 'route-bus-arrival-time-chart':\n      width = windowWidth - 45 - 15 - 20;\n      height = 75;\n      break;\n    case 'location-bus-arrival-time-chart':\n      width = windowWidth - 30 - 20;\n      height = 75;\n      break;\n    default:\n      width = 0;\n      height = 0;\n      break;\n  }\n  return {\n    width,\n    height\n  };\n}\n","import { getUpdateRate } from '../../data/analytics/update-rate/index';\nimport { DataReceivingProgressEvent } from '../../data/apis/loader';\nimport { isFolderContentSaved } from '../../data/folder/index';\nimport { IntegratedLocation, IntegratedLocationItem, integrateLocation, LocationGroupProperty } from '../../data/location/index';\nimport { stopHasNotifcationSchedules } from '../../data/notification/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue, SettingSelectOptionRefreshIntervalValue } from '../../data/settings/index';\nimport { getTextWidth } from '../../tools/graphic';\nimport { booleanToString, compareThings, generateIdentifier } from '../../tools/index';\nimport { documentQuerySelector, elementQuerySelector, elementQuerySelectorAll, getElementsBelow } from '../../tools/query-selector';\nimport { indexToDay, timeObjectToString } from '../../tools/time';\nimport { getIconHTML } from '../icons/index';\nimport { closePreviousPage, GeneratedElement, GroupStyles, openPreviousPage, pushPageHistory, querySize } from '../index';\nimport { promptMessage } from '../prompt/index';\nimport { openSaveToFolder } from '../save-to-folder/index';\nimport { openScheduleNotification } from '../schedule-notification/index';\n\nconst LocationField = documentQuerySelector('.css_location_field');\nconst LocationHeadElement = elementQuerySelector(LocationField, '.css_location_head');\nconst LocationNameElement = elementQuerySelector(LocationHeadElement, '.css_location_name');\nconst LocationGroupsElement = elementQuerySelector(LocationField, '.css_location_groups');\nconst LocationGroupTabsElement = elementQuerySelector(LocationHeadElement, '.css_location_group_tabs');\nconst LocationGroupTabsTrayElement = elementQuerySelector(LocationGroupTabsElement, '.css_location_group_tabs_tray');\nconst LocationGroupTabLineTrackElement = elementQuerySelector(LocationHeadElement, '.css_location_group_tab_line_track');\nconst LocationGroupTabLineElement = elementQuerySelector(LocationGroupTabLineTrackElement, '.css_location_group_tab_line');\nconst LocationUpdateTimerElement = elementQuerySelector(LocationHeadElement, '.css_location_update_timer_box .css_location_update_timer');\n\nlet previousIntegration = {} as IntegratedLocation;\nlet previousAnimation: boolean = true;\nlet previousSkeletonScreen: boolean = false;\n\nlet locationSliding_initialIndex: number = 0;\nlet locationSliding_targetIndex: number = 0;\nlet locationSliding_groupQuantity: number = 0;\nlet locationSliding_groupStyles: GroupStyles = {};\nlet locationSliding_fieldWidth: number = 0;\nlet locationSliding_fieldHeight: number = 0;\nlet locationSliding_sliding: boolean = false;\n\nlet locationRefreshTimer_retryInterval: number = 10 * 1000;\nlet locationRefreshTimer_baseInterval: number = 15 * 1000;\nlet locationRefreshTimer_minInterval: number = 5 * 1000;\nlet locationRefreshTimer_dynamicInterval: number = 15 * 1000;\nlet locationRefreshTimer_dynamic: boolean = true;\nlet locationRefreshTimer_lastUpdate: number = 0;\nlet locationRefreshTimer_nextUpdate: number = 0;\nlet locationRefreshTimer_currentRequestID: string = '';\nlet locationRefreshTimer_refreshing: boolean = false;\nlet locationRefreshTimer_streaming: boolean = false;\nlet locationRefreshTimer_streamStarted: boolean = false;\n\nvar currentHashSet_hash: string = '';\n\nvar tabPadding: number = 20;\n\nexport function initializeLocationSliding(): void {\n  LocationGroupsElement.addEventListener(\n    'touchstart',\n    function () {\n      locationSliding_initialIndex = Math.round(LocationGroupsElement.scrollLeft / locationSliding_fieldWidth);\n    },\n    { passive: true }\n  );\n\n  LocationGroupsElement.addEventListener(\n    'scroll',\n    function (event: Event) {\n      locationSliding_sliding = true;\n      const target = event.target as HTMLElement;\n      const currentIndex = target.scrollLeft / locationSliding_fieldWidth;\n      if (currentIndex > locationSliding_initialIndex) {\n        locationSliding_targetIndex = locationSliding_initialIndex + 1;\n      } else {\n        locationSliding_targetIndex = locationSliding_initialIndex - 1;\n      }\n      const initialSize = locationSliding_groupStyles[`g_${locationSliding_initialIndex}`] || { width: 0, offset: 0 };\n      const targetSize = locationSliding_groupStyles[`g_${locationSliding_targetIndex}`] || { width: 0, offset: 0 };\n      const tabWidth = initialSize.width + (targetSize.width - initialSize.width) * Math.abs(currentIndex - locationSliding_initialIndex);\n      const offset = (initialSize.offset + (targetSize.offset - initialSize.offset) * Math.abs(currentIndex - locationSliding_initialIndex)) * -1 + locationSliding_fieldWidth * 0.5 - tabWidth * 0.5;\n      updateLocationCSS(locationSliding_groupQuantity, offset, tabWidth - tabPadding, currentIndex);\n      if (currentIndex === locationSliding_targetIndex) {\n        locationSliding_initialIndex = Math.round(LocationGroupsElement.scrollLeft / locationSliding_fieldWidth);\n        locationSliding_sliding = false;\n      }\n    },\n    { passive: true }\n  );\n}\n\nexport function updateLocationCSS(groupQuantity: number, offset: number, tabLineWidth: number, percentage: number): void {\n  LocationGroupsElement.style.setProperty('--b-cssvar-location-group-quantity', groupQuantity.toString());\n  LocationGroupTabLineElement.style.setProperty('--b-cssvar-location-tab-line-width-scale', tabLineWidth.toString());\n  LocationGroupTabsTrayElement.style.setProperty('--b-cssvar-location-tabs-tray-offset', `${offset.toFixed(5)}px`);\n  LocationGroupTabsTrayElement.style.setProperty('--b-cssvar-location-percentage', percentage.toFixed(5));\n}\n\nfunction animateUpdateTimer(): void {\n  LocationUpdateTimerElement.style.setProperty('--b-cssvar-location-update-timer-interval', `${locationRefreshTimer_dynamicInterval}ms`);\n  LocationUpdateTimerElement.classList.add('css_location_update_timer_slide_rtl');\n}\n\nfunction handleDataReceivingProgressUpdates(event: Event): void {\n  const CustomEvent = event as DataReceivingProgressEvent;\n  if (locationRefreshTimer_refreshing) {\n    const offsetRatio = CustomEvent.detail.progress - 1;\n    LocationUpdateTimerElement.style.setProperty('--b-cssvar-location-update-timer-offset-ratio', offsetRatio.toString());\n  }\n  if (CustomEvent.detail.stage === 'end') {\n    document.removeEventListener(CustomEvent.detail.target, handleDataReceivingProgressUpdates);\n  }\n}\n\nfunction generateElementOfItem(): GeneratedElement {\n  const identifier = generateIdentifier();\n\n  // Main container\n  const itemElement = document.createElement('div');\n  itemElement.classList.add('css_location_group_item');\n  itemElement.id = identifier;\n  itemElement.setAttribute('stretched', 'false');\n  itemElement.setAttribute('stretching', 'false');\n  itemElement.setAttribute('push-direction', '0');\n  itemElement.setAttribute('push-state', '0');\n\n  // Head\n  const headElement = document.createElement('div');\n  headElement.classList.add('css_location_group_item_head');\n\n  // Rank\n  const rankElement = document.createElement('div');\n  rankElement.classList.add('css_location_group_item_rank');\n  const rankNextSlideElement = document.createElement('div');\n  rankNextSlideElement.classList.add('css_location_group_item_rank_next_slide');\n  rankNextSlideElement.setAttribute('code', '-1');\n  rankNextSlideElement.setAttribute('displayed', 'false');\n  const rankCurrentSlideElement = document.createElement('div');\n  rankCurrentSlideElement.classList.add('css_location_group_item_rank_current_slide');\n  rankCurrentSlideElement.setAttribute('code', '-1');\n  rankCurrentSlideElement.setAttribute('displayed', 'true');\n  rankElement.appendChild(rankNextSlideElement);\n  rankElement.appendChild(rankCurrentSlideElement);\n\n  // Route direction\n  const routeDirectionElement = document.createElement('div');\n  routeDirectionElement.classList.add('css_location_group_item_route_direction');\n\n  // Route name\n  const routeNameElement = document.createElement('div');\n  routeNameElement.classList.add('css_location_group_item_route_name');\n\n  // Capsule\n  const capsuleElement = document.createElement('div');\n  capsuleElement.classList.add('css_location_group_item_capsule');\n\n  // Status\n  const statusElement = document.createElement('div');\n  statusElement.classList.add('css_location_group_item_status');\n  const nextSlideElement = document.createElement('div');\n  nextSlideElement.classList.add('css_next_slide');\n  nextSlideElement.setAttribute('code', '0');\n  nextSlideElement.setAttribute('displayed', 'false');\n  const currentSlideElement = document.createElement('div');\n  currentSlideElement.classList.add('css_current_slide');\n  currentSlideElement.setAttribute('code', '0');\n  currentSlideElement.setAttribute('displayed', 'true');\n  statusElement.appendChild(nextSlideElement);\n  statusElement.appendChild(currentSlideElement);\n\n  // Stretch button\n  const stretchElement = document.createElement('div');\n  stretchElement.classList.add('css_location_group_item_stretch');\n  stretchElement.innerHTML = getIconHTML('keyboard_arrow_down');\n  stretchElement.onclick = () => {\n    stretchLocationItem(identifier);\n  };\n\n  // Capsule separator\n  const capsuleSeparatorElement = document.createElement('div');\n  capsuleSeparatorElement.classList.add('css_location_group_item_capsule_separator');\n\n  // Assemble capsule\n  capsuleElement.appendChild(statusElement);\n  capsuleElement.appendChild(stretchElement);\n  capsuleElement.appendChild(capsuleSeparatorElement);\n\n  // Assemble head\n  headElement.appendChild(rankElement);\n  headElement.appendChild(routeDirectionElement);\n  headElement.appendChild(routeNameElement);\n  headElement.appendChild(capsuleElement);\n\n  // Body\n  const bodyElement = document.createElement('div');\n  bodyElement.classList.add('css_location_group_item_body');\n  bodyElement.setAttribute('displayed', 'false');\n\n  // Buttons\n  const buttonsElement = document.createElement('div');\n  buttonsElement.classList.add('css_location_group_item_buttons');\n\n  // Tab: 公車\n  const busTabButtonElement = document.createElement('div');\n  busTabButtonElement.classList.add('css_location_group_item_button');\n  busTabButtonElement.setAttribute('highlighted', 'true');\n  busTabButtonElement.setAttribute('type', 'tab');\n  busTabButtonElement.setAttribute('code', '0');\n  const busTabIconElement = document.createElement('div');\n  busTabIconElement.classList.add('css_location_group_item_button_icon');\n  busTabIconElement.innerHTML = getIconHTML('directions_bus');\n  busTabButtonElement.appendChild(busTabIconElement);\n  busTabButtonElement.appendChild(document.createTextNode('公車'));\n  busTabButtonElement.onclick = () => {\n    switchLocationBodyTab(identifier, 0);\n  };\n\n  // Tab: 抵達時間\n  const arrivalTabButtonElement = document.createElement('div');\n  arrivalTabButtonElement.classList.add('css_location_group_item_button');\n  arrivalTabButtonElement.setAttribute('highlighted', 'false');\n  arrivalTabButtonElement.setAttribute('type', 'tab');\n  arrivalTabButtonElement.setAttribute('code', '1');\n  const arrivalTabIconElement = document.createElement('div');\n  arrivalTabIconElement.classList.add('css_location_group_item_button_icon');\n  arrivalTabIconElement.innerHTML = getIconHTML('departure_board');\n  arrivalTabButtonElement.appendChild(arrivalTabIconElement);\n  arrivalTabButtonElement.appendChild(document.createTextNode('抵達時間'));\n  arrivalTabButtonElement.onclick = () => {\n    switchLocationBodyTab(identifier, 1);\n  };\n\n  // Button: 儲存\n  const saveButtonElement = document.createElement('div');\n  saveButtonElement.classList.add('css_location_group_item_button');\n  saveButtonElement.setAttribute('highlighted', 'false');\n  saveButtonElement.setAttribute('type', 'save-to-folder');\n  const saveButtonIconElement = document.createElement('div');\n  saveButtonIconElement.classList.add('css_location_group_item_button_icon');\n  saveButtonIconElement.innerHTML = getIconHTML('folder');\n  saveButtonElement.appendChild(saveButtonIconElement);\n  saveButtonElement.appendChild(document.createTextNode('儲存'));\n  saveButtonElement.onclick = () => {\n    openSaveToFolder('stop-on-location', [identifier, null, null]);\n  };\n\n  // Button: 到站通知\n  const notifyButtonElement = document.createElement('div');\n  notifyButtonElement.classList.add('css_location_group_item_button');\n  notifyButtonElement.setAttribute('highlighted', 'false');\n  notifyButtonElement.setAttribute('type', 'schedule-notification');\n  notifyButtonElement.setAttribute('enabled', 'true');\n  const notifyButtonIconElement = document.createElement('div');\n  notifyButtonIconElement.classList.add('css_location_group_item_button_icon');\n  notifyButtonIconElement.innerHTML = getIconHTML('notifications');\n  notifyButtonElement.appendChild(notifyButtonIconElement);\n  notifyButtonElement.appendChild(document.createTextNode('到站通知'));\n  notifyButtonElement.onclick = () => {\n    openScheduleNotification('stop-on-location', [identifier, null, null, null]);\n  };\n\n  // Assemble buttons\n  buttonsElement.appendChild(busTabButtonElement);\n  buttonsElement.appendChild(arrivalTabButtonElement);\n  buttonsElement.appendChild(saveButtonElement);\n  buttonsElement.appendChild(notifyButtonElement);\n\n  // Buses\n  const busesElement = document.createElement('div');\n  busesElement.classList.add('css_location_group_item_buses');\n  busesElement.setAttribute('displayed', 'true');\n\n  // Bus arrival times\n  const busArrivalTimesElement = document.createElement('div');\n  busArrivalTimesElement.classList.add('css_location_group_item_bus_arrival_times');\n  busArrivalTimesElement.setAttribute('displayed', 'false');\n\n  // Assemble body\n  bodyElement.appendChild(buttonsElement);\n  bodyElement.appendChild(busesElement);\n  bodyElement.appendChild(busArrivalTimesElement);\n\n  // Assemble item\n  itemElement.appendChild(headElement);\n  itemElement.appendChild(bodyElement);\n\n  return {\n    element: itemElement,\n    id: identifier\n  };\n}\n\nfunction generateElementOfGroup(): GeneratedElement {\n  // Main container\n  const groupElement = document.createElement('div');\n  groupElement.classList.add('css_location_group');\n\n  // Details\n  const detailsElement = document.createElement('div');\n  detailsElement.classList.add('css_location_group_details');\n\n  // Details body\n  const detailsBodyElement = document.createElement('div');\n  detailsBodyElement.classList.add('css_location_group_details_body');\n  detailsElement.appendChild(detailsBodyElement);\n\n  // Items\n  const itemsElement = document.createElement('div');\n  itemsElement.classList.add('css_location_group_items');\n\n  // Assemble group\n  groupElement.appendChild(detailsElement);\n  groupElement.appendChild(itemsElement);\n\n  return {\n    element: groupElement,\n    id: ''\n  };\n}\n\nfunction generateElementOfTab(): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_location_group_tab');\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nfunction generateElementOfGroupDetailsProperty(): GeneratedElement {\n  // Main container\n  const propertyElement = document.createElement('div');\n  propertyElement.classList.add('css_location_group_details_property');\n\n  // Icon\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_location_details_property_icon');\n\n  // Value\n  const valueElement = document.createElement('div');\n  valueElement.classList.add('css_location_details_property_value');\n\n  // Assemble\n  propertyElement.appendChild(iconElement);\n  propertyElement.appendChild(valueElement);\n\n  return {\n    element: propertyElement,\n    id: ''\n  };\n}\n\nfunction setUpLocationFieldSkeletonScreen(): void {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n  const defaultItemQuantity: IntegratedLocation['itemQuantity'] = { g_0: Math.floor(FieldHeight / 50) + 5, g_1: Math.floor(FieldHeight / 50) + 5 };\n  const defaultGroupQuantity = 2;\n  let groupedItems: IntegratedLocation['groupedItems'] = {};\n  for (let i = 0; i < defaultGroupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    groupedItems[groupKey] = [];\n    for (let j = 0; j < defaultItemQuantity[groupKey]; j++) {\n      groupedItems[groupKey].push({\n        route_name: '',\n        route_direction: '',\n        routeId: 0,\n        stopId: 0,\n        status: {\n          code: 8,\n          text: '',\n          time: -6\n        },\n        ranking: {\n          number: 0,\n          text: '--',\n          code: -1\n        },\n        buses: [],\n        busArrivalTimes: []\n      });\n    }\n  }\n  updateLocationField(\n    {\n      groupedItems: groupedItems,\n      groupQuantity: defaultGroupQuantity,\n      groups: {\n        g_0: {\n          name: '載入中',\n          properties: [\n            {\n              key: '0',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '1',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '2',\n              icon: '',\n              value: ''\n            }\n          ]\n        },\n        g_1: {\n          name: '載入中',\n          properties: [\n            {\n              key: '0',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '1',\n              icon: '',\n              value: ''\n            },\n            {\n              key: '2',\n              icon: '',\n              value: ''\n            }\n          ]\n        }\n      },\n      itemQuantity: defaultItemQuantity,\n      LocationName: '載入中',\n      dataUpdateTime: 0\n    },\n    true,\n    playing_animation\n  );\n}\n\nfunction updateLocationField(integration: IntegratedLocation, skeletonScreen: boolean, animation: boolean): void {\n  function updateItem(thisElement: HTMLElement, thisItem: IntegratedLocationItem, previousItem: IntegratedLocationItem | null): void {\n    function updateStatus(thisElement: HTMLElement, thisItem: IntegratedLocationItem, animation: boolean): void {\n      const thisElementRect = thisElement.getBoundingClientRect();\n      const top = thisElementRect.top;\n      const left = thisElementRect.left;\n      const bottom = thisElementRect.bottom;\n      const right = thisElementRect.right;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n\n      const thisItemStatusElement = elementQuerySelector(thisElement, '.css_location_group_item_status');\n      const nextSlideElement = elementQuerySelector(thisItemStatusElement, '.css_next_slide');\n      const currentSlideElement = elementQuerySelector(thisItemStatusElement, '.css_current_slide');\n\n      nextSlideElement.setAttribute('code', thisItem.status.code.toString());\n      nextSlideElement.innerText = thisItem.status.text;\n\n      if (animation && bottom > 0 && top < windowHeight && right > 0 && left < windowWidth) {\n        currentSlideElement.addEventListener(\n          'animationend',\n          function () {\n            currentSlideElement.setAttribute('code', thisItem.status.code.toString());\n            currentSlideElement.innerText = thisItem.status.text;\n            currentSlideElement.classList.remove('css_slide_fade_out');\n            nextSlideElement.setAttribute('displayed', 'false');\n          },\n          { once: true }\n        );\n        nextSlideElement.setAttribute('displayed', 'true');\n        currentSlideElement.classList.add('css_slide_fade_out');\n      } else {\n        currentSlideElement.setAttribute('code', thisItem.status.code.toString());\n        currentSlideElement.innerText = thisItem.status.text;\n      }\n    }\n\n    function updateRank(thisElement: HTMLElement, thisItem: IntegratedLocationItem, animation: boolean): void {\n      const thisElementRect = thisElement.getBoundingClientRect();\n      const top = thisElementRect.top;\n      const left = thisElementRect.left;\n      const bottom = thisElementRect.bottom;\n      const right = thisElementRect.right;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n\n      const thisRankElement = elementQuerySelector(thisElement, '.css_location_group_item_rank');\n      const nextSlideElement = elementQuerySelector(thisRankElement, '.css_location_group_item_rank_next_slide');\n      const currentSlideElement = elementQuerySelector(thisRankElement, '.css_location_group_item_rank_current_slide');\n\n      nextSlideElement.setAttribute('code', thisItem.ranking.code.toString());\n      nextSlideElement.innerText = thisItem.ranking.text;\n\n      if (animation && bottom > 0 && top < windowHeight && right > 0 && left < windowWidth) {\n        currentSlideElement.addEventListener(\n          'animationend',\n          function () {\n            currentSlideElement.setAttribute('code', thisItem.ranking.code.toString());\n            currentSlideElement.innerText = thisItem.ranking.text;\n            currentSlideElement.classList.remove('css_location_group_item_rank_current_slide_fade_out');\n            nextSlideElement.setAttribute('displayed', 'false');\n          },\n          { once: true }\n        );\n        nextSlideElement.setAttribute('displayed', 'true');\n        currentSlideElement.classList.add('css_location_group_item_rank_current_slide_fade_out');\n      } else {\n        currentSlideElement.setAttribute('code', thisItem.ranking.code.toString());\n        currentSlideElement.innerText = thisItem.ranking.text;\n      }\n    }\n\n    function updateRouteDirection(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisRouteDirectionElement = elementQuerySelector(thisElement, '.css_location_group_item_route_direction');\n      thisRouteDirectionElement.innerText = thisItem.route_direction;\n    }\n\n    function updateRouteName(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisRouteNameElement = elementQuerySelector(thisElement, '.css_location_group_item_route_name');\n      thisRouteNameElement.innerText = thisItem.route_name;\n      // TODO: selector\n    }\n\n    function updateBuses(thisElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisBusesElement = elementQuerySelector(thisElement, '.css_location_group_item_buses');\n      thisBusesElement.innerHTML = thisItem.buses.length === 0 ? '<div class=\"css_location_group_item_buses_message\">目前沒有公車可顯示</div>' : thisItem.buses.map((bus) => `<div class=\"css_location_group_item_bus\" on-this-route=\"${bus.onThisRoute}\"><div class=\"css_location_group_item_bus_title\"><div class=\"css_location_group_item_bus_icon\">${getIconHTML('directions_bus')}</div><div class=\"css_location_group_item_bus_car_number\">${bus.carNumber}</div></div><div class=\"css_location_group_item_bus_attributes\"><div class=\"css_location_group_item_bus_route\">路線：${bus.RouteName}</div><div class=\"css_location_group_item_bus_car_status\">狀態：${bus.status.text}</div><div class=\"css_location_group_item_bus_car_type\">類型：${bus.type}</div></div></div>`).join('');\n    }\n\n    function updateBusArrivalTimes(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisBusArrivalTimesElement = elementQuerySelector(thisItemElement, '.css_location_group_item_bus_arrival_times');\n      thisBusArrivalTimesElement.innerHTML = thisItem.busArrivalTimes.length === 0 ? '<div class=\"css_location_group_item_bus_arrival_message\">目前沒有抵達時間可顯示</div>' : thisItem.busArrivalTimes.map((busArrivalTime) => `<div class=\"css_location_group_item_bus_arrival_time\"><div class=\"css_location_group_item_bus_arrival_time_title\"><div class=\"css_location_group_item_bus_arrival_time_icon\">${getIconHTML('calendar_view_day')}</div><div class=\"css_location_group_item_bus_arrival_time_personal_schedule_name\">${busArrivalTime.personalSchedule.name}</div><div class=\"css_location_group_item_bus_arrival_time_personal_schedule_time\">週${indexToDay(busArrivalTime.day).name} ${timeObjectToString(busArrivalTime.personalSchedule.period.start)} - ${timeObjectToString(busArrivalTime.personalSchedule.period.end)}</div></div><div class=\"css_location_group_item_bus_arrival_time_chart\">${busArrivalTime.chart}</div></div>`).join('');\n    }\n\n    function updateStretch(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      if (skeletonScreen) {\n        thisElement.setAttribute('stretched', 'false');\n      }\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    function updateSaveToFolderButton(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisItemBodyElement = elementQuerySelector(thisItemElement, '.css_location_group_item_body');\n      const thisItemButtonsElement = elementQuerySelector(thisItemBodyElement, '.css_location_group_item_buttons');\n      const saveToFolderButtonElement = elementQuerySelector(thisItemButtonsElement, '.css_location_group_item_button[type=\"save-to-folder\"]');\n      saveToFolderButtonElement.onclick = function () {\n        openSaveToFolder('stop-on-location', [thisItemElement.id, thisItem.stopId, thisItem.routeId]);\n      };\n      isFolderContentSaved('stop', thisItem.stopId).then((e) => {\n        saveToFolderButtonElement.setAttribute('highlighted', booleanToString(e));\n      });\n    }\n\n    function updateScheduleNotificationButton(thisItemElement: HTMLElement, thisItem: IntegratedLocationItem): void {\n      const thisItemBodyElement = elementQuerySelector(thisItemElement, '.css_location_group_item_body');\n      const thisItemButtonsElement = elementQuerySelector(thisItemBodyElement, '.css_location_group_item_buttons');\n      const scheduleNotificationButtonElement = elementQuerySelector(thisItemButtonsElement, '.css_location_group_item_button[type=\"schedule-notification\"]');\n      scheduleNotificationButtonElement.onclick = function () {\n        openScheduleNotification('stop-on-location', [thisItemElement.id, thisItem.stopId, thisItem.routeId, thisItem.status.time]);\n      };\n      const havingNotifcationSchedules = stopHasNotifcationSchedules(thisItem.stopId);\n      scheduleNotificationButtonElement.setAttribute('highlighted', booleanToString(havingNotifcationSchedules));\n    }\n\n    if (previousItem === null) {\n      updateStatus(thisElement, thisItem, animation);\n      updateRank(thisElement, thisItem, animation);\n      updateRouteDirection(thisElement, thisItem);\n      updateRouteName(thisElement, thisItem);\n      updateBuses(thisElement, thisItem);\n      updateBusArrivalTimes(thisElement, thisItem);\n      updateStretch(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateSaveToFolderButton(thisElement, thisItem);\n      updateScheduleNotificationButton(thisElement, thisItem);\n    } else {\n      if (thisItem.status.time !== previousItem.status.time) {\n        updateStatus(thisElement, thisItem, animation);\n        updateScheduleNotificationButton(thisElement, thisItem);\n      }\n      if (previousItem.ranking.number !== thisItem.ranking.number || previousItem.ranking.code !== thisItem.ranking.code) {\n        updateRank(thisElement, thisItem, animation);\n      }\n      if (previousItem.stopId !== thisItem.stopId) {\n        updateRouteDirection(thisElement, thisItem);\n        updateRouteName(thisElement, thisItem);\n        updateSaveToFolderButton(thisElement, thisItem);\n      }\n      if (!compareThings(previousItem.buses, thisItem.buses)) {\n        updateBuses(thisElement, thisItem);\n      }\n      if (!compareThings(previousItem.busArrivalTimes, thisItem.busArrivalTimes)) {\n        updateBusArrivalTimes(thisElement, thisItem);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateStretch(thisElement, skeletonScreen);\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  function updateProperty(thisElement: HTMLElement, thisProperty: LocationGroupProperty, previousProperty: LocationGroupProperty | null): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: LocationGroupProperty): void {\n      elementQuerySelector(thisElement, '.css_location_details_property_icon').innerHTML = getIconHTML(thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: LocationGroupProperty): void {\n      elementQuerySelector(thisElement, '.css_location_details_property_value').innerHTML = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', booleanToString(animation));\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n    }\n\n    if (previousProperty === null) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateAnimation(thisElement, animation);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n    } else {\n      if (!compareThings(previousProperty.icon, thisProperty.icon)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty.value, thisProperty.value)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n    }\n  }\n\n  const WindowSize = querySize('window');\n  const FieldWidth = WindowSize.width;\n  const FieldHeight = WindowSize.height;\n\n  const groupQuantity = integration.groupQuantity;\n  const itemQuantity = integration.itemQuantity;\n  const groupedItems = integration.groupedItems;\n  const groups = integration.groups;\n\n  locationSliding_groupQuantity = groupQuantity;\n  locationSliding_fieldWidth = FieldWidth;\n  locationSliding_fieldHeight = FieldHeight;\n\n  let cumulativeOffset = 0;\n  for (let i = 0; i < groupQuantity; i++) {\n    const width = getTextWidth(groups[`g_${i}`].name, 500, '17px', `\"Noto Sans TC\", sans-serif`) + tabPadding;\n    locationSliding_groupStyles[`g_${i}`] = {\n      width: width,\n      offset: cumulativeOffset\n    };\n    cumulativeOffset += width;\n  }\n  var offset = locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].offset * -1 + locationSliding_fieldWidth * 0.5 - locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].width * 0.5;\n  if (!locationSliding_sliding) {\n    updateLocationCSS(locationSliding_groupQuantity, offset, locationSliding_groupStyles[`g_${locationSliding_initialIndex}`].width - tabPadding, locationSliding_initialIndex);\n  }\n\n  LocationNameElement.innerHTML = /*html*/ `<span>${integration.LocationName}</span>`;\n  LocationNameElement.setAttribute('animation', booleanToString(animation));\n  LocationNameElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  LocationGroupTabsElement.setAttribute('animation', booleanToString(animation));\n  LocationGroupTabsElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  LocationGroupTabLineTrackElement.setAttribute('skeleton-screen', booleanToString(skeletonScreen));\n  // TODO: updateTab\n\n  const currentGroupSeatQuantity = elementQuerySelectorAll(LocationGroupsElement, '.css_location_group').length;\n  if (groupQuantity !== currentGroupSeatQuantity) {\n    const capacity = currentGroupSeatQuantity - groupQuantity;\n    if (capacity < 0) {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const newGroupElement = generateElementOfGroup();\n        LocationGroupsElement.appendChild(newGroupElement.element);\n        const newTabElement = generateElementOfTab();\n        LocationGroupTabsTrayElement.appendChild(newTabElement.element);\n      }\n    } else {\n      const LocationGroupElements = elementQuerySelectorAll(LocationGroupsElement, `.css_location_group`);\n      const LocationGroupTabElements = elementQuerySelectorAll(LocationGroupTabsTrayElement, '.css_location_group_tab');\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const groupIndex = currentGroupSeatQuantity - 1 - o;\n        LocationGroupElements[groupIndex].remove();\n        LocationGroupTabElements[groupIndex].remove();\n      }\n    }\n  }\n\n  const LocationGroupElements = elementQuerySelectorAll(LocationGroupsElement, `.css_location_group`);\n  for (let i = 0; i < groupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    const thisLocationGroupElement = LocationGroupElements[i];\n    const currentItemSeatQuantity = elementQuerySelectorAll(thisLocationGroupElement, `.css_location_group_items .css_location_group_item`).length;\n    if (itemQuantity[groupKey] !== currentItemSeatQuantity) {\n      const capacity = currentItemSeatQuantity - itemQuantity[groupKey];\n      if (capacity < 0) {\n        const LocationGroupItemsElement = elementQuerySelector(thisLocationGroupElement, `.css_location_group_items`);\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const newItemElement = generateElementOfItem();\n          LocationGroupItemsElement.appendChild(newItemElement.element);\n        }\n      } else {\n        const LocationGroupItemElements = elementQuerySelectorAll(thisLocationGroupElement, `.css_location_group_items .css_location_group_item`);\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const itemIndex = currentItemSeatQuantity - 1 - o;\n          LocationGroupItemElements[itemIndex].remove();\n        }\n      }\n    }\n\n    const currentGroupPropertySeatQuantity = elementQuerySelectorAll(elementQuerySelectorAll(LocationGroupsElement, '.css_location_group')[i], `.css_location_group_details .css_location_group_details_body .css_location_group_details_property`).length;\n    const groupPropertyQuantity = groups[groupKey].properties.length;\n    if (groupPropertyQuantity !== currentGroupPropertySeatQuantity) {\n      const capacity = currentGroupPropertySeatQuantity - groupPropertyQuantity;\n      if (capacity < 0) {\n        const thisLocationGroupDetailsElement = elementQuerySelector(thisLocationGroupElement, '.css_location_group_details');\n        const thisLocationGroupDetailsBodyElement = elementQuerySelector(thisLocationGroupDetailsElement, '.css_location_group_details_body');\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          // var propertyIndex = currentGroupPropertySeatQuantity + o;\n          const newPropertyElement = generateElementOfGroupDetailsProperty();\n          thisLocationGroupDetailsBodyElement.appendChild(newPropertyElement.element);\n        }\n      } else {\n        const thisLocationGroupDetailsElement = elementQuerySelector(thisLocationGroupElement, '.css_location_group_details');\n        const thisLocationGroupDetailsBodyElement = elementQuerySelector(thisLocationGroupDetailsElement, '.css_location_group_details_body');\n        const propertyElements = elementQuerySelectorAll(thisLocationGroupDetailsBodyElement, '.css_location_group_details_property');\n        for (let o = 0; o < Math.abs(capacity); o++) {\n          const propertyIndex = currentGroupPropertySeatQuantity - 1 - o;\n          propertyElements[propertyIndex].remove();\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < groupQuantity; i++) {\n    const groupKey = `g_${i}`;\n    const thisTabElement = elementQuerySelectorAll(LocationGroupTabsTrayElement, '.css_location_group_tab')[i];\n    thisTabElement.innerHTML = /*html*/ `<span>${groups[groupKey].name}</span>`;\n    thisTabElement.style.setProperty('--b-cssvar-location-tab-width', `${locationSliding_groupStyles[groupKey].width}px`);\n    thisTabElement.style.setProperty('--b-cssvar-location-tab-index', i.toString());\n    const thisGroupElement = elementQuerySelectorAll(LocationGroupsElement, '.css_location_group')[i];\n    const groupPropertyQuantity = groups[groupKey].properties.length;\n\n    for (let k = 0; k < groupPropertyQuantity; k++) {\n      const thisProperty = groups[groupKey].properties[k];\n      const thisElement = elementQuerySelectorAll(thisGroupElement, `.css_location_group_details .css_location_group_details_body .css_location_group_details_property`)[k];\n      if (previousIntegration.hasOwnProperty('groups')) {\n        if (previousIntegration.groups.hasOwnProperty(groupKey)) {\n          if (previousIntegration.groups[groupKey].properties[k]) {\n            const previousProperty = previousIntegration.groups[groupKey].properties[k];\n            updateProperty(thisElement, thisProperty, previousProperty);\n          } else {\n            updateProperty(thisElement, thisProperty, null);\n          }\n        } else {\n          updateProperty(thisElement, thisProperty, null);\n        }\n      } else {\n        updateProperty(thisElement, thisProperty, null);\n      }\n    }\n\n    for (let j = 0; j < itemQuantity[groupKey]; j++) {\n      const thisElement = elementQuerySelectorAll(thisGroupElement, `.css_location_group_items .css_location_group_item`)[j];\n      const thisItem = groupedItems[groupKey][j];\n      if (previousIntegration.hasOwnProperty('groupedItems')) {\n        if (previousIntegration.groupedItems.hasOwnProperty(groupKey)) {\n          if (previousIntegration.groupedItems[groupKey][j]) {\n            const previousItem = previousIntegration.groupedItems[groupKey][j];\n            updateItem(thisElement, thisItem, previousItem);\n          } else {\n            updateItem(thisElement, thisItem, null);\n          }\n        } else {\n          updateItem(thisElement, thisItem, null);\n        }\n      } else {\n        updateItem(thisElement, thisItem, null);\n      }\n    }\n  }\n\n  previousIntegration = integration;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n\nasync function refreshLocation() {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const refresh_interval_setting = getSettingOptionValue('refresh_interval') as SettingSelectOptionRefreshIntervalValue;\n  const busArrivalTimeChartSize = querySize('location-bus-arrival-time-chart');\n  locationRefreshTimer_dynamic = refresh_interval_setting.dynamic;\n  locationRefreshTimer_baseInterval = refresh_interval_setting.baseInterval;\n  locationRefreshTimer_refreshing = true;\n  locationRefreshTimer_currentRequestID = generateIdentifier();\n  LocationUpdateTimerElement.setAttribute('refreshing', 'true');\n  LocationUpdateTimerElement.classList.remove('css_location_update_timer_slide_rtl');\n  document.addEventListener(locationRefreshTimer_currentRequestID, handleDataReceivingProgressUpdates);\n  const integration = await integrateLocation(currentHashSet_hash, busArrivalTimeChartSize.width, busArrivalTimeChartSize.height, locationRefreshTimer_currentRequestID);\n  updateLocationField(integration, false, playing_animation);\n  let updateRate = 0;\n  if (locationRefreshTimer_dynamic) {\n    updateRate = await getUpdateRate();\n  }\n  locationRefreshTimer_lastUpdate = new Date().getTime();\n  if (locationRefreshTimer_dynamic) {\n    locationRefreshTimer_nextUpdate = Math.max(locationRefreshTimer_lastUpdate + locationRefreshTimer_minInterval, integration.dataUpdateTime + locationRefreshTimer_baseInterval / updateRate);\n  } else {\n    locationRefreshTimer_nextUpdate = locationRefreshTimer_lastUpdate + locationRefreshTimer_baseInterval;\n  }\n  locationRefreshTimer_dynamicInterval = Math.max(locationRefreshTimer_minInterval, locationRefreshTimer_nextUpdate - locationRefreshTimer_lastUpdate);\n  locationRefreshTimer_refreshing = false;\n  LocationUpdateTimerElement.setAttribute('refreshing', 'false');\n  animateUpdateTimer();\n}\n\nexport function streamLocation(): void {\n  refreshLocation()\n    .then(function () {\n      if (locationRefreshTimer_streaming) {\n        setTimeout(function () {\n          streamLocation();\n        }, Math.max(locationRefreshTimer_minInterval, locationRefreshTimer_nextUpdate - new Date().getTime()));\n      } else {\n        locationRefreshTimer_streamStarted = false;\n      }\n    })\n    .catch((err) => {\n      console.error(err);\n      if (locationRefreshTimer_streaming) {\n        promptMessage(`地點網路連線中斷，將在${locationRefreshTimer_retryInterval / 1000}秒後重試。`, 'error');\n        setTimeout(function () {\n          streamLocation();\n        }, locationRefreshTimer_retryInterval);\n      } else {\n        locationRefreshTimer_streamStarted = false;\n      }\n    });\n}\n\nexport function openLocation(hash: string): void {\n  pushPageHistory('Location');\n  logRecentView('location', hash);\n  currentHashSet_hash = hash;\n  locationSliding_initialIndex = 0;\n  LocationField.setAttribute('displayed', 'true');\n  LocationGroupsElement.scrollLeft = 0;\n  setUpLocationFieldSkeletonScreen();\n  if (!locationRefreshTimer_streaming) {\n    locationRefreshTimer_streaming = true;\n    if (!locationRefreshTimer_streamStarted) {\n      locationRefreshTimer_streamStarted = true;\n      streamLocation();\n    } else {\n      refreshLocation();\n    }\n  }\n  closePreviousPage();\n}\n\nexport function closeLocation(): void {\n  // revokePageHistory('Location');\n  LocationField.setAttribute('displayed', 'false');\n  locationRefreshTimer_streaming = false;\n  openPreviousPage();\n}\n\nexport function stretchLocationItem(itemElementID: string): void {\n  const itemElement = elementQuerySelector(LocationGroupsElement, `.css_location_group .css_location_group_items .css_location_group_item#${itemElementID}`);\n  const itemBodyElement = elementQuerySelector(itemElement, '.css_location_group_item_body');\n\n  const itemsElement = itemElement.parentElement as HTMLElement;\n\n  const elementsBelowItemElement = getElementsBelow(itemElement, 'css_location_group_item');\n  const elementsBelowLength = elementsBelowItemElement.length;\n\n  const itemsElementRect = itemsElement.getBoundingClientRect();\n  const itemElementRect = itemElement.getBoundingClientRect();\n\n  // const itemElementX = itemElementRect.left - itemsElementRect.left;\n  const itemElementY = itemElementRect.top - itemsElementRect.top;\n\n  const stretched = itemElement.getAttribute('stretched') === 'true' ? true : false;\n  const animation = itemElement.getAttribute('animation') === 'true' ? true : false;\n\n  if (animation) {\n    const pushDirection = stretched ? '2' : '1';\n\n    // Separate the elements from the document flow while keeping its position\n    itemElement.setAttribute('stretching', 'true');\n    // itemElement.style.setProperty('--b-cssvar-css-location-group-item-x', `${itemElementX}px`);\n    itemElement.style.setProperty('--b-cssvar-css-location-group-item-y', `${itemElementY}px`);\n\n    // Set push direction and push state\n    for (let i = 0; i < elementsBelowLength; i++) {\n      const thisItemElement = elementsBelowItemElement[i];\n      thisItemElement.setAttribute('push-direction', pushDirection);\n      thisItemElement.setAttribute('push-state', '1');\n    }\n\n    itemElement.addEventListener(\n      'transitionend',\n      function () {\n        // Reset the push direction and push state\n        for (let i = 0; i < elementsBelowLength; i++) {\n          const thisItemElement = elementsBelowItemElement[i];\n          thisItemElement.setAttribute('push-direction', '0');\n          thisItemElement.setAttribute('push-state', '0');\n        }\n        // Deposit the element\n        itemElement.setAttribute('stretching', 'false');\n      },\n      { once: true }\n    );\n\n    itemElement.addEventListener(\n      'transitionstart',\n      function () {\n        // Transition the elements below\n        for (let i = 0; i < elementsBelowLength; i++) {\n          const thisItemElement = elementsBelowItemElement[i];\n          thisItemElement.setAttribute('push-state', '2');\n        }\n      },\n      { once: true }\n    );\n  }\n\n  if (stretched) {\n    if (animation) {\n      itemBodyElement.addEventListener(\n        'transitionend',\n        function () {\n          itemBodyElement.setAttribute('displayed', 'false');\n        },\n        { once: true }\n      );\n    } else {\n      itemBodyElement.setAttribute('displayed', 'false');\n    }\n    itemElement.setAttribute('stretched', 'false');\n  } else {\n    itemBodyElement.setAttribute('displayed', 'true');\n    itemElement.setAttribute('stretched', 'true');\n  }\n}\n\nexport function switchLocationBodyTab(itemID: string, tabCode: number): void {\n  const itemElement = elementQuerySelector(LocationGroupsElement, `.css_location_group .css_location_group_items .css_location_group_item#${itemID}`);\n  const itemBodyElement = elementQuerySelector(itemElement, '.css_location_group_item_body');\n  const buttonsElement = elementQuerySelector(itemBodyElement, '.css_location_group_item_buttons');\n  const buttonElements = elementQuerySelectorAll(buttonsElement, '.css_location_group_item_button[highlighted=\"true\"][type=\"tab\"]');\n  for (const t of buttonElements) {\n    t.setAttribute('highlighted', 'false');\n  }\n  elementQuerySelector(buttonsElement, `.css_location_group_item_button[code=\"${tabCode}\"]`).setAttribute('highlighted', 'true');\n  switch (tabCode) {\n    case 0:\n      elementQuerySelector(itemElement, '.css_location_group_item_buses').setAttribute('displayed', 'true');\n      elementQuerySelector(itemElement, '.css_location_group_item_bus_arrival_times').setAttribute('displayed', 'false');\n      break;\n    case 1:\n      elementQuerySelector(itemElement, '.css_location_group_item_buses').setAttribute('displayed', 'false');\n      elementQuerySelector(itemElement, '.css_location_group_item_bus_arrival_times').setAttribute('displayed', 'true');\n      break;\n    default:\n      break;\n  }\n}\n","import { recoverBusArrivalTimeDataFromWriteAheadLog } from './data/analytics/bus-arrival-time/index';\r\nimport { discardExpiredDataUsageStats } from './data/analytics/data-usage/index';\r\nimport { discardExpiredUpdateRateDataGroups, initializeUpdateRateDataGroups, recoverUpdateRateDataFromWriteAheadLog } from './data/analytics/update-rate/index';\r\nimport { initializeFolderList } from './data/folder/index';\r\nimport { discardExpiredNotificationSchedules, initializeNotificationSchedules, loadNotificationClient } from './data/notification/index';\r\nimport { discardExpiredRecentViews } from './data/recent-views/index';\r\nimport { initializeSettings } from './data/settings/index';\r\nimport { checkAppVersion } from './data/settings/version';\r\nimport { askForCalibratingPermission } from './data/user-orientation/index';\r\nimport { askForPositioningPermission } from './data/user-position/index';\r\nimport { closeBus, openBus } from './interface/bus/index';\r\nimport { closeDataUsage, openDataUsage } from './interface/data-usage/index';\r\nimport { closeFolderCreator, createFormulatedFolder, openFolderCreator } from './interface/folder-creator/index';\r\nimport { closeFolderEditor, moveItemOnFolderEditor, openFolderEditor, removeItemOnFolderEditor, saveEditedFolder } from './interface/folder-editor/index';\r\nimport { closeFolderIconSelector, openFolderIconSelector, selectFolderIcon, updateMaterialSymbolsSearchResult } from './interface/folder-icon-selector/index';\r\nimport { closeFolderManager, openFolderManager } from './interface/folder-manager/index';\r\nimport { initializeFolders, setUpFolderFieldSkeletonScreen } from './interface/home/folders/index';\r\nimport { downloadData } from './interface/home/index';\r\nimport { initializeRecentViews, setUpRecentViewsFieldSkeletonScreen } from './interface/home/recent-views/index';\r\nimport { fadeOutSplashScreen, setSplashScreenIconOffsetY, showErrorMessage } from './interface/index';\r\nimport { closeLocation, initializeLocationSliding, openLocation, stretchLocationItem, switchLocationBodyTab } from './interface/location/index';\r\nimport { cancelNotificationOnNotificationScheduleManager, closeNotificationScheduleManager, openNotificationScheduleManager } from './interface/notification-schedule-manager/index';\r\nimport { closePersonalScheduleCreator, createFormulatedPersonalSchedule, openPersonalScheduleCreator, switchPersonalScheduleCreatorDay } from './interface/personal-schedule-creator/index';\r\nimport { closePersonalScheduleEditor, openPersonalScheduleEditor, saveEditedPersonalSchedule, switchPersonalScheduleEditorDay } from './interface/personal-schedule-editor/index';\r\nimport { closePersonalScheduleManager, openPersonalScheduleManager } from './interface/personal-schedule-manager/index';\r\nimport { closeQRCode, openQRCode } from './interface/qrcode/index';\r\nimport { closeRegisterNotification, openRegisterNotification, saveFormulatedRegisterNotification } from './interface/register-notification/index';\r\nimport { closeRouteDetails } from './interface/route/details/index';\r\nimport { closeRoute, initializeRouteSliding, switchRoute } from './interface/route/index';\r\nimport { closeSaveToFolder, openSaveToFolder, saveRouteOnDetailsPage, saveRouteOnRoute, saveStopItemOnLocation, saveStopItemOnRoute } from './interface/save-to-folder/index';\r\nimport { closeScheduleNotification, openScheduleNotification, scheduleNotificationForStopItemOnLocation, scheduleNotificationForStopItemOnRoute } from './interface/schedule-notification/index';\r\nimport { closeSearch, deleteCharFromInput, emptyInput, openSearch, openSystemKeyboard, resizeSearchInputCanvas, switchSearchTypeFilter, typeTextIntoInput, updateSearchInput, updateSearchResult } from './interface/search/index';\r\nimport { closeSettings, downloadExportFile, openFileToImportData, openSettings, showPromptToAskForPersistentStorage, viewCommitOfCurrentVersion } from './interface/settings/index';\r\nimport { closeSettingsOptions, openSettingsOptions, settingsOptionsHandler } from './interface/settings/options';\r\nimport { closeStorage, openStorage } from './interface/storage/index';\r\nimport { openPermalink } from './tools/permalink';\r\nimport { documentQuerySelector } from './tools/query-selector';\r\n\r\nimport './interface/theme.css';\r\n\r\nimport './interface/index.css';\r\n\r\nimport './interface/icons/index.css';\r\n\r\nimport './interface/animation.css';\r\n\r\nimport './interface/home/field.css';\r\nimport './interface/home/head.css';\r\nimport './interface/home/body.css';\r\n\r\nimport './interface/home/recent-views/recent-views.css';\r\nimport './interface/home/recent-views/item.css';\r\n\r\nimport './interface/home/folders/folders.css';\r\nimport './interface/home/folders/item.css';\r\n\r\nimport './interface/search/field.css';\r\nimport './interface/search/head.css';\r\nimport './interface/search/body.css';\r\nimport './interface/search/keyboard.css';\r\n\r\nimport './interface/route/field.css';\r\nimport './interface/route/head.css';\r\nimport './interface/route/groups.css';\r\nimport './interface/route/item.css';\r\nimport './interface/route/thread.css';\r\nimport './interface/route/index.css';\r\n\r\nimport './interface/route/details/field.css';\r\nimport './interface/route/details/head.css';\r\nimport './interface/route/details/body.css';\r\nimport './interface/route/details/groups.css';\r\nimport './interface/route/details/actions.css';\r\nimport './interface/route/details/properties.css';\r\nimport './interface/route/details/calendar.css';\r\n\r\nimport './interface/location/field.css';\r\nimport './interface/location/head.css';\r\nimport './interface/location/groups.css';\r\nimport './interface/location/group-details.css';\r\nimport './interface/location/group-items.css';\r\nimport './interface/location/index.css';\r\n\r\nimport './interface/bus/field.css';\r\nimport './interface/bus/head.css';\r\nimport './interface/bus/body.css';\r\nimport './interface/bus/groups.css';\r\nimport './interface/bus/properties.css';\r\n\r\nimport './interface/settings/index.css';\r\n\r\nimport './interface/save-to-folder/field.css';\r\nimport './interface/save-to-folder/head.css';\r\nimport './interface/save-to-folder/body.css';\r\nimport './interface/save-to-folder/list.css';\r\nimport './interface/save-to-folder/item.css';\r\n\r\nimport './interface/folder-manager/field.css';\r\nimport './interface/folder-manager/head.css';\r\nimport './interface/folder-manager/body.css';\r\nimport './interface/folder-manager/list.css';\r\nimport './interface/folder-manager/item.css';\r\n\r\nimport './interface/folder-editor/field.css';\r\nimport './interface/folder-editor/head.css';\r\nimport './interface/folder-editor/body.css';\r\nimport './interface/folder-editor/groups.css';\r\nimport './interface/folder-editor/folder-name.css';\r\nimport './interface/folder-editor/folder-icon.css';\r\nimport './interface/folder-editor/folder-content.css';\r\n\r\nimport './interface/folder-creator/field.css';\r\nimport './interface/folder-creator/head.css';\r\nimport './interface/folder-creator/body.css';\r\nimport './interface/folder-creator/groups.css';\r\nimport './interface/folder-creator/folder-name.css';\r\nimport './interface/folder-creator/folder-icon.css';\r\n\r\nimport './interface/folder-icon-selector/field.css';\r\nimport './interface/folder-icon-selector/head.css';\r\nimport './interface/folder-icon-selector/body.css';\r\nimport './interface/folder-icon-selector/symbols.css';\r\n\r\nimport './interface/personal-schedule-manager/field.css';\r\nimport './interface/personal-schedule-manager/head.css';\r\nimport './interface/personal-schedule-manager/body.css';\r\nimport './interface/personal-schedule-manager/list.css';\r\nimport './interface/personal-schedule-manager/item.css';\r\n\r\nimport './interface/personal-schedule-creator/field.css';\r\nimport './interface/personal-schedule-creator/head.css';\r\nimport './interface/personal-schedule-creator/body.css';\r\nimport './interface/personal-schedule-creator/groups.css';\r\nimport './interface/personal-schedule-creator/schedule-name.css';\r\nimport './interface/personal-schedule-creator/schedule-start-time.css';\r\nimport './interface/personal-schedule-creator/schedule-end-time.css';\r\nimport './interface/personal-schedule-creator/schedule-days.css';\r\n\r\nimport './interface/personal-schedule-editor/field.css';\r\nimport './interface/personal-schedule-editor/head.css';\r\nimport './interface/personal-schedule-editor/body.css';\r\nimport './interface/personal-schedule-editor/groups.css';\r\nimport './interface/personal-schedule-editor/schedule-name.css';\r\nimport './interface/personal-schedule-editor/schedule-start-time.css';\r\nimport './interface/personal-schedule-editor/schedule-end-time.css';\r\nimport './interface/personal-schedule-editor/schedule-days.css';\r\n\r\nimport './interface/notification-schedule-manager/field.css';\r\nimport './interface/notification-schedule-manager/head.css';\r\nimport './interface/notification-schedule-manager/body.css';\r\nimport './interface/notification-schedule-manager/list.css';\r\nimport './interface/notification-schedule-manager/item.css';\r\n\r\nimport './interface/register-notification/field.css';\r\nimport './interface/register-notification/head.css';\r\nimport './interface/register-notification/body.css';\r\nimport './interface/register-notification/groups.css';\r\nimport './interface/register-notification/provider.css';\r\nimport './interface/register-notification/registration-key.css';\r\n\r\nimport './interface/schedule-notification/field.css';\r\nimport './interface/schedule-notification/head.css';\r\nimport './interface/schedule-notification/body.css';\r\nimport './interface/schedule-notification/list.css';\r\nimport './interface/schedule-notification/item.css';\r\n\r\nimport './interface/data-usage/field.css';\r\nimport './interface/data-usage/head.css';\r\nimport './interface/data-usage/body.css';\r\nimport './interface/data-usage/chart.css';\r\nimport './interface/data-usage/statistics.css';\r\n\r\nimport './interface/storage/field.css';\r\nimport './interface/storage/head.css';\r\nimport './interface/storage/body.css';\r\nimport './interface/storage/statistics.css';\r\n\r\nimport './interface/qrcode/field.css';\r\nimport './interface/qrcode/head.css';\r\nimport './interface/qrcode/body.css';\r\nimport './interface/qrcode/qrcode.css';\r\n\r\nimport './interface/prompt/index.css';\r\n\r\nlet busInitialized = false;\r\nlet busSecondlyInitialized = false;\r\n\r\nwindow.bus = {\r\n  initialize: function () {\r\n    if (busInitialized === false) {\r\n      busInitialized = true;\r\n      setSplashScreenIconOffsetY();\r\n      initializeSettings().then(function () {\r\n        setUpRecentViewsFieldSkeletonScreen();\r\n        setUpFolderFieldSkeletonScreen();\r\n        checkAppVersion()\r\n          .then((status) => {\r\n            if (status === 'ok') {\r\n              initializeRouteSliding();\r\n              initializeLocationSliding();\r\n              resizeSearchInputCanvas();\r\n              window.addEventListener('resize', () => {\r\n                resizeSearchInputCanvas();\r\n              });\r\n              if (screen) {\r\n                if (screen.orientation) {\r\n                  screen.orientation.addEventListener('change', () => {\r\n                    resizeSearchInputCanvas();\r\n                  });\r\n                }\r\n              }\r\n              initializeRecentViews();\r\n              initializeFolderList().then(() => {\r\n                initializeFolders();\r\n              });\r\n              const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n              const searchInputElement = documentQuerySelector('.css_search_field .css_search_head .css_search_search_input #search_input') as HTMLInputElement;\r\n              mediaQuery.addEventListener('change', function () {\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('paste', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('cut', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('selectionchange', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              document.addEventListener('selectionchange', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n              searchInputElement.addEventListener('keyup', function () {\r\n                updateSearchResult();\r\n                updateSearchInput(searchInputElement.selectionStart, searchInputElement.selectionEnd);\r\n              });\r\n\r\n              const searchMaterialSymbolsInputElement = documentQuerySelector('.css_folder_icon_selector_field .css_folder_icon_selector_head .css_folder_icon_selector_search_input #search_material_symbols_input') as HTMLInputElement;\r\n              searchMaterialSymbolsInputElement.addEventListener('paste', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('cut', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              document.addEventListener('selectionchange', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              searchMaterialSymbolsInputElement.addEventListener('keyup', function () {\r\n                updateMaterialSymbolsSearchResult(searchMaterialSymbolsInputElement.value);\r\n              });\r\n              openPermalink();\r\n              fadeOutSplashScreen(function () {\r\n                loadNotificationClient();\r\n                initializeNotificationSchedules().then(function () {\r\n                  discardExpiredNotificationSchedules();\r\n                });\r\n                document.addEventListener(\r\n                  'click',\r\n                  function () {\r\n                    askForPositioningPermission();\r\n                    askForCalibratingPermission();\r\n                  },\r\n                  { once: true }\r\n                );\r\n              });\r\n            }\r\n            if (status === 'fetchError' || status === 'unknownError') {\r\n              showErrorMessage();\r\n              fadeOutSplashScreen();\r\n              // alert(status);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            showErrorMessage();\r\n            fadeOutSplashScreen();\r\n            // alert(error);\r\n          });\r\n      });\r\n    }\r\n  },\r\n  secondlyInitialize: function () {\r\n    if (!busSecondlyInitialized) {\r\n      busSecondlyInitialized = true;\r\n      downloadData();\r\n      discardExpiredUpdateRateDataGroups();\r\n      discardExpiredDataUsageStats();\r\n      recoverBusArrivalTimeDataFromWriteAheadLog();\r\n      discardExpiredRecentViews();\r\n      discardExpiredUpdateRateDataGroups().then(function () {\r\n        initializeUpdateRateDataGroups().then(function () {\r\n          recoverUpdateRateDataFromWriteAheadLog();\r\n        });\r\n      });\r\n    }\r\n  },\r\n  route: {\r\n    closeRoute,\r\n    switchRoute,\r\n    closeRouteDetails\r\n  },\r\n  location: {\r\n    openLocation,\r\n    closeLocation,\r\n    stretchLocationItem,\r\n    switchLocationBodyTab\r\n  },\r\n  folder: {\r\n    openSaveToFolder,\r\n    closeSaveToFolder,\r\n    openFolderManager,\r\n    closeFolderManager,\r\n    openFolderEditor,\r\n    closeFolderEditor,\r\n    openFolderIconSelector,\r\n    closeFolderIconSelector,\r\n    openFolderCreator,\r\n    closeFolderCreator,\r\n    createFormulatedFolder,\r\n    saveEditedFolder,\r\n    selectFolderIcon,\r\n    saveStopItemOnRoute,\r\n    saveStopItemOnLocation,\r\n    saveRouteOnDetailsPage,\r\n    saveRouteOnRoute,\r\n    removeItemOnFolderEditor,\r\n    moveItemOnFolderEditor\r\n  },\r\n  search: {\r\n    openSearch,\r\n    closeSearch,\r\n    typeTextIntoInput,\r\n    deleteCharFromInput,\r\n    emptyInput,\r\n    openSystemKeyboard,\r\n    switchSearchTypeFilter\r\n  },\r\n  storage: {\r\n    openStorage,\r\n    closeStorage\r\n  },\r\n  dataUsage: {\r\n    openDataUsage,\r\n    closeDataUsage\r\n  },\r\n  personalSchedule: {\r\n    openPersonalScheduleManager,\r\n    closePersonalScheduleManager,\r\n    openPersonalScheduleCreator,\r\n    closePersonalScheduleCreator,\r\n    createFormulatedPersonalSchedule,\r\n    switchPersonalScheduleCreatorDay,\r\n    openPersonalScheduleEditor,\r\n    closePersonalScheduleEditor,\r\n    switchPersonalScheduleEditorDay,\r\n    saveEditedPersonalSchedule\r\n  },\r\n  settings: {\r\n    openSettings,\r\n    closeSettings,\r\n    openSettingsOptions,\r\n    closeSettingsOptions,\r\n    settingsOptionsHandler,\r\n    downloadExportFile,\r\n    openFileToImportData,\r\n    viewCommitOfCurrentVersion,\r\n    showPromptToAskForPersistentStorage\r\n  },\r\n  bus: {\r\n    openBus,\r\n    closeBus\r\n  },\r\n  notification: {\r\n    openNotificationScheduleManager,\r\n    closeNotificationScheduleManager,\r\n    openRegisterNotification,\r\n    closeRegisterNotification,\r\n    saveFormulatedRegisterNotification,\r\n    openScheduleNotification,\r\n    closeScheduleNotification,\r\n    scheduleNotificationForStopItemOnRoute,\r\n    scheduleNotificationForStopItemOnLocation,\r\n    cancelNotificationOnNotificationScheduleManager\r\n  },\r\n  qrcode: {\r\n    openQRCode,\r\n    closeQRCode\r\n  }\r\n};\r\n\r\nexport default window.bus;\r\n","import { getSettingOptionValue } from '../../data/settings/index';\nimport { compareThings } from '../../tools/index';\nimport { elementQuerySelector, elementQuerySelectorAll } from '../../tools/query-selector';\nimport { getIconHTML } from '../icons/index';\nimport { GeneratedElement } from '../index';\n\nlet previousProperties = [];\nlet previousSkeletonScreen: boolean = false;\nlet previousAnimation: boolean = true;\n\nfunction generateElementOfBusProperty(): GeneratedElement {\n  const element = document.createElement('div');\n  element.classList.add('css_bus_property');\n\n  const iconElement = document.createElement('div');\n  iconElement.classList.add('css_bus_property_icon');\n\n  const valueElement = document.createElement('div');\n  valueElement.classList.add('css_bus_property_value');\n\n  element.appendChild(iconElement);\n  element.appendChild(valueElement);\n\n  return {\n    element: element,\n    id: ''\n  };\n}\n\nexport function setUpBusPropertiesFieldSkeletonScreen(Field: HTMLElement) {\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const defaultPropertyQuantity = 5;\n  let properties = [];\n  for (let i = 0; i < defaultPropertyQuantity; i++) {\n    properties.push({\n      key: i,\n      icon: 'none',\n      value: ''\n    });\n  }\n  updateBusPropertiesField(Field, properties, true, playing_animation);\n}\n\nexport function updateBusPropertiesField(Field: HTMLElement, properties: Array, skeletonScreen: boolean, animation: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisProperty: object, previousProperty: object): void {\n    function updateIcon(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_icon').innerHTML = getIconHTML(thisProperty.icon);\n    }\n\n    function updateValue(thisElement: HTMLElement, thisProperty: object): void {\n      elementQuerySelector(thisElement, '.css_bus_property_value').innerText = thisProperty.value;\n    }\n\n    function updateAnimation(thisElement: HTMLElement, animation: boolean): void {\n      thisElement.setAttribute('animation', animation);\n    }\n\n    function updateSkeletonScreen(thisElement: HTMLElement, skeletonScreen: boolean): void {\n      thisElement.setAttribute('skeleton-screen', skeletonScreen);\n    }\n\n    if (previousProperty === null) {\n      updateIcon(thisElement, thisProperty);\n      updateValue(thisElement, thisProperty);\n      updateSkeletonScreen(thisElement, skeletonScreen);\n      updateAnimation(thisElement, animation);\n    } else {\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateIcon(thisElement, thisProperty);\n      }\n      if (!compareThings(previousProperty, thisProperty)) {\n        updateValue(thisElement, thisProperty);\n      }\n      if (skeletonScreen !== previousSkeletonScreen) {\n        updateSkeletonScreen(thisElement, skeletonScreen);\n      }\n      if (animation !== previousAnimation) {\n        updateAnimation(thisElement, animation);\n      }\n    }\n  }\n\n  const propertyQuantity = properties.length;\n\n  // Field.setAttribute('skeleton-screen', skeletonScreen);\n\n  const currentPropertySeatQuantity = elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`).length;\n  if (propertyQuantity !== currentPropertySeatQuantity) {\n    const capacity = currentPropertySeatQuantity - propertyQuantity;\n    if (capacity < 0) {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        // const propertyIndex = currentPropertySeatQuantity + o;\n        const newPropertyElement = generateElementOfBusProperty(skeletonScreen);\n        elementQuerySelector(Field, '.css_bus_group_body').appendChild(newPropertyElement.element);\n      }\n    } else {\n      for (let o = 0; o < Math.abs(capacity); o++) {\n        const propertyIndex = currentPropertySeatQuantity - 1 - o;\n        elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`)[propertyIndex].remove();\n      }\n    }\n  }\n\n  const propertyElements = elementQuerySelectorAll(Field, `.css_bus_group_body .css_bus_property`);\n  for (let i = 0; i < propertyQuantity; i++) {\n    const thisPropertyElement = propertyElements[i];\n    const thisProperty = properties[i];\n    if (previousProperties.length === 0) {\n      updateProperty(thisPropertyElement, thisProperty, null);\n    } else {\n      updateProperty(thisPropertyElement, thisProperty, previousProperties[i]);\n    }\n  }\n\n  previousProperties = properties;\n  previousAnimation = animation;\n  previousSkeletonScreen = skeletonScreen;\n}\n","import { integrateBus } from '../../data/bus/index';\nimport { logRecentView } from '../../data/recent-views/index';\nimport { getSettingOptionValue } from '../../data/settings/index';\nimport { generateIdentifier } from '../../tools/index';\nimport { documentQuerySelector, elementQuerySelector } from '../../tools/query-selector';\nimport { closePreviousPage, openPreviousPage, pushPageHistory } from '../index';\nimport { setUpBusPropertiesFieldSkeletonScreen, updateBusPropertiesField } from './properties';\n\nconst BusField = documentQuerySelector('.css_bus_field');\nconst BusHead = elementQuerySelector(BusField, '.css_bus_head');\nconst BusBody = elementQuerySelector(BusField, '.css_bus_body');\nconst BusGroups = elementQuerySelector(BusBody, '.css_bus_groups');\nconst BusGroupProperties = elementQuerySelector(BusGroups, '.css_bus_group[group=\"properties\"]');\nconst BusGroupLocation = elementQuerySelector(BusGroups, '.css_bus_group[group=\"location\"]');\n\nexport function openBus(id: number): void {\n  pushPageHistory('Bus');\n  logRecentView('bus', id);\n  BusField.setAttribute('displayed', 'true');\n  initializeBusPage(id);\n  closePreviousPage();\n}\n\nexport function closeBus(): void {\n  // revokePageHistory('Bus');\n  BusField.setAttribute('displayed', 'false');\n  openPreviousPage();\n}\n\nasync function initializeBusPage(id: number) {\n  setUpBusPropertiesFieldSkeletonScreen(BusGroupProperties);\n  const playing_animation = getSettingOptionValue('playing_animation') as boolean;\n  const requestID = generateIdentifier();\n  const integration = await integrateBus(id, requestID);\n  updateBusPropertiesField(BusGroupProperties, integration.properties, false, playing_animation);\n}\n\nfunction updateBusField(Field: HTMLElement, integration: object, skeletonScreen: boolean): void {\n  function updateProperty(thisElement: HTMLElement, thisItem: object): void {}\n  function updateLocation(thisElement: HTMLElement, thisItem: object): void {}\n}\n"],"names":["SplashScreenElement","documentQuerySelector","ErrorMessageElement","splashScreenTimer_minimalTimeOut","splashScreenTimer_openTime","Date","getTime","pageHistory","pushPageHistory","page","pageHistoryLength","length","push","revokePageHistory","indexOf","pop","closePreviousPage","closeFolderCreator","closeFolderEditor","closeFolderManager","closeSearch","closeSettings","closePersonalScheduleManager","closePersonalScheduleEditor","closeBus","closeRegisterNotification","openPreviousPage","previousPage","openFolderCreator","openFolderEditor","openFolderManager","openSearch","openSettings","openPersonalScheduleManager","openPersonalScheduleEditor","openBus","openRegisterNotification","setSplashScreenIconOffsetY","offset","isRunningStandalone","window","outerHeight","innerHeight","style","setProperty","fadeOutSplashScreen","callback","fadeOut","classList","add","addEventListener","setAttribute","remove","once","cureentTime","setTimeout","Math","max","showErrorMessage","querySize","type","width","height","windowWidth","innerWidth","windowHeight","LocationField","LocationHeadElement","elementQuerySelector","LocationNameElement","LocationGroupsElement","LocationGroupTabsElement","LocationGroupTabsTrayElement","LocationGroupTabLineTrackElement","LocationGroupTabLineElement","LocationUpdateTimerElement","previousIntegration","previousAnimation","previousSkeletonScreen","locationSliding_initialIndex","locationSliding_targetIndex","locationSliding_groupQuantity","locationSliding_groupStyles","locationSliding_fieldWidth","locationSliding_sliding","locationRefreshTimer_retryInterval","locationRefreshTimer_baseInterval","locationRefreshTimer_minInterval","locationRefreshTimer_dynamicInterval","locationRefreshTimer_dynamic","locationRefreshTimer_lastUpdate","locationRefreshTimer_nextUpdate","locationRefreshTimer_currentRequestID","locationRefreshTimer_refreshing","locationRefreshTimer_streaming","locationRefreshTimer_streamStarted","currentHashSet_hash","tabPadding","initializeLocationSliding","round","scrollLeft","passive","event","currentIndex","target","initialSize","targetSize","tabWidth","abs","updateLocationCSS","groupQuantity","tabLineWidth","percentage","toString","toFixed","handleDataReceivingProgressUpdates","CustomEvent","offsetRatio","detail","progress","stage","document","removeEventListener","generateElementOfItem","identifier","generateIdentifier","itemElement","createElement","id","headElement","rankElement","rankNextSlideElement","rankCurrentSlideElement","appendChild","routeDirectionElement","routeNameElement","capsuleElement","statusElement","nextSlideElement","currentSlideElement","stretchElement","innerHTML","getIconHTML","onclick","stretchLocationItem","capsuleSeparatorElement","bodyElement","buttonsElement","busTabButtonElement","busTabIconElement","createTextNode","switchLocationBodyTab","arrivalTabButtonElement","arrivalTabIconElement","saveButtonElement","saveButtonIconElement","openSaveToFolder","notifyButtonElement","notifyButtonIconElement","openScheduleNotification","busesElement","busArrivalTimesElement","element","generateElementOfGroup","groupElement","detailsElement","detailsBodyElement","itemsElement","generateElementOfGroupDetailsProperty","propertyElement","iconElement","valueElement","updateLocationField","integration","skeletonScreen","animation","updateItem","thisElement","thisItem","previousItem","updateStatus","thisElementRect","getBoundingClientRect","top","left","bottom","right","thisItemStatusElement","status","code","innerText","text","updateRank","thisRankElement","ranking","updateRouteDirection","route_direction","updateRouteName","route_name","updateBuses","buses","map","bus","onThisRoute","carNumber","RouteName","join","updateBusArrivalTimes","thisItemElement","busArrivalTimes","busArrivalTime","personalSchedule","name","indexToDay","day","timeObjectToString","period","start","end","chart","updateStretch","updateAnimation","booleanToString","updateSkeletonScreen","updateSaveToFolderButton","thisItemBodyElement","thisItemButtonsElement","saveToFolderButtonElement","stopId","routeId","isFolderContentSaved","then","e","updateScheduleNotificationButton","scheduleNotificationButtonElement","time","havingNotifcationSchedules","stopHasNotifcationSchedules","number","compareThings","updateProperty","thisProperty","previousProperty","updateIcon","icon","updateValue","value","WindowSize","FieldWidth","FieldHeight","itemQuantity","groupedItems","groups","cumulativeOffset","i","getTextWidth","LocationName","currentGroupSeatQuantity","elementQuerySelectorAll","capacity","o","newGroupElement","newTabElement","LocationGroupElements","LocationGroupTabElements","groupIndex","groupKey","thisLocationGroupElement","currentItemSeatQuantity","LocationGroupItemsElement","newItemElement","LocationGroupItemElements","currentGroupPropertySeatQuantity","groupPropertyQuantity","properties","thisLocationGroupDetailsElement","thisLocationGroupDetailsBodyElement","newPropertyElement","propertyElements","thisTabElement","thisGroupElement","k","hasOwnProperty","j","refreshLocation","_refreshLocation","apply","arguments","playing_animation","getSettingOptionValue","refresh_interval_setting","busArrivalTimeChartSize","dynamic","baseInterval","integrateLocation","updateRate","getUpdateRate","dataUpdateTime","streamLocation","err","promptMessage","openLocation","hash","logRecentView","defaultItemQuantity","g_0","floor","g_1","key","setUpLocationFieldSkeletonScreen","closeLocation","itemElementID","itemBodyElement","parentElement","elementsBelowItemElement","getElementsBelow","elementsBelowLength","itemsElementRect","itemElementY","stretched","getAttribute","pushDirection","itemID","tabCode","_step","_iterator","_createForOfIteratorHelper","s","n","done","f","busInitialized","busSecondlyInitialized","initialize","initializeSettings","setUpRecentViewsFieldSkeletonScreen","setUpFolderFieldSkeletonScreen","checkAppVersion","initializeRouteSliding","resizeSearchInputCanvas","screen","orientation","initializeRecentViews","initializeFolderList","initializeFolders","mediaQuery","matchMedia","searchInputElement","updateSearchInput","selectionStart","selectionEnd","updateSearchResult","searchMaterialSymbolsInputElement","updateMaterialSymbolsSearchResult","openPermalink","loadNotificationClient","initializeNotificationSchedules","discardExpiredNotificationSchedules","askForPositioningPermission","askForCalibratingPermission","error","secondlyInitialize","downloadData","discardExpiredUpdateRateDataGroups","discardExpiredDataUsageStats","recoverBusArrivalTimeDataFromWriteAheadLog","discardExpiredRecentViews","initializeUpdateRateDataGroups","recoverUpdateRateDataFromWriteAheadLog","route","closeRoute","switchRoute","closeRouteDetails","location","folder","closeSaveToFolder","openFolderIconSelector","closeFolderIconSelector","createFormulatedFolder","saveEditedFolder","selectFolderIcon","saveStopItemOnRoute","saveStopItemOnLocation","saveRouteOnDetailsPage","saveRouteOnRoute","removeItemOnFolderEditor","moveItemOnFolderEditor","search","typeTextIntoInput","deleteCharFromInput","emptyInput","openSystemKeyboard","switchSearchTypeFilter","storage","openStorage","closeStorage","dataUsage","openDataUsage","closeDataUsage","openPersonalScheduleCreator","closePersonalScheduleCreator","createFormulatedPersonalSchedule","switchPersonalScheduleCreatorDay","switchPersonalScheduleEditorDay","saveEditedPersonalSchedule","settings","openSettingsOptions","closeSettingsOptions","settingsOptionsHandler","downloadExportFile","openFileToImportData","viewCommitOfCurrentVersion","showPromptToAskForPersistentStorage","notification","openNotificationScheduleManager","closeNotificationScheduleManager","saveFormulatedRegisterNotification","closeScheduleNotification","scheduleNotificationForStopItemOnRoute","scheduleNotificationForStopItemOnLocation","cancelNotificationOnNotificationScheduleManager","qrcode","openQRCode","closeQRCode","previousProperties","generateElementOfBusProperty","updateBusPropertiesField","Field","propertyQuantity","currentPropertySeatQuantity","propertyIndex","thisPropertyElement","BusField","BusBody","BusGroups","BusGroupProperties","_x","_initializeBusPage","initializeBusPage","setUpBusPropertiesFieldSkeletonScreen","requestID","integrateBus"],"sourceRoot":""}