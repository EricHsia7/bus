"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[1837,4218],{2648(e,n,t){t.d(n,{$:()=>u});var r=t(7968);function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return a(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){l=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw i}}}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var i=t(157);function u(e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,c=[[[-1,0],[0,-1]],[[0,-1],[1,0]],[[1,0],[0,1]],[[0,1],[-1,0]]],s=[[[-1,0],[-1,-1],[0,-1]],[[0,-1],[1,-1],[1,0]],[[1,0],[1,1],[0,1]],[[0,1],[-1,1],[-1,0]]],f=function(e,n){for(var t=i.create(e,{errorCorrectionLevel:n}),r=t.modules.size,o=[],a=0;a<r;a++){for(var u=[],l=0;l<r;l++){var c=t.modules.get(l,a);u.push(c)}o.push(u)}return o}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L"),d=f.length,h=[],p=0;p<d;p++)for(var g=0;g<d;g++)if(1===f[p][g]){for(var v=new Uint8Array(4),y=0;y<4;y++){var m,b=1,S=o(c[y]);try{for(S.s();!(m=S.n()).done;){var w,$=m.value;1===(null===(w=f[p+$[1]])||void 0===w?void 0:w[g+$[0]])&&(b*=0)}}catch(e){S.e(e)}finally{S.f()}v[y]=b}h=h.concat((0,r.mX)((g+a)*l,(p+a)*l,1*l,1*l,{tl:v[0]*n*l,tr:v[1]*n*l,br:v[2]*n*l,bl:v[3]*n*l},!1))}else{for(var k=new Uint8Array(4),A=0;A<4;A++){var M,x=1,j=o(s[A]);try{for(j.s();!(M=j.n()).done;){var D,I=M.value;null!==(D=f[p+I[1]])&&void 0!==D&&D[g+I[0]]||(x*=0)}}catch(e){j.e(e)}finally{j.f()}k[A]=x}k.some(function(e){return 0!==e})&&(h=h.concat((0,r.mX)((g+a)*l,(p+a)*l,1*l,1*l,{tl:k[0]*t*l,tr:k[1]*t*l,br:k[2]*t*l,bl:k[3]*t*l},!0)))}return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${(d+2*a)*l} ${(d+2*a)*l}" shape-rendering="geometricPrecision"><path d="${h.join(" ")}" fill="${u}" stroke="${u}" stroke-width="0.1" stroke-linejoin="round" fill-rule="nonzero" /></svg>`}},4256(e,n,t){t.d(n,{_q:()=>c,bj:()=>u,pD:()=>l});var r=t(2129),o=t(2945);function a(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return i(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw a}}}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e){var n=[{suffixes:"市",key:"city",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"區",key:"district",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"鄉鎮村里",key:"area",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{suffixes:"路街道",key:"road",process:function(e){return null===e?null:e.map(function(e){return e.replaceAll(/[\(\)（）]/gim,"").trim()})},type:0},{suffixes:"段",key:"road_section",process:function(e){for(var n=function(e){switch(e){case"一":return 1;case"二":return 2;case"三":return 3;case"四":return 4;case"五":return 5;case"六":return 6;case"七":return 7;case"八":return 8;case"九":return 9;case"十":return 10}return isNaN(parseInt(e))?0:parseInt(e)},t=String(e).length,r=[],o=0;o<t;o++){var a=n(String(e).charAt(o));10===a?r.length>0&&(r=[10*r.reduce(function(e,n){return e+n},0)]):r=[r.reduce(function(e,n){return e+n},0)+a]}return r},type:0},{suffixes:"巷",key:"alley",process:function(e){return null===e?null:e.map(function(e){return parseInt(e.trim().replaceAll(/[巷]/gim))})},type:0},{suffixes:"弄",key:"alley_branch",process:function(e){return null===e?null:e.map(function(e){return parseInt(e.trim().replaceAll(/[弄]/gim))})},type:0},{suffixes:"號",key:"doorplate",process:function(e){var n,t=String(e).match(/[0-9]+/gim);return t=(null===(n=t)||void 0===n?void 0:n.map(function(e){return null===e?null:parseInt(e)}))||null},type:0},{suffixes:"樓",key:"floornumber",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:0},{key:"exit",process:function(e){return null===e?null:e.map(function(e){return e.trim()})},type:2},{key:"direction",process:function(e){return null===e?null:e.map(function(e){return e.trim().replace(/[往向]/gim,"")})},type:1}];function t(e){function t(e,n){return 0===n?new RegExp(`([^市區鄉鎮村里路段街道巷弄號樓與]+[${e}])`,"gmi"):1===n?new RegExp("([往向]+[東南西北])","gmi"):2===n?new RegExp("([0-9]+[號]出口)","gmi"):void 0}for(var r={},o=0,a=n;o<a.length;o++){var i,u=a[o],l=t(null===(i=u)||void 0===i?void 0:i.suffixes,u.type);r[u.key]=u.process(String(e).match(l))}return r}return function(e){var r,o={},i=a(e);try{for(i.s();!(r=i.n()).done;)for(var u=t(r.value),l=0,c=n;l<c.length;l++){var s=c[l];o.hasOwnProperty(s.key)||(o[s.key]=[]),o[s.key]=o[s.key].concat(u[s.key])}}catch(e){i.e(e)}finally{i.f()}for(var f in o)o[f]=Array.from(new Set(o[f])).filter(function(e){return!!e}).sort(function(e,n){return"number"==typeof e&&"number"==typeof n?e-n:String(e).charCodeAt(0)-String(n).charCodeAt(0)});return o}(e)}function l(e){return`${e.city.join("")}${e.district.join("")}${e.road.join("、")}${e.road_section.sort(function(e,n){return e-n}).length>0?e.road_section.join("、")+"段":""}${e.alley.length>0?e.alley.sort(function(e,n){return e-n}).join("、")+"巷":""}${e.alley_branch.length>0?e.alley_branch.sort(function(e,n){return e-n}).join("、")+"弄":""}${e.doorplate.length>0?e.doorplate.sort(function(e,n){return e-n}).join("、")+"號":""}${e.floornumber.length>0?e.floornumber.join("、")+"樓":""}${e.direction.length>0?"（朝"+e.direction.join("、")+"）":""}`}function c(e){var n,t=[],i={},u=a(e);try{for(u.s();!(n=u.n()).done;){var l=n.value;for(var c in l)i.hasOwnProperty(c)||(i[c]=0),l[c].length>0&&(i[c]=i[c]+1)}}catch(e){u.e(e)}finally{u.f()}var s=Object.entries(i).map(function(e){return{key:e[0],value:e[1]}}).filter(function(n){return n.value===e.length}).sort(function(e,n){return e.value-n.value});if(s.length>0){var f,d=a(s);try{for(d.s();!(f=d.n()).done;){var h,p=f.value,g=[],v=-1/0,y=a(e);try{for(y.s();!(h=y.n()).done;){var m=h.value[p.key].join("");g.push(m);var b=m.length;b>v&&(v=b)}}catch(e){y.e(e)}finally{y.f()}(0,r.W8)(g)&&t.push({components:g,len:v})}}catch(e){d.e(e)}finally{d.f()}}if(t.length>0)return t.sort(function(e,n){return e.len-n.len}),t[0].components;var S=e.length;return(0,o.V)(S)}},5428(e,n,t){function r(e){var n=Math.hypot(e),t=e.length,r=new Float32Array(t);if(n>0){for(var o=1/n,a=t;a>0;a--)r[a]=e[a]*o;return Array.from(r)}return e}t.d(n,{hF:()=>r})},5579(e,n,t){function r(){var e=new Date,n=e.getDay(),t=e.getDate()-n,r=new Date;return r.setDate(t),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),r}function o(e,n,t,r){var o=new Date;return o.setDate(1),o.setMonth(0),o.setHours(t),o.setMinutes(r),o.setSeconds(0),o.setMilliseconds(0),o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()),o.setDate(e.getDate()),o.setDate(o.getDate()+n),o}function a(e){var n=e.match(/[0-9\.]*/gm);if(n){var t=parseInt(n[0]),r=parseInt(n[2]),o=parseInt(n[4]),a=parseInt(n[6]),i=parseInt(n[8]),u=parseInt(n[10]),l=new Date;return l.setDate(1),l.setMonth(0),l.setFullYear(t),l.setMonth(r-1),l.setDate(o),l.setHours(a),l.setMinutes(i),l.setSeconds(u),l.getTime()}return 0}function i(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss").replaceAll(/Y{4,4}/g,e.getFullYear()).replaceAll(/M{2,2}/g,String(e.getMonth()+1).padStart(2,"0")).replaceAll(/D{2,2}/g,String(e.getDate()).padStart(2,"0")).replaceAll(/h{2,2}/g,String(e.getHours()).padStart(2,"0")).replaceAll(/m{2,2}/g,String(e.getMinutes()).padStart(2,"0")).replaceAll(/s{2,2}/g,String(e.getSeconds()).padStart(2,"0"))}function u(e){var n=e.getTime(),t=Math.floor(((new Date).getTime()-n)/1e3),r=Math.floor(t/31536e3);return r>=1?`${r}年前`:(r=Math.floor(t/2592e3))>=1?`${r}個月前`:(r=Math.floor(t/86400))>=1?`${r}天前`:(r=Math.floor(t/3600))>=1?`${r}小時前`:(r=Math.floor(t/60))>=1?`${r}分鐘前`:t>0?`${t}秒前`:"現在"}function l(e,n){var t=0|e;switch(n){case 0:return`${t}秒`;case 1:return[String((t-t%60)/60),String(t%60)].map(function(e){return e.padStart(2,"0")}).join(":");case 2:return`${t/60|0}分`;case 3:if(t>=3600)return`${parseFloat((t/3600).toFixed(1))}時`;if(60<=t&&t<3600)return`${t/60|0}分`;if(t<60)return`${t}秒`;break;default:return"--"}}function c(e){return[{name:"日",day:0,code:"d_0"},{name:"一",day:1,code:"d_1"},{name:"二",day:2,code:"d_2"},{name:"三",day:3,code:"d_3"},{name:"四",day:4,code:"d_4"},{name:"五",day:5,code:"d_5"},{name:"六",day:6,code:"d_6"}][e]}function s(e){return c(parseInt(e)-1)}function f(e){return`${String(e.hours).padStart(2,"0")}:${String(e.minutes).padStart(2,"0")}`}t.d(n,{$T:()=>i,HN:()=>u,P$:()=>r,S1:()=>o,Zn:()=>a,fU:()=>l,kd:()=>c,mr:()=>s,pn:()=>f})},8024(e,n,t){t.d(n,{FU:()=>l,Fx:()=>o,MR:()=>s,Zf:()=>a,hw:()=>i,p1:()=>f,xZ:()=>d,zx:()=>u});var r=t(9119),o=t(3503),a=t(4462).sha512;function i(e,n){function t(e){return JSON.stringify({e})}var r=t(e),a=t(n),i=r.length,u=a.length;if(i===u){if(i>32||u>32){for(var l=o(r),c=o(a),s=!0,f=0;f<8;f++){if(l.charAt(f)!==c.charAt(f)){s=!1;break}}return s}return r===a}return!1}function u(){var e=[[48,10],[97,26],[65,26]],n=Math.floor(268435456*Math.random()),t=Math.floor(268435456*Math.random()),r=new Uint8Array(17);r[0]=95;for(var o=16;o>0;o--){var a=e[t%3],i=a[0]+n%a[1];r[o]=i,n>>>=1,t>>>=1}return String.fromCharCode.apply(null,r)}function l(e){return((new Date).getTime()/e|0).toString(16)}function c(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32e3,r=URL.createObjectURL(e),o=document.createElement("a");return o.href=r,o.download=n,document.body.appendChild(o),o.click(),o.remove(),setTimeout(function(){URL.revokeObjectURL(r)},t),r}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json",t=arguments.length>2?arguments[2]:void 0,o=new Blob([e],{type:n}),a=new File([o],t,{type:n});navigator.canShare&&navigator.canShare({files:[a]})?navigator.share({files:[a]}).catch(function(e){(0,r.a)("download","下載資料",{text:"下載",action:function(){c(o,t)}})}):c(o,t)}function f(){return!(!("ontouchstart"in window)&&!navigator.maxTouchPoints)}function d(e){if("boolean"==typeof e)return e?"true":"false"}},9469(e,n,t){t.d(n,{i:()=>r});t(8134),t(3030),t(4690);function r(e,n){var t=new URL("https://erichsia7.github.io/bus/");switch(e){case 0:t.searchParams.set("permalink",`0@${parseInt(n.id).toString(16)}~${n.name}`);break;case 1:t.searchParams.set("permalink",`1@${n.hash}`)}return decodeURIComponent(t.toString())}},9519(e,n,t){t(4668)}}]);
//# sourceMappingURL=2b77d722687a0b07b48d.js.map