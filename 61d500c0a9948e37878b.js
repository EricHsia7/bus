"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[327],{2757:(t,n,r)=>{r.d(n,{R:()=>b});var e=r(6788),i=r(2063),a=r(8011),o=r(7810),u=r(4293),c=r(424),l=r(3459),f=r(4256),s=r(2945),y=r(2303),d=r(6483),p=r(6802);function v(t,n,r,e,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,i)}function h(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return m(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function g(t,n){var r={},e=[];for(var i in t){var a=t[i],o=a.StopID,u=parseInt(a.EstimateTime);u>=0&&n.indexOf(o)>-1&&e.push([o,u])}var c=e.length;e.sort((function(t,n){return t[1]-n[1]}));for(var l=1,f=0,s=e;f<s.length;f++){var y=l/c,d=(y-y%.25)/.25,p=s[f][0];r["s_".concat(p)]={number:l,text:l.toString(),code:d},l+=1}return r}function b(t,n,r,e){return _.apply(this,arguments)}function _(){var t;return t=function*(t,n,r,v){(0,e.Mf)(v,"getLocation_0",0,!1),(0,e.Mf)(v,"getLocation_1",0,!1),(0,e.Mf)(v,"getRoute_0",0,!1),(0,e.Mf)(v,"getRoute_1",0,!1),(0,e.Mf)(v,"getStop_0",0,!1),(0,e.Mf)(v,"getStop_1",0,!1),(0,e.Mf)(v,"getEstimateTime_0",0,!1),(0,e.Mf)(v,"getEstimateTime_1",0,!1),(0,e.Mf)(v,"getBusEvent_0",0,!1),(0,e.Mf)(v,"getBusEvent_1",0,!1);for(var m=yield(0,i.K)(v),b=yield(0,a.g)(v,!0),_=yield(0,u.a)(v,!0),S=yield(0,c.T)(v),w=yield(0,o.J)(v),O=yield(0,p.d)(v),I=yield(0,d.Io)(n,r),A=(0,l.Js)("time_formatting_mode"),x=(0,l.Js)("location_labels"),C={},k={},J={},P=b["ml_".concat(t)],T=P.n,L=P.id,N=P.v,M=[],D=[],j=L.length,E=0;E<j;E++)M=M.concat(P.s[E]),D=D.concat(P.r[E]);var Q=function(t,n){var r,e={},i=h(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.indexOf(a.StopID)>-1&&(e["s_".concat(a.StopID)]=a)}}catch(t){i.e(t)}finally{i.f()}return e}(m,M),$=(0,y.AS)(w,O,_,M),z=[];switch(x){case"address":z=(0,f._q)(P.a);break;case"letters":z=(0,s.V)(j);break;case"directions":z=(0,s.M)(N)}for(var R=0;R<j;R++){var B="g_".concat(R);C[B]=[],k[B]=0,J[B]={name:z[R],properties:[{key:"address",icon:"personal_places",value:(0,f.pD)(P.a[R])},{key:"exact_position",icon:"location_on",value:"".concat(P.la[R].toFixed(5),", ").concat(P.lo[R].toFixed(5))}]};for(var F=P.s[R],U=F.length,q=g(Q,F),K=0;K<U;K++){var V={},Z=P.s[R][K],X="s_".concat(Z),G={};if(S.hasOwnProperty(X)){G=S[X],V.stopId=Z;var H={number:0,text:"--",code:-1};q.hasOwnProperty(X)&&(H=q[X]),V.ranking=H;var W=P.r[R][K],Y="r_".concat(W),tt={};if(_.hasOwnProperty(Y)){tt=_[Y],V.route_name=tt.n,V.route_direction="å¾€".concat([tt.des,tt.dep,""][parseInt(G.goBack)]),V.routeId=W;var nt={};if(Q.hasOwnProperty(X)){nt=Q[X];var rt=(0,y.$Q)(nt.EstimateTime,A);V.status=rt;var et=[];$.hasOwnProperty(X)&&(et=$[X].map((function(t){return(0,y.s$)(t)}))),V.buses=et;var it=[];I.hasOwnProperty(X)&&(it=I[X]),V.busArrivalTimes=it,C[B].push(V),k[B]+=1}}}}}for(var at in C)C[at].sort((function(t,n){return t.routeId-n.routeId}));var ot={groupedItems:C,groups:J,groupQuantity:j,itemQuantity:k,LocationName:T,dataUpdateTime:(0,e.Zt)(v)};return(0,e.LQ)(v),(0,e.gC)(v),ot},_=function(){var n=this,r=arguments;return new Promise((function(e,i){var a=t.apply(n,r);function o(t){v(a,e,i,o,u,"next",t)}function u(t){v(a,e,i,o,u,"throw",t)}o(void 0)}))},_.apply(this,arguments)}},5427:(t,n,r)=>{r.d(n,{Qx:()=>b});var e=r(9566),i=r(5352),a=r(5314),o=r(3459),u=r(4311);function c(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return l(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function f(t,n,r,e,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,i)}function s(t){return function(){var n=this,r=arguments;return new Promise((function(e,i){var a=t.apply(n,r);function o(t){f(a,e,i,o,u,"next",t)}function u(t){f(a,e,i,o,u,"throw",t)}o(void 0)}))}}function y(t){return d.apply(this,arguments)}function d(){return(d=s((function*(t){var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i,o=!1,l=!1,f="f_".concat(a.id);if((yield(0,u.Ct)(11,f))?o=yield(0,e.g$)(a.id,a.name,a.icon):l=yield(0,e.vV)(a.name,a.icon),o){var s,y=c(i.content);try{for(y.s();!(s=y.n()).done;){var d=s.value;yield(0,e.z$)(i.id,d)}}catch(t){y.e(t)}finally{y.f()}}if(l){var p,v=c(i.content);try{for(v.s();!(p=v.n()).done;){var h=p.value;yield(0,e.z$)(l,h)}}catch(t){v.e(t)}finally{v.f()}}}}catch(t){r.e(t)}finally{r.f()}}))).apply(this,arguments)}function p(t){return v.apply(this,arguments)}function v(){return(v=s((function*(t){var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var e=n.value,i=(0,o.PL)(e.key);i&&"select"===i.type&&(yield(0,o.aN)(e.key,e.option))}}catch(t){r.e(t)}finally{r.f()}return!0}))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=s((function*(t){var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var e=n.value;(yield(0,i.qZ)(e.id))?yield(0,i.nL)(e):yield(0,i.Qh)(e.name,e.period.start.hours,e.period.start.minutes,e.period.end.hours,e.period.end.minutes,e.days)}}catch(t){r.e(t)}finally{r.f()}return!0}))).apply(this,arguments)}function g(){return(g=s((function*(t){var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var e=n.value;switch(e.type){case"route":(yield(0,a.DF)("route",e.id))||(yield(0,a.XK)(e.type,e.id));break;case"location":(yield(0,a.DF)("location",e.hash))||(yield(0,a.XK)(e.type,e.hash));break;case"bus":(yield(0,a.DF)("bus",e.id))||(yield(0,a.XK)(e.type,e.id))}}}catch(t){r.e(t)}finally{r.f()}return!0}))).apply(this,arguments)}function b(t){return _.apply(this,arguments)}function _(){return _=s((function*(t){var n=JSON.parse(t);switch(n.version){case 1:return yield y(n.folders),!0;case 2:return yield y(n.folders),yield p(n.settings),!0;case 3:return yield y(n.folders),yield p(n.settings),yield h(n.personal_schedules),!0;case 4:return yield y(n.folders),yield p(n.settings),yield h(n.personal_schedules),yield function(t){return g.apply(this,arguments)}(n.recent_views),!0;default:return!1}})),_.apply(this,arguments)}},5976:(t,n,r)=>{r.d(n,{R:()=>d});var e=r(6483),i=r(8925),a=r(5767),o=r(9566),u=r(5352),c=r(5314),l=r(3459);function f(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return s(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function y(t,n,r,e,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,i)}function d(){return p.apply(this,arguments)}function p(){var t;return t=function*(){var t={},n=yield(0,o.uT)();t.folders=n,t.folderContentIndex={};var r,s=f(n);try{for(s.s();!(r=s.n()).done;){var y=r.value,d="f_".concat(y.id),p=yield(0,o.do)(y.id);folderContentIndex[d]=p}}catch(t){s.e(t)}finally{s.f()}var v=yield(0,o.$j)([]);t.folderContent=v;var h=(0,l.Gn)();t.settings=h;var m=yield(0,u.ty)();t.personalSchedules=m;var g=yield(0,c.Qj)();t.recentViews=g,t.analytics={};var b=yield(0,e.lT)();t.analytics.busArrivalTime=b;var _=(0,a.QI)();t.analytics.updateRate=_;var S=yield(0,i.Zc)();return t.analytics.dataUsage=S,t.version=5,t.timestamp=(new Date).getTime(),JSON.stringify(t)},p=function(){var n=this,r=arguments;return new Promise((function(e,i){var a=t.apply(n,r);function o(t){y(a,e,i,o,u,"next",t)}function u(t){y(a,e,i,o,u,"throw",t)}o(void 0)}))},p.apply(this,arguments)}},6160:(t,n,r)=>{r.d(n,{i:()=>p});var e=r(8134),i=r(6802),a=r(7810),o=r(9734),u=r(8011),c=r(424),l=r(2303),f=r(6788);function s(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return y(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function d(t,n,r,e,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,i)}function p(t,n){return v.apply(this,arguments)}function v(){var t;return t=function*(t,n){var r="c_".concat(t),y=yield(0,o.j)(n,!0),d=yield(0,i.d)(n),p=yield(0,a.J)(n),v=yield(0,c.T)(n),h=yield(0,u.g)(n,!1),m={properties:[],LocationName:""},g={};if(!y.hasOwnProperty(r))return m;var b=(g=y[r]).CarNum;m.properties.push({key:"car_number",icon:"tag",value:b});var _=g.CarType,S=(0,l.Ov)(_);m.properties.push({key:"car_type",icon:"directions_bus",value:S});var w,O={},I=s(d);try{for(I.s();!(w=I.n()).done;){var A=w.value;if(A.BusID===b){O=A;break}}}catch(t){I.e(t)}finally{I.f()}var x,C=parseInt(O.RouteID),k=O.BusStatus,J=(0,l.eu)(k),P=parseInt(O.GoBack),T={},L=s(p);try{for(L.s();!(x=L.n()).done;){var N=x.value;if(N.BusID===b){T=N;break}}}catch(t){L.e(t)}finally{L.f()}var M=T.CarOnStop,D=(0,l.zi)(M);m.properties.push({key:"status",icon:"vital_signs",value:"".concat(D," | ").concat(J)});var j=T.StopID,E=yield(0,e.F6)(C),Q={};if(!(E.length>0))return m;var $=(Q=E[0]).id,z=Q.pid,R=Q.n,B=Q.dep,F=[Q.des,B,""][P||0];m.properties.push({key:"route",icon:"route",value:"".concat(R," - å¾€").concat(F)}),m.RouteID=$,m.FullPathAttributeId=z;var U="s_".concat(j);if(!v.hasOwnProperty(U))return m;var q=v[U].stopLocationId,K=h["l_".concat(q)].n;return m.properties.push({key:"location_name",icon:"location_on",value:K}),(0,f.LQ)(n),(0,f.gC)(n),m},v=function(){var n=this,r=arguments;return new Promise((function(e,i){var a=t.apply(n,r);function o(t){d(a,e,i,o,u,"next",t)}function u(t){d(a,e,i,o,u,"throw",t)}o(void 0)}))},v.apply(this,arguments)}},9566:(t,n,r)=>{r.d(n,{$j:()=>E,Fq:()=>X,L2:()=>C,LH:()=>F,NC:()=>q,R_:()=>$,Rh:()=>S,Xi:()=>D,aq:()=>V,bq:()=>H,do:()=>N,eD:()=>J,g$:()=>A,uT:()=>k,vV:()=>O,z$:()=>R});var e=r(2303),i=r(4311),a=r(8024),o=r(3459),u=r(9930),c=r(6788),l=r(2063),f=r(5767),s=r(424),y=r(8011),d=r(4293),p=r(6483);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function h(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return m(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function g(t,n,r,e,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,i)}function b(t){return function(){var n=this,r=arguments;return new Promise((function(e,i){var a=t.apply(n,r);function o(t){g(a,e,i,o,u,"next",t)}function u(t){g(a,e,i,o,u,"throw",t)}o(void 0)}))}}var _={};function S(){return w.apply(this,arguments)}function w(){return(w=b((function*(){var t,n=h(yield(0,i.Su)(11));try{for(n.s();!(t=n.n()).done;){var r=t.value,e=yield(0,i.Ct)(11,r);if(e){var a=JSON.parse(e);_.hasOwnProperty(r)||(_[r]=a)}}}catch(t){n.e(t)}finally{n.f()}}))).apply(this,arguments)}function O(t,n){return I.apply(this,arguments)}function I(){return(I=b((function*(t,n){var r=(0,a.zx)("r"),e=yield(0,u.z)(r);if((0,c.LQ)(r),(0,c.gC)(r),e.indexOf(n)<0)return!1;var o=(0,a.zx)(),l="f_".concat(o);if(_.hasOwnProperty(l))return!1;if(yield(0,i.Ct)(11,l))return!1;var f={name:t,icon:n,id:o,timestamp:(new Date).getTime()};return _[l]=f,yield(0,i.mL)(11,l,JSON.stringify(f)),yield(0,i.mL)(12,l,JSON.stringify([])),o}))).apply(this,arguments)}function A(t,n,r){return x.apply(this,arguments)}function x(){return(x=b((function*(t,n,r){var e="f_".concat(t),o=yield(0,i.Ct)(11,e);if(!o)return!1;var l=JSON.parse(o),f=(0,a.zx)("r"),s=yield(0,u.z)(f);if((0,c.LQ)(f),(0,c.gC)(f),s.indexOf(r)<0)return!1;var y={name:n,icon:r,id:t,timestamp:l.timestamp};return _[e]=y,yield(0,i.mL)(11,e,JSON.stringify(y)),!0}))).apply(this,arguments)}function C(t){var n="f_".concat(t);return!!_.hasOwnProperty(n)&&{name:_[n].name,icon:_[n].icon,id:_[n].id,timestamp:_[n].timestamp}}function k(){var t=[];for(var n in _){var r={name:_[n].name,icon:_[n].icon,id:_[n].id,timestamp:_[n].timestamp};t.push(r)}return t.sort((function(t,n){return t.timestamp-n.timestamp})),t}function J(t){return P.apply(this,arguments)}function P(){return(P=b((function*(t){var n=[],r="f_".concat(t),e=C(t);if("boolean"==typeof e&&!1===e)return n;var a=yield(0,i.Ct)(12,r);if(!a)return n;var o=JSON.parse(a);if(0===o.length){return n.push({type:"empty",id:0}),n}var u,c=h(o);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=yield(0,i.Ct)(13,l);if(f){var s=JSON.parse(f);n.push(s)}}}catch(t){c.e(t)}finally{c.f()}return n}))).apply(this,arguments)}function T(t){return L.apply(this,arguments)}function L(){return(L=b((function*(t){var n="f_".concat(t),r=yield(0,i.Ct)(12,n);return r?JSON.parse(r).length:0}))).apply(this,arguments)}function N(t){return M.apply(this,arguments)}function M(){return(M=b((function*(t){var n="f_".concat(t),r=yield(0,i.Ct)(12,n);return r?JSON.parse(r):[]}))).apply(this,arguments)}function D(){return j.apply(this,arguments)}function j(){return(j=b((function*(){var t,n=[],r=h(yield k());try{for(r.s();!(t=r.n()).done;){var e=t.value,i=yield J(e.id),a=yield T(e.id);n.push({name:e.name,icon:e.icon,id:e.id,timestamp:e.timestamp,content:i,contentLength:a})}}catch(t){r.e(t)}finally{r.f()}return n}))).apply(this,arguments)}function E(t){return Q.apply(this,arguments)}function Q(){return(Q=b((function*(t){var n=!0;"object"===v(t)&&Array.isArray(t)?0===t.length&&(n=!1):n=!1;var r,e=[],a=h(yield(0,i.Su)(13));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=yield(0,i.Ct)(13,o);if(u){var c=JSON.parse(u);n?t.indexOf(c.type)>-1&&e.push(c):e.push(c)}}}catch(t){a.e(t)}finally{a.f()}return e}))).apply(this,arguments)}function $(t){return z.apply(this,arguments)}function z(){return(z=b((function*(t){(0,c.Mf)(t,"getEstimateTime_0",0,!1),(0,c.Mf)(t,"getEstimateTime_1",0,!1),(0,c.Mf)(t,"getRoute_0",0,!1),(0,c.Mf)(t,"getRoute_1",0,!1);var n,r=yield(0,l.K)(t),i=yield(0,d.a)(t,!0),a=yield D(),u=(0,o.Js)("time_formatting_mode"),s=(0,o.Js)("power_saving"),y=(0,o.Js)("refresh_interval"),v=[],m=h(a);try{for(m.s();!(n=m.n()).done;){var g=n.value;v=v.concat(g.content.filter((function(t){return"stop"===t.type})).map((function(t){return t.id})))}}catch(t){m.e(t)}finally{m.f()}var b,_={},S=h(r);try{for(S.s();!(b=S.n()).done;){var w=b.value;if(v.indexOf(w.StopID)>-1)_["s_".concat(w.StopID)]=w}}catch(t){S.e(t)}finally{S.f()}var O,I=[],A=h(a);try{for(A.s();!(O=A.n()).done;){var x,C=O.value,k={name:C.name,icon:C.icon,id:C.id,timestamp:C.timestamp,content:[],contentLength:C.contentLength},J=h(C.content);try{for(J.s();!(x=J.n()).done;){var P=x.value;switch(P.type){case"stop":var T="s_".concat(P.id),L={};if(!_.hasOwnProperty(T))break;L=_[T],P.status=(0,e.$Q)(L.EstimateTime,u);var N=i["r_".concat(P.route.id)];P.route.pathAttributeId=N.pid;break;case"route":var M=i["r_".concat(P.id)];P.pathAttributeId=M.pid}k.content.push(P)}}catch(t){J.e(t)}finally{J.f()}I.push(k)}}catch(t){A.e(t)}finally{A.f()}var j={folders:I,dataUpdateTime:(0,c.Zt)(t)};return(0,c.LQ)(t),(0,c.gC)(t),s||(y.dynamic&&(yield(0,f.Eu)(r)),yield(0,p.VZ)(r)),j}))).apply(this,arguments)}function R(t,n){return B.apply(this,arguments)}function B(){return(B=b((function*(t,n){var r="f_".concat(t),e="".concat(n.type,"_").concat(n.id),a=C(t);if("boolean"==typeof a&&!1===a)return!1;var o=yield(0,i.Ct)(12,r);if(!o)return!1;var u=JSON.parse(o);return(0===u.length||u.indexOf(e)<0)&&(yield(0,i.mL)(12,r,JSON.stringify(u.concat(e))),yield(0,i.mL)(13,e,JSON.stringify(n)),!0)}))).apply(this,arguments)}function F(t,n){return U.apply(this,arguments)}function U(){return(U=b((function*(t,n){var r,e="".concat(t,"_").concat(n),a=h(yield(0,i.Su)(12));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=yield(0,i.Ct)(12,o);if(u)if(JSON.parse(u).indexOf(e)>-1)return!0}}catch(t){a.e(t)}finally{a.f()}return!1}))).apply(this,arguments)}function q(t,n,r){return K.apply(this,arguments)}function K(){return(K=b((function*(t,n,r){var e="f_".concat(t),a="".concat(n,"_").concat(r),o=C(t);if("boolean"==typeof o&&!1===o)return!1;var u=yield(0,i.Ct)(12,e);if(!u)return!1;var c=JSON.parse(u),l=c.indexOf(a);return l>-1&&c.length>0&&(c.splice(l,1),yield(0,i.mL)(12,e,JSON.stringify(c))),!1===(yield F(n,r))&&(yield(0,i.iQ)(13,a)),!0}))).apply(this,arguments)}function V(t,n,r){return Z.apply(this,arguments)}function Z(){return(Z=b((function*(t,n,r){var e=(0,a.zx)("r"),i=yield(0,s.T)(e),o=yield(0,y.g)(e,!1),u=yield(0,d.a)(e,!0),c=i["s_".concat(n)],l=parseInt(c.goBack),f=o["l_".concat(c.stopLocationId)].n,p=u["r_".concat(r)],v=p.n,h=p.dep,m=p.des,g={type:"stop",id:n,timestamp:(new Date).getTime(),name:f,direction:l,route:{name:v,endPoints:{departure:h,destination:m},id:r}};return yield R(t,g)}))).apply(this,arguments)}function X(t,n){return G.apply(this,arguments)}function G(){return(G=b((function*(t,n){var r=(0,a.zx)("r"),e=yield(0,d.a)(r,!0);(0,c.LQ)(r),(0,c.gC)(r);var i="r_".concat(n),o={};if(!e.hasOwnProperty(i))return!1;o=e[i];var u={type:"route",id:n,timestamp:(new Date).getTime(),name:o.n,endPoints:{departure:o.dep,destination:o.des}};return yield R(t,u)}))).apply(this,arguments)}function H(t,n,r,e){return W.apply(this,arguments)}function W(){return(W=b((function*(t,n,r,e){var a="f_".concat(t),o="".concat(n,"_").concat(r),u=C(t);if("boolean"==typeof u&&!1===u)return!1;var c=yield(0,i.Ct)(12,a);if(!c)return!1;var l=JSON.parse(c),f=l.indexOf(o);if(f>-1&&l.length>1){var s=0;switch(e){case"up":s=-1;break;case"down":s=1;break;default:s=0}return l.splice(f,1),l.splice(f+s,0,o),yield(0,i.mL)(12,a,JSON.stringify(l)),!0}return!1}))).apply(this,arguments)}}}]);
//# sourceMappingURL=61d500c0a9948e37878b.js.map