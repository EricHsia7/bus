"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[196],{3441(e,t,n){n.d(t,{default:()=>q});var a=n(6483),i=n(8925),r=n(5767),o=n(9566),c=n(3422),d=n(5314),l=n(3459),s=n(3251),u=n(1238),p=n(1531),f=n(4884),v=n(9499),h=n(6052),m=n(6189),b=n(8379),g=n(540),y=n(6082),I=n(6091),w=n(904),C=n(1351),k=n(3030),E=n(2174),L=n(8380),_=n(5693),S=n(7891),A=n(8279),F=n(7908),P=n(5286),D=n(4690),T=n(3041),x=n(752),M=n(5009),Y=n(6104),N=n(6166),$=n(2994),R=n(9469),H=n(8179),W=(n(4800),n(5259),n(6764),n(2547),n(8933),n(6971),n(7336),n(6561),n(6110),n(9080),n(1818),n(9590),n(1844),n(2239),n(6597),n(9991),n(3777),n(2696),n(5461),n(2421),n(3058),n(1102),n(7868),n(6388),n(3127),n(1743),n(1306),n(9731),n(245),n(4071),n(5135),n(8969),n(1003),n(4472),n(4620),n(9714),n(2681),n(124),n(3381),n(9351),n(1077),n(7037),n(9205),n(3534),n(6018),n(5392),n(1308),n(7225),n(9598),n(626),n(5504),n(6780),n(969),n(7943),n(4721),n(4263),n(3963),n(1542),n(6153),n(112),n(5374),n(5666),n(8558),n(1452),n(2676),n(1195),n(5068),n(1469),n(4935),n(321),n(6907),n(3257),n(7537),n(2503),n(1511),n(4305),n(8983),n(5995),n(5228),n(1078),n(1603),n(3749),n(7723),n(7287),n(7217),n(3425),n(6171),n(8073),n(928),n(7113),n(6340),n(6384),n(3382),n(3011),n(1484),!1),z=!1;window.bus={initialize:function(){!1===W&&(W=!0,(0,w.BM)(),(0,l.Yq)().then(function(){(0,I.Q)(),(0,g.F)(),(0,s.A)().then(function(e){if("ok"===e){(0,D.S5)(),(0,k.s_)(),(0,M.HI)(),window.addEventListener("resize",function(){(0,M.HI)()}),screen&&screen.orientation&&screen.orientation.addEventListener("change",function(){(0,M.HI)()}),(0,I.u)(),(0,o.Rh)().then(function(){(0,g.a)()}),(0,M.x6)();var t=(0,H.bv)(".nd .pd .qd #search_material_symbols_input");t.addEventListener("paste",function(){(0,m.Pk)(t.value)}),t.addEventListener("cut",function(){(0,m.Pk)(t.value)}),t.addEventListener("selectionchange",function(){(0,m.Pk)(t.value)}),document.addEventListener("selectionchange",function(){(0,m.Pk)(t.value)}),t.addEventListener("keyup",function(){(0,m.Pk)(t.value)}),(0,R._)(),(0,w.AE)(function(){(0,c.Db)(),(0,c.cS)().then(function(){(0,c.z9)()}),document.addEventListener("click",function(){(0,p.to)(),(0,u.q)()},{once:!0})})}"fetchError"!==e&&"unknownError"!==e||((0,w.f1)(),(0,w.AE)())}).catch(function(){(0,w.f1)(),(0,w.AE)()})}))},secondlyInitialize:function(){z||(z=!0,(0,y.X)(),(0,i.Ir)(),(0,a.$t)(),(0,d.FU)(),(0,r.g4)().then(function(){(0,r.MN)().then(function(){(0,r.cy)()})}))},route:{closeRoute:D.U7,closeRouteDetails:P.GZ},location:{closeLocation:k.eS,closeLocationDetails:C.co},folder:{closeSaveToFolder:T.n,closeFolderManager:b.m,closeFolderIconSelector:m.jW,openFolderCreator:h.pd,closeFolderCreator:h.z1,createFormulatedFolder:h.c6},search:{openSearch:M.rf,closeSearch:M.Bb,switchSearchTypeFilter:M.H2},storage:{closeStorage:$.Q},dataUsage:{closeDataUsage:v.i},personalSchedule:{closePersonalScheduleManager:S.Z,openPersonalScheduleCreator:L.I1,closePersonalScheduleCreator:L.GJ,createFormulatedPersonalSchedule:L.Ps,switchPersonalScheduleCreatorDay:L.om,openPersonalScheduleEditor:_.bF,closePersonalScheduleEditor:_.Xy,switchPersonalScheduleEditorDay:_.Dn,saveEditedPersonalSchedule:_.gv},settings:{openSettings:Y.Ow,closeSettings:Y.os,closeSettingsOptions:N.wx},bus:{closeBus:f.FN},notification:{closeNotificationScheduleManager:E.m_,openRegisterNotification:F.XG,closeRegisterNotification:F.hy,saveFormulatedRegisterNotification:F.NW,closeScheduleNotification:x.b$},qrcode:{closeQRCode:A.Vc}};const q=window.bus},4884(e,t,n){n.d(t,{N4:()=>I,FN:()=>C,$l:()=>w});var a=n(467),i=n(6160),r=n(5314),o=n(3459),c=n(8179),d=n(8024),l=n(904),s=n(4537),u=[],p=!1,f=!1;function v(){var e=document.createElement("div");e.classList.add("db");var t=document.createElement("div");t.classList.add("eb"),t.appendChild((0,s.oC)());var n=document.createElement("div");return n.classList.add("fb"),e.appendChild(t),e.appendChild(n),e}function h(e,t,n){function a(e,a,i){function r(e,t){var n=(0,c.aI)(e,".eb");(0,s.yD)(n,t.icon)}function o(e,t){(0,c.aI)(e,".fb").innerText=t.value}function l(e,t){e.setAttribute("animation",t)}function u(e,t){e.setAttribute("skeleton-screen",t)}null==i?(r(e,a),o(e,a),u(e,t),l(e,n)):((0,d.hw)(i,a)||r(e,a),(0,d.hw)(i,a)||o(e,a),t!==p&&u(e,t),n!==f&&l(e,n))}var i=e.length,r=Array.from((0,c.jg)(I,".db")),o=r.length;if(i!==o){var l=o-i;if(l<0){for(var h=new DocumentFragment,m=0;m>l;m--){var b=v();h.appendChild(b),r.push(b)}I.append(h)}else if(l>0)for(var g=o-1,y=o-l-1;g>y;g--)r[g].remove(),r.splice(g,1)}for(var w=0;w<i;w++){var C=r[w],k=e[w];u[w]?a(C,k,u[w]):a(C,k,null)}u=e,f=n,p=t}var m=(0,c.bv)(".la"),b=((0,c.aI)(m,".na"),(0,c.aI)(m,".ua")),g=(0,c.aI)(b,".va"),y=(0,c.aI)(g,'.wa[group="properties"]'),I=(0,c.aI)(y,".ab");(0,c.aI)(g,'.wa[group="location"]');function w(e){(0,l.WR)("Bus"),(0,r.XK)("bus",e),m.setAttribute("displayed","true"),function(e){k.apply(this,arguments)}(e),(0,l.Z_)()}function C(){m.setAttribute("displayed","false"),(0,l.l$)()}function k(){return(k=(0,a.A)(function*(e){!function(){for(var e=(0,o.Js)("playing_animation"),t=[],n=0;n<5;n++)t.push({key:n,icon:"",value:""});h(t,!0,e)}();var t=(0,o.Js)("playing_animation"),n=(0,d.zx)();h((yield(0,i.i)(e,n)).properties,!1,t)})).apply(this,arguments)}},6052(e,t,n){n.d(t,{c6:()=>f,pd:()=>v,z1:()=>h});var a=n(9566),i=n(8179),r=n(6189),o=n(904),c=n(9119),d=(0,i.bv)("._c"),l=(0,i.aI)(d,".ed"),s=(0,i.aI)(l,".fd"),u=(0,i.aI)(s,'.gd[group="folder-name"] .kd input'),p=(0,i.aI)(s,'.gd[group="folder-icon"] .kd .ld input');function f(){var e=u.value,t=p.value;(0,a.vV)(e,t).then(function(e){e?(h(),(0,c.a)("folder","已建立資料夾")):(0,c.a)("error","無法建立資料夾")})}function v(){(0,o.WR)("FolderCreator"),d.setAttribute("displayed","true"),(0,o.Z_)()}function h(){d.setAttribute("displayed","false"),(0,o.l$)()}(0,i.aI)(s,'._c .ed .fd .gd[group="folder-icon"] .kd .ld .md').onclick=function(){(0,r.r7)("creator")}},6189(e,t,n){n.d(t,{Pk:()=>I,jW:()=>C,r7:()=>w});var a=n(467),i=n(9218),r=n(6788),o=n(972),c=n(8179),d=n(8024),l=n(4781),s=n(6082),u=n(4537),p=n(904),f=n(9119),v="",h=(0,c.bv)(".bc"),m=(0,c.bv)("._c"),b=(0,c.bv)(".nd");function g(e){var t=document.createElement("div");return t.classList.add("vd"),t.onclick=function(){!function(e){var t;switch(v){case"editor":t=(0,c.aI)(h,'.fc .gc .hc[group="folder-icon"] .lc .nc input');break;case"creator":t=(0,c.aI)(m,'.ed .fd .gd[group="folder-icon"] .kd .ld input')}t.value=e,C()}(e)},t.appendChild((0,u.YC)(e)),t}function y(){return(y=(0,a.A)(function*(){var e=(0,c.aI)(b,".sd .td");e.innerHTML="";var t=(0,d.zx)(),n=yield(0,i.l)(t);(0,r.LQ)(t);var a=new DocumentFragment,o=n.dictionary.split(",");for(var l in n.symbols){for(var s=l.split("_"),u=s.length-1;u>=0;u--)s.splice(u,1,o[parseInt(s[u])]);var p=g(s.join("_"));a.appendChild(p)}e.append(a)})).apply(this,arguments)}function I(e){var t=(0,c.aI)(b,".sd .ud"),n=(0,c.aI)(b,".sd .td");if(!(0,l.iO)(e)){var a=(0,o.U)(e),i=new DocumentFragment;for(var r of a){var d=g(r.item);i.appendChild(d)}t.innerHTML="",t.append(i),t.setAttribute("displayed",a.length>0?"true":"false"),n.setAttribute("displayed",a.length>0?"false":"true")}}function w(e){switch((0,p.WR)("FolderIconSelector"),e){case"editor":v="editor",(0,c.aI)(h,'.fc .gc .hc[group="folder-icon"] .lc .nc .oc');break;case"creator":v="creator",(0,c.aI)(m,'.ed .fd .gd[group="folder-icon"] .kd .ld .md')}s.m?(b.setAttribute("displayed","true"),function(){y.apply(this,arguments)}(v),(0,o.L)()):(0,f.a)("download_for_offline","資料還在下載中")}function C(){(0,p.kr)("FolderIconSelector"),b.setAttribute("displayed","false")}},8379(e,t,n){n.d(t,{g:()=>v,m:()=>h});var a=n(467),i=n(9566),r=n(8179),o=n(9333),c=n(4537),d=n(904),l=(0,r.bv)(".mb"),s=(0,r.aI)(l,".rb"),u=(0,r.aI)(s,".sb");function p(e){var t=document.createElement("div");t.classList.add("tb"),t.onclick=function(){(0,o.uy)(e.id)};var n=document.createElement("div");n.classList.add("ub"),n.appendChild((0,c.YC)(e.icon));var a=document.createElement("div");a.classList.add("vb"),a.innerText=e.name;var i=document.createElement("div");i.classList.add("wb"),i.innerText=String(e.contentLength);var r=document.createElement("div");return r.classList.add("ac"),r.appendChild((0,c.YC)("arrow_forward_ios")),t.appendChild(n),t.appendChild(a),t.appendChild(i),t.appendChild(r),t}function f(){return(f=(0,a.A)(function*(){var e=yield(0,i.l9)();u.innerHTML="";var t=new DocumentFragment;for(var n of e){var a=p(n);t.appendChild(a)}u.append(t)})).apply(this,arguments)}function v(){(0,d.WR)("FolderManager"),l.setAttribute("displayed","true"),function(){f.apply(this,arguments)}()}function h(){(0,d.kr)("FolderManager"),l.setAttribute("displayed","false")}},9333(e,t,n){n.d(t,{I6:()=>k,uy:()=>C});var a=n(467),i=n(9566),r=n(8179),o=n(6189),c=n(4537),d=n(904),l=n(9119),s=(0,r.bv)(".bc"),u=(0,r.aI)(s,".cc"),p=(0,r.aI)(u,".dc"),f=(0,r.aI)(s,".fc"),v=(0,r.aI)(f,".gc"),h=(0,r.aI)(v,'.hc[group="folder-name"] .lc input'),m=(0,r.aI)(v,'.hc[group="folder-icon"] .lc .nc input'),b=(0,r.aI)(v,'.hc[group="folder-icon"] .lc .nc .oc'),g=(0,r.aI)(v,'.hc[group="folder-content"] .lc');function y(e,t){var n=document.createElement("div");n.classList.add("pc"),n.setAttribute("type",t.type);var a="",r="",o="";switch(t.type){case"stop":o="location_on",a=`${t.route?t.route.name:""} - 往${t.route?[t.route.endPoints.destination,t.route.endPoints.departure,""][t.direction?t.direction:0]:""}`,r=t.name;break;case"route":o="route",a=`${t.endPoints.departure} ↔ ${t.endPoints.destination}`,r=t.name;break;case"location":o="location_on",a="地點",r=t.name;break;case"bus":a="",r=t.name;break;case"empty":o="lightbulb",a="提示",r="沒有內容";break;default:o="",a="null",r="null"}var d=document.createElement("div");d.classList.add("qc"),d.appendChild((0,c.YC)(o));var s=document.createElement("div");s.classList.add("rc"),s.innerText=a;var u=document.createElement("div");u.classList.add("tc"),u.innerText=r;var p=document.createElement("div");p.classList.add("uc");var f=document.createElement("div");f.classList.add("vc"),f.appendChild((0,c.YC)("keyboard_arrow_down")),f.onclick=function(){E(n,e.id,t.type,t.id,"up")};var v=document.createElement("div");v.classList.add("wc"),v.appendChild((0,c.YC)("keyboard_arrow_down")),v.onclick=function(){E(n,e.id,t.type,t.id,"down")};var h=document.createElement("div");h.classList.add("xc"),h.appendChild((0,c.YC)("delete")),h.onclick=function(){!function(e,t,n,a){(0,i.NC)(t,n,a).then(function(t){if(t)switch(e.remove(),n){case"stop":(0,l.a)("delete","已移除站牌");break;case"route":(0,l.a)("delete","已移除路線");break;case"location":(0,l.a)("delete","已移除地點")}else(0,l.a)("error","無法移除")})}(n,e.id,t.type,t.id)};var m=document.createElement("div");m.classList.add("yc");var b=document.createElement("div");return b.classList.add("yc"),p.appendChild(f),p.appendChild(v),p.appendChild(h),p.appendChild(m),p.appendChild(b),n.appendChild(d),n.appendChild(s),n.appendChild(u),n.appendChild(p),n}function I(e,t){h.value=e.name,m.value=e.icon,p.onclick=function(){var t,n,a;t=e.id,n=h.value,a=m.value,(0,i.g$)(t,n,a).then(function(e){e?(k(),(0,l.a)("check_circle","已儲存變更")):(0,l.a)("error","無法儲存")})},g.innerHTML="";var n=new DocumentFragment;for(var a of t){var r=y(e,a);n.appendChild(r)}g.append(n)}function w(){return(w=(0,a.A)(function*(e){I((0,i.L2)(e),yield(0,i.eD)(e))})).apply(this,arguments)}function C(e){(0,d.WR)("FolderEditor"),s.setAttribute("displayed","true"),function(e){w.apply(this,arguments)}(e),(0,d.Z_)()}function k(){s.setAttribute("displayed","false"),(0,d.l$)()}function E(e,t,n,a,r){(0,i.bq)(t,n,a,r).then(function(t){if(t)switch(r){case"up":var n=e.previousElementSibling;n&&e.parentNode.insertBefore(e,n),(0,l.a)("arrow_circle_up","已往上移");break;case"down":var a=e.nextElementSibling;a&&e.parentNode.insertBefore(a,e),(0,l.a)("arrow_circle_down","已往下移")}else(0,l.a)("error","無法移動")})}b.onclick=function(){(0,o.r7)("editor")}},9499(e,t,n){n.d(t,{i:()=>I,k:()=>y});var a=n(467),i=n(8925),r=n(7183),o=n(8179),c=n(5579),d=n(904),l=(0,o.bv)(".wd"),s=(0,o.aI)(l,"._d"),u=(0,o.aI)(s,".ae"),p=(0,o.aI)(s,".be"),f=(0,o.aI)(p,'.ce[name="total-data-usage"] .ee'),v=(0,o.aI)(p,'.ce[name="max-data-usage-per-minute"] .ee'),h=(0,o.aI)(p,'.ce[name="min-data-usage-per-minute"] .ee'),m=(0,o.aI)(p,'.ce[name="start-time"] .ee'),b=(0,o.aI)(p,'.ce[name="end-time"] .ee');function g(){return(g=(0,a.A)(function*(){var e=(0,d.gO)("window"),t=e.width,n=Math.min(5/18*t,.33*e.height),a=yield(0,i.LN)(t,n,20);f.innerText=(0,r.tH)(a.stats.sum),v.innerText=(0,r.tH)(a.stats.max),h.innerText=(0,r.tH)(a.stats.min),m.innerText=(0,c.$T)(a.period.start,"YYYY-MM-DD"),b.innerText=(0,c.$T)(a.period.end,"YYYY-MM-DD"),u.innerHTML=a.chart})).apply(this,arguments)}function y(){(0,d.WR)("DataUsage"),l.setAttribute("displayed","true"),function(){g.apply(this,arguments)}(),(0,d.Z_)()}function I(){l.setAttribute("displayed","false"),(0,d.l$)()}}}]);
//# sourceMappingURL=630792665f3c9f297685.js.map